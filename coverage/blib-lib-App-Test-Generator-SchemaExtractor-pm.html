<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.51
Devel::Cover is copyright 2001-2025, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
https://pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: blib/lib/App/Test/Generator/SchemaExtractor.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/App/Test/Generator/SchemaExtractor.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">43.3%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td class="s">package App::Test::Generator::SchemaExtractor;</td></tr>
<tr><td class="h">2</td><td colspan="6"></td></tr><tr><td class="h">3</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3">1</a></div></td><td><div>86715</div><div>1</div><div>12</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">4</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4">1</a></div></td><td><div>2</div><div>1</div><div>20</div></td><td class="s">use warnings;</td></tr>
<tr><td class="h">5</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L5">1</a></div></td><td><div>204</div><div>8117</div><div>3</div></td><td class="s">use autodie qw(:all);</td></tr>
<tr><td class="h">6</td><td colspan="6"></td></tr><tr><td class="h">7</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L7">1</a></div></td><td><div>9090</div><div>2</div><div>22</div></td><td class="s">use Carp qw(carp croak);</td></tr>
<tr><td class="h">8</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L8">1</a></div></td><td><div>2</div><div>1</div><div>17</div></td><td class="s">use Data::Dumper;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# For debugging</td></tr>
<tr><td class="h">9</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L9">1</a></div></td><td><div>221</div><div>67512</div><div>21</div></td><td class="s">use PPI;</td></tr>
<tr><td class="h">10</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L10">1</a></div></td><td><div>178</div><div>16484</div><div>20</div></td><td class="s">use Pod::Simple::Text;</td></tr>
<tr><td class="h">11</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L11">1</a></div></td><td><div>216</div><div>1252</div><div>29</div></td><td class="s">use YAML::XS;</td></tr>
<tr><td class="h">12</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L12">1</a></div></td><td><div>3</div><div>0</div><div>31</div></td><td class="s">use File::Basename;</td></tr>
<tr><td class="h">13</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L13">1</a></div></td><td><div>3</div><div>1</div><div>17</div></td><td class="s">use File::Path qw(make_path);</td></tr>
<tr><td class="h">14</td><td><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L14">1</a></div></td><td><div>2</div><div>1</div><div>13955</div></td><td class="s">use Scalar::Util qw(looks_like_number);</td></tr>
<tr><td class="h">15</td><td colspan="6"></td></tr><tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td class="s">our $VERSION = &#39;0.21&#39;;</td></tr>
<tr><td class="h">17</td><td colspan="6"></td></tr><tr><td class="h">18</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Configure YAML::XS to not quote numeric strings</td></tr>
<tr><td class="h">19</td><td></td><td></td><td></td><td></td><td></td><td class="s">$YAML::XS::QuoteNumericStrings = 0;</td></tr>
<tr><td class="h">20</td><td colspan="6"></td></tr><tr><td class="h">21 - 767</td><td colspan="5"></td><td class="s"><pre>=head1 NAME

App::Test::Generator::SchemaExtractor - Extract test schemas from Perl modules

=head1 VERSION

Version 0.21

=head1 SYNOPSIS

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use App::Test::Generator::SchemaExtractor;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $extractor = App::Test::Generator::SchemaExtractor-&gt;new(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_file =&gt; &#39;lib/MyModule.pm&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir =&gt; &#39;schemas/&#39;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose =&gt; 1,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $schemas = $extractor-&gt;extract_all();

=head1 DESCRIPTION

App::Test::Generator::SchemaExtractor automatically analyzes Perl modules and generates
structured YAML schema files suitable for automated test generation by L&lt;App::Test::Generator&gt;.
This module employs
static analysis techniques to infer parameter types, constraints, and
method behaviors directly from your source code.

=head2 Analysis Methods

The extractor combines multiple analysis approaches for comprehensive schema generation:

=over 4

=item * B&lt;POD Documentation Analysis&gt;

Parses embedded documentation to extract:
&nbsp;&nbsp;- Parameter names, types, and descriptions from =head2 sections
&nbsp;&nbsp;- Method signatures with positional parameters
&nbsp;&nbsp;- Return value specifications from &quot;Returns:&quot; sections
&nbsp;&nbsp;- Constraints (ranges, patterns, required/optional status)
&nbsp;&nbsp;- Semantic type detection (email, URL, filename)

=item * B&lt;Code Pattern Detection&gt;

Analyzes source code using PPI to identify:
&nbsp;&nbsp;- Method signatures and parameter extraction patterns
&nbsp;&nbsp;- Type validation (ref(), isa(), blessed())
&nbsp;&nbsp;- Constraint patterns (length checks, numeric comparisons, regex matches)
&nbsp;&nbsp;- Return statement analysis and value type inference
&nbsp;&nbsp;- Object instantiation requirements and accessor methods

=item * B&lt;Signature Analysis&gt;

Examines method declarations for:
&nbsp;&nbsp;- Parameter names and positional information
&nbsp;&nbsp;- Instance vs. class method detection
&nbsp;&nbsp;- Method modifiers (Moose-style before/after/around)
&nbsp;&nbsp;- Various parameter declaration styles (shift, @_ assignment)

=item * B&lt;Heuristic Inference&gt;

Applies Perl-specific domain knowledge:
&nbsp;&nbsp;- Boolean return detection from method names (is_*, has_*, can_*)
&nbsp;&nbsp;- Common Perl idioms and coding patterns
&nbsp;&nbsp;- Context awareness (scalar vs list, wantarray usage)
&nbsp;&nbsp;- Object-oriented patterns (constructors, accessors, chaining)

=back

=head2 Generated Schema Structure

The extracted schemas follow this YAML structure:

&nbsp;&nbsp;&nbsp;&nbsp;function: method_name
&nbsp;&nbsp;&nbsp;&nbsp;module: Package::Name
&nbsp;&nbsp;&nbsp;&nbsp;input:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;param1:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: string
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min: 3
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max: 50
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optional: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;param2:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: integer
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max: 100
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optional: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position: 1
&nbsp;&nbsp;&nbsp;&nbsp;output:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: boolean
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: 1
&nbsp;&nbsp;&nbsp;&nbsp;new: Package::Name # if object instantiation required
&nbsp;&nbsp;&nbsp;&nbsp;config:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_empty: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_nuls: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_undef: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_non_ascii: 0

=head2 Advanced Detection Capabilities

=over 4

=item * B&lt;Accessor Method Detection&gt;

Automatically identifies getter, setter, and combined accessor methods
by analyzing common patterns like C&lt;return $self-E&lt;gt&gt;{field}&gt; and
C&lt;$self-E&lt;gt&gt;{field} = $value&gt;.

=item * B&lt;Boolean Return Inference&gt;

Detects boolean-returning methods through multiple signals:
&nbsp;&nbsp;- Method name patterns (is_*, has_*, can_*)
&nbsp;&nbsp;- Return patterns (consistent 1/0 returns)
&nbsp;&nbsp;- POD descriptions (&quot;returns true on success&quot;)
&nbsp;&nbsp;- Ternary operators with boolean results

=item * B&lt;Context Awareness&gt;

Identifies methods that use C&lt;wantarray&gt; and can return different
values in scalar vs list context.

=item * B&lt;Object Lifecycle Management&gt;

Detects instance methods requiring object instantiation and
automatically adds the C&lt;new&gt; field to schemas.

=item * B&lt;Enhanced Object Detection&gt;

The extractor now includes sophisticated object detection capabilities that go beyond simple instance method identification:

=over 4

=item * B&lt;Factory Method Recognition&gt;

Automatically identifies methods that create and return object instances, such as methods named C&lt;create_*&gt;, C&lt;make_*&gt;, C&lt;build_*&gt;, or C&lt;get_*&gt;. Factory methods are correctly classified as class methods that don&#39;t require pre-existing objects for testing.

=item * B&lt;Singleton Pattern Detection&gt;

Recognizes singleton patterns through multiple signals: method names like C&lt;instance&gt; or C&lt;get_instance&gt;, static variables holding instance references, lazy initialization patterns (C&lt;$instance ||= new()&gt;), and consistent return of the same instance variable.

=item * B&lt;Constructor Parameter Analysis&gt;

Examines C&lt;new&gt; methods to determine required and optional parameters, validation requirements, and default values. This enables test generators to provide appropriate constructor arguments when object instantiation is needed.

=item * B&lt;Inheritance Relationship Handling&gt;

Detects parent classes through C&lt;use parent&gt;, C&lt;use base&gt;, and C&lt;@ISA&gt; declarations. Identifies when methods use C&lt;SUPER::&gt; calls and determines whether the current class or a parent class constructor should be used for object instantiation.

=item * B&lt;External Object Dependency Detection&gt;

Identifies when methods create or depend on objects from other classes, enabling proper test setup with mock objects or real dependencies.

=back

These enhancements ensure that generated test schemas accurately reflect the object-oriented structure of the code, leading to more meaningful and effective test generation.

=back

=head2 Confidence Scoring

Each generated schema includes detailed confidence assessments:

=over 4

=item * B&lt;High Confidence&gt;

Multiple independent analysis sources converge on consistent,
well-constrained parameters with explicit validation logic and
comprehensive documentation.

=item * B&lt;Medium Confidence&gt;

Reasonable evidence from code patterns or partial documentation,
but may lack comprehensive constraints or have some ambiguities.

=item * B&lt;Low Confidence&gt;

Minimal evidence - primarily based on naming conventions,
default assumptions, or single-source analysis.

=item * B&lt;Very Low Confidence&gt;

Barely any detectable signals - schema should be thoroughly
reviewed before use in test generation.

=back

=head2 Use Cases

=over 4

=item * B&lt;Automated Test Generation&gt;

Generate comprehensive test suites with L&lt;App::Test::Generator&gt; using
extracted schemas as input. The schemas provide the necessary structure
for generating both positive and negative test cases.

=item * B&lt;API Documentation Generation&gt;

Supplement existing documentation with automatically inferred interface
specifications, parameter requirements, and return types.

=item * B&lt;Code Quality Assessment&gt;

Identify methods with poor documentation, inconsistent parameter handling,
or unclear interfaces that may benefit from refactoring.

=item * B&lt;Refactoring Assistance&gt;

Detect method dependencies, object instantiation requirements, and
parameter usage patterns to inform refactoring decisions.

=item * B&lt;Legacy Code Analysis&gt;

Quickly understand the interface contracts of legacy Perl codebases
without extensive manual code reading.

=back

=head2 Integration with Testing Ecosystem

The generated schemas are specifically designed to work with the
L&lt;App::Test::Generator&gt; ecosystem:

&nbsp;&nbsp;&nbsp;&nbsp;# Extract schemas from your module
&nbsp;&nbsp;&nbsp;&nbsp;my $extractor = App::Test::Generator::SchemaExtractor-&gt;new(...);
&nbsp;&nbsp;&nbsp;&nbsp;my $schemas = $extractor-&gt;extract_all();

&nbsp;&nbsp;&nbsp;&nbsp;# Use with test generator (typically as separate steps)
&nbsp;&nbsp;&nbsp;&nbsp;# fuzz-harness-generator -r schemas/method_name.yaml

=head2 Limitations and Considerations

=over 4

=item * B&lt;Dynamic Code Patterns&gt;

Highly dynamic code (string evals, AUTOLOAD, symbolic references)
may not be fully detected by static analysis.

=item * B&lt;Complex Validation Logic&gt;

Sophisticated validation involving multiple parameters or external
dependencies may require manual schema refinement.

=item * B&lt;Confidence Heuristics&gt;

Confidence scores are based on heuristics and should be reviewed
by developers familiar with the codebase.

=item * B&lt;Perl Idiom Recognition&gt;

Some Perl-specific idioms may require custom pattern recognition
beyond the built-in detectors.

=item * B&lt;Documentation Dependency&gt;

Analysis quality improves significantly with comprehensive POD
documentation following consistent patterns.

=back

=head2 Best Practices for Optimal Results

=over 4

=item * B&lt;Comprehensive POD Documentation&gt;

Write detailed POD with explicit parameter documentation using
consistent patterns like C&lt;$param - type (constraints), description&gt;.

=item * B&lt;Consistent Coding Patterns&gt;

Use consistent parameter validation patterns and method signatures
throughout your codebase.

=item * B&lt;Schema Review Process&gt;

Review and refine automatically generated schemas, particularly
those with low confidence scores.

=item * B&lt;Descriptive Naming&gt;

Use descriptive method and parameter names that clearly indicate
purpose and expected types.

=item * B&lt;Progressive Enhancement&gt;

Start with automatically generated schemas and progressively
refine them based on test results and code understanding.

=back

The module is particularly valuable for large codebases where manual schema
creation would be prohibitively time-consuming, and for maintaining test
coverage as code evolves through continuous integration pipelines.

=head2 Advanced Type Detection

The schema extractor includes enhanced type detection capabilities that identify specialized Perl types beyond basic strings and integers.
L&lt;DateTime&gt; and L&lt;Time::Piece&gt; objects are detected through isa() checks and method call patterns, while date strings (ISO 8601, YYYY-MM-DD) and UNIX timestamps are recognized through regex validation and numeric range checks.
File handles and file paths are identified via I/O operations and file test operators, coderefs are detected through ref() checks and invocation patterns, and enum-like parameters are extracted from validation code including regex patterns (C&lt;/^(a|b|c)$/&gt;), hash lookups, grep statements, and if/elsif chains.
These detected types are preserved in the generated YAML schemas with appropriate semantic annotations, enabling test generators to create more accurate and meaningful test cases.

=head3 Example Advanced Type Schema

For a method like:

&nbsp;&nbsp;&nbsp;&nbsp;sub process_event {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $timestamp, $status, $callback) = @_;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak unless $timestamp &gt; 1000000000;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak unless $status =~ /^(active|pending|complete)$/;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak unless ref($callback) eq &#39;CODE&#39;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$callback-&gt;($timestamp, $status);
&nbsp;&nbsp;&nbsp;&nbsp;}

The extractor generates:

&nbsp;&nbsp;&nbsp;&nbsp;---
&nbsp;&nbsp;&nbsp;&nbsp;function: process_event
&nbsp;&nbsp;&nbsp;&nbsp;module: MyModule
&nbsp;&nbsp;&nbsp;&nbsp;input:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timestamp:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: integer
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# min: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# max: 2147483647
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_note: Unix timestamp
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;semantic: unix_timestamp
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: string
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enum:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- active
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- pending
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- complete
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_note: &#39;Must be one of: active, pending, complete&#39;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: coderef
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position: 2
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_note: &#39;CODE reference - provide sub { } in tests&#39;

=head1 RELATIONSHIP DETECTION

The schema extractor now detects relationships and dependencies between parameters,
enabling more sophisticated validation and test generation.

=head2 Relationship Types

=over 4

=item * B&lt;mutually_exclusive&gt;

Parameters that cannot be used together.

&nbsp;&nbsp;&nbsp;&nbsp;die if $file &amp;&amp; $content;&nbsp;&nbsp;# Can&#39;t specify both

Generated schema:

&nbsp;&nbsp;&nbsp;&nbsp;relationships:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: mutually_exclusive
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params: [file, content]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: Cannot specify both file and content

=item * B&lt;required_group&gt;

At least one parameter from the group must be specified (OR logic).

&nbsp;&nbsp;&nbsp;&nbsp;die unless $id || $name;&nbsp;&nbsp;# Must provide one

Generated schema:

&nbsp;&nbsp;&nbsp;&nbsp;relationships:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: required_group
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params: [id, name]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logic: or
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: Must specify either id or name

=item * B&lt;conditional_requirement&gt;

If one parameter is specified, another becomes required (IF-THEN logic).

&nbsp;&nbsp;&nbsp;&nbsp;die if $async &amp;&amp; !$callback;&nbsp;&nbsp;# async requires callback

Generated schema:

&nbsp;&nbsp;&nbsp;&nbsp;relationships:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: conditional_requirement
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if: async
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then_required: callback
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: When async is specified, callback is required

=item * B&lt;dependency&gt;

One parameter depends on another being present.

&nbsp;&nbsp;&nbsp;&nbsp;die &quot;Port requires host&quot; if $port &amp;&amp; !$host;

Generated schema:

&nbsp;&nbsp;&nbsp;&nbsp;relationships:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: dependency
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;param: port
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requires: host
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: port requires host to be specified

=item * B&lt;value_constraint&gt;

Specific value requirements between parameters.

&nbsp;&nbsp;&nbsp;&nbsp;die if $ssl &amp;&amp; $port != 443;&nbsp;&nbsp;# ssl requires port 443

Generated schema:

&nbsp;&nbsp;&nbsp;&nbsp;relationships:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: value_constraint
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if: ssl
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then: port
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator: ==
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: 443
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: When ssl is specified, port must equal 443

=item * B&lt;value_conditional&gt;

Parameter required when another has a specific value.

&nbsp;&nbsp;&nbsp;&nbsp;die if $mode eq &#39;secure&#39; &amp;&amp; !$key;

Generated schema:

&nbsp;&nbsp;&nbsp;&nbsp;relationships:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: value_conditional
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if: mode
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals: secure
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then_required: key
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: When mode equals &#39;secure&#39;, key is required

=back

=head2 Default Value Extraction

The extractor now comprehensively extracts default values from both code and POD documentation:

=head3 Code Pattern Recognition

Extracts defaults from multiple Perl idioms:

=over 4

=item * Logical OR operator: C&lt;$param = $param || &#39;default&#39;&gt;

=item * Defined-or operator: C&lt;$param //= &#39;default&#39;&gt;

=item * Ternary operator: C&lt;$param = defined $param ? $param : &#39;default&#39;&gt;

=item * Unless conditional: C&lt;$param = &#39;default&#39; unless defined $param&gt;

=item * Chained defaults: C&lt;$param = $param || $self-&gt;{default} || &#39;fallback&#39;&gt;

=item * Multi-line patterns: C&lt;$param = {} unless $param&gt;

=back

=head3 POD Pattern Recognition

Extracts defaults from documentation:

=over 4

=item * Standard format: C&lt;Default: &#39;value&#39;&gt;

=item * Alternative format: C&lt;Defaults to: &#39;value&#39;&gt;

=item * Inline format: C&lt;Optional, default: &#39;value&#39;&gt;

=item * Parameter lists: C&lt;$param - type, default &#39;value&#39;&gt;

=back

=head3 Value Processing

Properly handles:

=over 4

=item * String literals with quotes and escape sequences

=item * Numeric values (integers and floats)

=item * Boolean values (true/false converted to 1/0)

=item * Empty data structures ([] and {})

=item * Special values (undef, __PACKAGE__)

=item * Complex expressions (preserved as-is when unevaluatable)

=item * Quote operators (q{}, qq{}, qw{})

=back

=head3 Type Inference

When a parameter has a default value but no explicit type annotation,
the type is automatically inferred from the default:

&nbsp;&nbsp;&nbsp;&nbsp;$options = {}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# inferred as hashref
&nbsp;&nbsp;&nbsp;&nbsp;$items = []&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# inferred as arrayref
&nbsp;&nbsp;&nbsp;&nbsp;$count = 42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# inferred as integer
&nbsp;&nbsp;&nbsp;&nbsp;$ratio = 3.14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# inferred as number
&nbsp;&nbsp;&nbsp;&nbsp;$enabled = 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# inferred as boolean

=head2 Context-Aware Return Analysis

The extractor now provides comprehensive analysis of method return behavior,
including context sensitivity, error handling conventions, and method chaining patterns.

=head3 List vs Scalar Context Detection

Automatically detects methods that return different values based on calling context:

&nbsp;&nbsp;&nbsp;&nbsp;sub get_items {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self) = @_;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return wantarray ? @items : scalar(@items);
&nbsp;&nbsp;&nbsp;&nbsp;}

Detection captures:

=over 4

=item * C&lt;context_aware&gt; flag - Method uses wantarray

=item * C&lt;list_context&gt; - Type returned in list context (e.g., &#39;array&#39;)

=item * C&lt;scalar_context&gt; - Type returned in scalar context (e.g., &#39;integer&#39;)

=back

Recognizes both ternary operator patterns and conditional return patterns.

=head3 Void Context Methods

Identifies methods that don&#39;t return meaningful values:

=over 4

=item * Setters (C&lt;set_*&gt; methods)

=item * Mutators (C&lt;add_*, remove_*, delete_*, clear_*, reset_*, update_*&gt;)

=item * Loggers (C&lt;log, debug, warn, error, info&gt;)

=item * Methods with only empty returns

=back

Example:

&nbsp;&nbsp;&nbsp;&nbsp;sub set_name {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $name) = @_;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{name} = $name;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;&nbsp;&nbsp;# Void context
&nbsp;&nbsp;&nbsp;&nbsp;}

Sets C&lt;void_context&gt; flag and C&lt;type =E&lt;gt&gt; &#39;void&#39;&gt;.

=head3 Method Chaining Detection

Identifies chainable methods that return C&lt;$self&gt; for fluent interfaces:

&nbsp;&nbsp;&nbsp;&nbsp;sub set_width {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $width) = @_;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{width} = $width;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self;&nbsp;&nbsp;# Chainable
&nbsp;&nbsp;&nbsp;&nbsp;}

Detection provides:

=over 4

=item * C&lt;chainable&gt; flag - Method supports chaining

=item * C&lt;returns_self&gt; - Returns invocant for chaining

=item * C&lt;class&gt; - The class name being returned

=back

Also detects chaining documentation in POD (keywords: &quot;chainable&quot;, &quot;fluent interface&quot;,
&quot;returns self&quot;, &quot;method chaining&quot;).

=head3 Error Return Conventions

Analyzes how methods signal errors:

B&lt;Pattern Detection:&gt;

=over 4

=item * C&lt;undef_on_error&gt; - Explicit C&lt;return undef if/unless condition&gt;

=item * C&lt;implicit_undef&gt; - Bare C&lt;return if/unless condition&gt;

=item * C&lt;empty_list&gt; - C&lt;return ()&gt; for list context errors

=item * C&lt;zero_on_error&gt; - Returns 0/false for boolean error indication

=item * C&lt;exception_handling&gt; - Uses eval blocks with error checking

=back

B&lt;Example Analysis:&gt;

&nbsp;&nbsp;&nbsp;&nbsp;sub fetch_user {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $id) = @_;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $id;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# undef_on_error
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef if $id &lt; 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# undef_on_error

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $self-&gt;{users}{$id};
&nbsp;&nbsp;&nbsp;&nbsp;}

Results in:

&nbsp;&nbsp;&nbsp;&nbsp;error_return: &#39;undef&#39;
&nbsp;&nbsp;&nbsp;&nbsp;success_failure_pattern: 1
&nbsp;&nbsp;&nbsp;&nbsp;error_handling: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef_on_error: [&#39;$id&#39;, &#39;$id &lt; 0&#39;]
&nbsp;&nbsp;&nbsp;&nbsp;}

B&lt;Success/Failure Pattern:&gt;

Methods that return different types for success vs. failure are flagged with
C&lt;success_failure_pattern&gt;. Common patterns:

=over 4

=item * Returns value on success, undef on failure

=item * Returns true on success, false on failure

=item * Returns data on success, empty list on failure

=back

=head3 Success Indicator Detection

Methods that always return true (typically for side effects):

&nbsp;&nbsp;&nbsp;&nbsp;sub update_status {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $status) = @_;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{status} = $status;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 1;&nbsp;&nbsp;# Success indicator
&nbsp;&nbsp;&nbsp;&nbsp;}

Sets C&lt;success_indicator&gt; flag when method consistently returns 1.

=head3 Schema Output

Enhanced return analysis adds these fields to method schemas:

&nbsp;&nbsp;&nbsp;&nbsp;output:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: boolean&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Inferred return type
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_aware: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Uses wantarray
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_context:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: array
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalar_context:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: integer
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chainable: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Returns $self
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns_self: 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void_context: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# No meaningful return
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success_indicator: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Always returns true
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_return: undef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# How errors are signaled
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success_failure_pattern: 1 # Mixed return types
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_handling:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detailed error patterns
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undef_on_error: [...]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exception_handling: 1

This comprehensive analysis enables:

=over 4

=item * Better test generation (testing both contexts, error paths)

=item * Documentation generation (clear error conventions)

=item * API design validation (consistent error handling)

=item * Contract specification (precise return behavior)

=back

=head2 Example

For a method like:

&nbsp;&nbsp;&nbsp;&nbsp;sub connect {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $host, $port, $ssl, $file, $content) = @_;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die if $file &amp;&amp; $content;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# mutually exclusive
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die unless $host || $file;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# required group
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die &quot;Port requires host&quot; if $port &amp;&amp; !$host; # dependency
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die if $ssl &amp;&amp; $port != 443;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# value constraint

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# ... connection logic
&nbsp;&nbsp;&nbsp;&nbsp;}

The extractor generates:

&nbsp;&nbsp;&nbsp;&nbsp;relationships:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: mutually_exclusive
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params: [file, content]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: Cannot specify both file and content
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: required_group
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params: [host, file]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logic: or
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: Must specify either host or file
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: dependency
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;param: port
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requires: host
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: port requires host to be specified
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- type: value_constraint
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if: ssl
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then: port
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator: ==
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: 443
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description: When ssl is specified, port must equal 443

=head1 METHODS

=head2 new

Private methods are not included, unless C&lt;include_private&gt; is used in C&lt;new()&gt;.

The extractor supports several configuration parameters:

&nbsp;&nbsp;&nbsp;&nbsp;my $extractor = App::Test::Generator::SchemaExtractor-&gt;new(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; &#39;lib/MyModule.pm&#39;,&nbsp;&nbsp;# Required
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; &#39;schemas/&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Default: &#39;schemas&#39;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; 1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Default: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include_private&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; 1,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Default: 0
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_parameters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; 50,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Default: 20
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;confidence_threshold =&gt; 0.7,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Default: 0.5
&nbsp;&nbsp;&nbsp;&nbsp;);

=cut</pre></td></tr>
<tr><td class="h">768</td><td colspan="6"></td></tr><tr><td class="h">769</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new {</td></tr>
<tr><td class="h">770</td><td><div class="c3">7</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L770">7</a></div></td><td><div>115502</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($class, %args) = @_;</td></tr>
<tr><td class="h">771</td><td colspan="6"></td></tr><tr><td class="h">772</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = {</td></tr>
<tr><td class="h">773</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_file =&gt; ($args{input_file} || die &#39;input_file required&#39;),</td></tr>
<tr><td class="h">774</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir =&gt; $args{output_dir} || &#39;schemas&#39;,</td></tr>
<tr><td class="h">775</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verbose =&gt; $args{verbose} || 0,</td></tr>
<tr><td class="h">776</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;confidence_threshold =&gt; $args{confidence_threshold} || 0.5,</td></tr>
<tr><td class="h">777</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include_private =&gt; $args{include_private} || 0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# include _private methods</td></tr>
<tr><td class="h">778</td><td><div class="c3">7</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L778">50</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L778">50</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L778">50</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L778">50</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L778">50</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L778">50</a></div></td><td></td><td><div>77</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_parameters =&gt; $args{max_parameters} || 20,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# safety limit</td></tr>
<tr><td class="h">779</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">780</td><td colspan="6"></td></tr><tr><td class="h">781</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Validate input file exists</td></tr>
<tr><td class="h">782</td><td><div class="c3">7</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L782">50</a></div></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (-f $self-&gt;{input_file}) {</td></tr>
<tr><td class="h">783</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak(__PACKAGE__, &quot;: Input file &#39;$self-&gt;{input_file}&#39; does not exist&quot;);</td></tr>
<tr><td class="h">784</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">785</td><td colspan="6"></td></tr><tr><td class="h">786</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return bless $self, $class;</td></tr>
<tr><td class="h">787</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">788</td><td colspan="6"></td></tr><tr><td class="h">789 - 803</td><td colspan="5"></td><td class="s"><pre>=head2 extract_all

Extract schemas for all methods in the module.

Returns a hashref of method_name =&gt; schema.

=head3 Pseudo Code

&nbsp;&nbsp;FOREACH method
&nbsp;&nbsp;DO
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze the method
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write a schema file for that method
&nbsp;&nbsp;END

=cut</pre></td></tr>
<tr><td class="h">804</td><td colspan="6"></td></tr><tr><td class="h">805</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub extract_all {</td></tr>
<tr><td class="h">806</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L806">2</a></div></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = $_[0];</td></tr>
<tr><td class="h">807</td><td colspan="6"></td></tr><tr><td class="h">808</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;Parsing $self-&gt;{input_file}...&quot;);</td></tr>
<tr><td class="h">809</td><td colspan="6"></td></tr><tr><td class="h">810</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L810">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $document = PPI::Document-&gt;new($self-&gt;{input_file}) or die &quot;Failed to parse $self-&gt;{input_file}: $!&quot;;</td></tr>
<tr><td class="h">811</td><td colspan="6"></td></tr><tr><td class="h">812</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Store document for later use</td></tr>
<tr><td class="h">813</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>34259</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;{_document} = $document;</td></tr>
<tr><td class="h">814</td><td colspan="6"></td></tr><tr><td class="h">815</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $package_name = $self-&gt;_extract_package_name($document);</td></tr>
<tr><td class="h">816</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>30</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;Package: $package_name&quot;);</td></tr>
<tr><td class="h">817</td><td colspan="6"></td></tr><tr><td class="h">818</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $methods = $self-&gt;_find_methods($document);</td></tr>
<tr><td class="h">819</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;Found &quot; . scalar(@$methods) . &quot; methods&quot;);</td></tr>
<tr><td class="h">820</td><td colspan="6"></td></tr><tr><td class="h">821</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %schemas;</td></tr>
<tr><td class="h">822</td><td><div class="c3">2</div><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $method (@{$methods}) {</td></tr>
<tr><td class="h">823</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;\nAnalyzing method: $method-&gt;{name}&quot;);</td></tr>
<tr><td class="h">824</td><td colspan="6"></td></tr><tr><td class="h">825</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $schema = $self-&gt;_analyze_method($method);</td></tr>
<tr><td class="h">826</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schemas{$method-&gt;{name}} = $schema;</td></tr>
<tr><td class="h">827</td><td colspan="6"></td></tr><tr><td class="h">828</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Write individual schema file</td></tr>
<tr><td class="h">829</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_write_schema($method-&gt;{name}, $schema);</td></tr>
<tr><td class="h">830</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">831</td><td colspan="6"></td></tr><tr><td class="h">832</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%schemas;</td></tr>
<tr><td class="h">833</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">834</td><td colspan="6"></td></tr><tr><td class="h">835 - 839</td><td colspan="5"></td><td class="s"><pre>=head2 _extract_package_name

Extract the package name from the document.

=cut</pre></td></tr>
<tr><td class="h">840</td><td colspan="6"></td></tr><tr><td class="h">841</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _extract_package_name {</td></tr>
<tr><td class="h">842</td><td><div class="c3">2</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L842">2</a></div></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $document) = @_;</td></tr>
<tr><td class="h">843</td><td colspan="6"></td></tr><tr><td class="h">844</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $package_stmt = $document-&gt;find_first(&#39;PPI::Statement::Package&#39;);</td></tr>
<tr><td class="h">845</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L845">50</a></div></td><td></td><td></td><td><div>217</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $package_stmt ? $package_stmt-&gt;namespace : &#39;Unknown&#39;;</td></tr>
<tr><td class="h">846</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">847</td><td colspan="6"></td></tr><tr><td class="h">848 - 855</td><td colspan="5"></td><td class="s"><pre>=head2 _find_methods

Find all subroutines/methods in the document.

Returns an arrayref of hashrefs with the structure:
&nbsp;&nbsp;{ name =&gt; $name, node =&gt; $ppi_node, body =&gt; $code_text }

=cut</pre></td></tr>
<tr><td class="h">856</td><td colspan="6"></td></tr><tr><td class="h">857</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _find_methods {</td></tr>
<tr><td class="h">858</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L858">4</a></div></td><td><div>29824</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $document) = @_;</td></tr>
<tr><td class="h">859</td><td colspan="6"></td></tr><tr><td class="h">860</td><td><div class="c3">4</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L860">50</a></div></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $subs = $document-&gt;find(&#39;PPI::Statement::Sub&#39;) || [];</td></tr>
<tr><td class="h">861</td><td><div class="c3">4</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L861">50</a></div></td><td></td><td><div>9128</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $sub_decls = $document-&gt;find(&#39;PPI::Statement::Scheduled&#39;) || []; # for method modifiers</td></tr>
<tr><td class="h">862</td><td colspan="6"></td></tr><tr><td class="h">863</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8949</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @methods;</td></tr>
<tr><td class="h">864</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $sub (@$subs) {</td></tr>
<tr><td class="h">865</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>673</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $name = $sub-&gt;name();</td></tr>
<tr><td class="h">866</td><td colspan="6"></td></tr><tr><td class="h">867</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip private methods unless explicitly included, or they&#39;re special</td></tr>
<tr><td class="h">868</td><td><div class="c3">8</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L868">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L868">33</a></div></td><td></td><td><div>208</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($name =~ /^_/ &amp;&amp; $name !~ /^_(new|init|build)/) {</td></tr>
<tr><td class="h">869</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L869">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless $self-&gt;{include_private};</td></tr>
<tr><td class="h">870</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">871</td><td colspan="6"></td></tr><tr><td class="h">872</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get the POD before this sub</td></tr>
<tr><td class="h">873</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pod = $self-&gt;_extract_pod_before($sub);</td></tr>
<tr><td class="h">874</td><td colspan="6"></td></tr><tr><td class="h">875</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @methods, {</td></tr>
<tr><td class="h">876</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name =&gt; $name,</td></tr>
<tr><td class="h">877</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node =&gt; $sub,</td></tr>
<tr><td class="h">878</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body =&gt; $sub-&gt;content(),</td></tr>
<tr><td class="h">879</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pod =&gt; $pod,</td></tr>
<tr><td class="h">880</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;sub&#39;,</td></tr>
<tr><td class="h">881</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">882</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">883</td><td colspan="6"></td></tr><tr><td class="h">884</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Process method modifiers (Moose)</td></tr>
<tr><td class="h">885</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>439</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $decl (@$sub_decls) {</td></tr>
<tr><td class="h">886</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $content = $decl-&gt;content;</td></tr>
<tr><td class="h">887</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L887">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($content =~ /^(before|after|around)\s+[&#39;&quot;]?(\w+)[&#39;&quot;]?\s*/) {</td></tr>
<tr><td class="h">888</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($modifier, $method_name) = ($1, $2);</td></tr>
<tr><td class="h">889</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $full_name = &quot;${modifier}_$method_name&quot;;</td></tr>
<tr><td class="h">890</td><td colspan="6"></td></tr><tr><td class="h">891</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for the actual sub definition that follows</td></tr>
<tr><td class="h">892</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $next_sib = $decl-&gt;next_sibling;</td></tr>
<tr><td class="h">893</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L893">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($next_sib &amp;&amp; !$next_sib-&gt;isa(&#39;PPI::Statement::Sub&#39;)) {</td></tr>
<tr><td class="h">894</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$next_sib = $next_sib-&gt;next_sibling;</td></tr>
<tr><td class="h">895</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">896</td><td colspan="6"></td></tr><tr><td class="h">897</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L897">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L897">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($next_sib &amp;&amp; $next_sib-&gt;isa(&#39;PPI::Statement::Sub&#39;)) {</td></tr>
<tr><td class="h">898</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pod = $self-&gt;_extract_pod_before($decl); # POD might be before modifier</td></tr>
<tr><td class="h">899</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @methods, {</td></tr>
<tr><td class="h">900</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name =&gt; $full_name,</td></tr>
<tr><td class="h">901</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node =&gt; $next_sib,</td></tr>
<tr><td class="h">902</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body =&gt; $next_sib-&gt;content,</td></tr>
<tr><td class="h">903</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pod =&gt; $pod,</td></tr>
<tr><td class="h">904</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;modifier&#39;,</td></tr>
<tr><td class="h">905</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;original_method =&gt; $method_name,</td></tr>
<tr><td class="h">906</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modifier =&gt; $modifier,</td></tr>
<tr><td class="h">907</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">908</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Found method modifier: $full_name&quot;);</td></tr>
<tr><td class="h">909</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">910</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">911</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">912</td><td colspan="6"></td></tr><tr><td class="h">913</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@methods;</td></tr>
<tr><td class="h">914</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">915</td><td colspan="6"></td></tr><tr><td class="h">916 - 920</td><td colspan="5"></td><td class="s"><pre>=head2 _extract_pod_before

Extract POD documentation that appears before a subroutine.

=cut</pre></td></tr>
<tr><td class="h">921</td><td colspan="6"></td></tr><tr><td class="h">922</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _extract_pod_before {</td></tr>
<tr><td class="h">923</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L923">8</a></div></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $sub) = @_;</td></tr>
<tr><td class="h">924</td><td colspan="6"></td></tr><tr><td class="h">925</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pod = &#39;&#39;;</td></tr>
<tr><td class="h">926</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $current = $sub-&gt;previous_sibling();</td></tr>
<tr><td class="h">927</td><td colspan="6"></td></tr><tr><td class="h">928</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Walk backwards collecting POD</td></tr>
<tr><td class="h">929</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>99</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($current) {</td></tr>
<tr><td class="h">930</td><td><div class="c3">36</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L930">100</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L930">50</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L930">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L930">67</a></div></td><td></td><td><div>287</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($current-&gt;isa(&#39;PPI::Token::Pod&#39;)) {</td></tr>
<tr><td class="h">931</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pod = $current-&gt;content . $pod;</td></tr>
<tr><td class="h">932</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($current-&gt;isa(&#39;PPI::Token::Comment&#39;)) {</td></tr>
<tr><td class="h">933</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Include comments that might contain parameter info</td></tr>
<tr><td class="h">934</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $comment = $current-&gt;content;</td></tr>
<tr><td class="h">935</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L935">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($comment =~ /#\s*(?:param|arg|input)\s+\$(\w+)\s*:\s*(.+)/i) {</td></tr>
<tr><td class="h">936</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pod .= &quot;=item \$$1\n$2\n\n&quot;;</td></tr>
<tr><td class="h">937</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">938</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($current-&gt;isa(&#39;PPI::Token::Whitespace&#39;) ||</td></tr>
<tr><td class="h">939</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$current-&gt;isa(&#39;PPI::Token::Separator&#39;)) {</td></tr>
<tr><td class="h">940</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip whitespace and separators</td></tr>
<tr><td class="h">941</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">942</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Hit non-POD, non-whitespace - stop</td></tr>
<tr><td class="h">943</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">944</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">945</td><td><div class="c3">28</div></td><td></td><td></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$current = $current-&gt;previous_sibling;</td></tr>
<tr><td class="h">946</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">947</td><td colspan="6"></td></tr><tr><td class="h">948</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $pod;</td></tr>
<tr><td class="h">949</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">950</td><td colspan="6"></td></tr><tr><td class="h">951 - 957</td><td colspan="5"></td><td class="s"><pre>=head2 _analyze_method

Analyze a method and generate its schema.

Combines POD analysis, code pattern analysis, and signature analysis.

=cut</pre></td></tr>
<tr><td class="h">958</td><td colspan="6"></td></tr><tr><td class="h">959</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_method {</td></tr>
<tr><td class="h">960</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L960">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method) = @_;</td></tr>
<tr><td class="h">961</td><td colspan="6"></td></tr><tr><td class="h">962</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $schema = {</td></tr>
<tr><td class="h">963</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_method_name =&gt; $method-&gt;{name},</td></tr>
<tr><td class="h">964</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_confidence =&gt; {</td></tr>
<tr><td class="h">965</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;input&#39; =&gt; &#39;unknown&#39;,</td></tr>
<tr><td class="h">966</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;output&#39; =&gt; &#39;unknown&#39;,</td></tr>
<tr><td class="h">967</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</td></tr>
<tr><td class="h">968</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input =&gt; {},</td></tr>
<tr><td class="h">969</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output =&gt; {},</td></tr>
<tr><td class="h">970</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setup =&gt; undef,</td></tr>
<tr><td class="h">971</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transforms =&gt; {},</td></tr>
<tr><td class="h">972</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">973</td><td colspan="6"></td></tr><tr><td class="h">974</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Analyze different sources</td></tr>
<tr><td class="h">975</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pod_params = $self-&gt;_analyze_pod($method-&gt;{pod});</td></tr>
<tr><td class="h">976</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $code_params = $self-&gt;_analyze_code($method-&gt;{body});</td></tr>
<tr><td class="h">977</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $sig_params = $self-&gt;_analyze_signature($method-&gt;{body});</td></tr>
<tr><td class="h">978</td><td colspan="6"></td></tr><tr><td class="h">979</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Merge analyses</td></tr>
<tr><td class="h">980</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{input} = $self-&gt;_merge_parameter_analyses(</td></tr>
<tr><td class="h">981</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pod_params,</td></tr>
<tr><td class="h">982</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code_params,</td></tr>
<tr><td class="h">983</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig_params</td></tr>
<tr><td class="h">984</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">985</td><td colspan="6"></td></tr><tr><td class="h">986</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Analyze output/return values</td></tr>
<tr><td class="h">987</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{output} = $self-&gt;_analyze_output($method-&gt;{pod}, $method-&gt;{body}, $method-&gt;{name});</td></tr>
<tr><td class="h">988</td><td colspan="6"></td></tr><tr><td class="h">989</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect accessor methods</td></tr>
<tr><td class="h">990</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_accessor_methods($method, $schema);</td></tr>
<tr><td class="h">991</td><td colspan="6"></td></tr><tr><td class="h">992</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect if this is an instance method that needs object instantiation</td></tr>
<tr><td class="h">993</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $needs_object = $self-&gt;_needs_object_instantiation($method-&gt;{name}, $method-&gt;{body}, $method);</td></tr>
<tr><td class="h">994</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L994">100</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($needs_object) {</td></tr>
<tr><td class="h">995</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{new} = $needs_object;</td></tr>
<tr><td class="h">996</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Method requires object instantiation: $needs_object&quot;);</td></tr>
<tr><td class="h">997</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">998</td><td colspan="6"></td></tr><tr><td class="h">999</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Calculate confidences</td></tr>
<tr><td class="h">1000</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $input_confidence = $schema-&gt;{_confidence}{&#39;input&#39;} = $self-&gt;_calculate_input_confidence($schema-&gt;{input});</td></tr>
<tr><td class="h">1001</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $output_confidence = $schema-&gt;{_confidence}{&#39;output&#39;} = $self-&gt;_calculate_output_confidence($schema-&gt;{output});</td></tr>
<tr><td class="h">1002</td><td colspan="6"></td></tr><tr><td class="h">1003</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add metadata</td></tr>
<tr><td class="h">1004</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{_notes} = $self-&gt;_generate_notes($schema-&gt;{input});</td></tr>
<tr><td class="h">1005</td><td colspan="6"></td></tr><tr><td class="h">1006</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add analytics</td></tr>
<tr><td class="h">1007</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{_analysis} = {</td></tr>
<tr><td class="h">1008</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_confidence =&gt; $input_confidence-&gt;{level},</td></tr>
<tr><td class="h">1009</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_confidence =&gt; $output_confidence-&gt;{level},</td></tr>
<tr><td class="h">1010</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;confidence_factors =&gt; {</td></tr>
<tr><td class="h">1011</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input =&gt; $input_confidence-&gt;{factors},</td></tr>
<tr><td class="h">1012</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output =&gt; $output_confidence-&gt;{factors}</td></tr>
<tr><td class="h">1013</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1014</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">1015</td><td colspan="6"></td></tr><tr><td class="h">1016</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Optionally store detailed per-parameter analysis</td></tr>
<tr><td class="h">1017</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1017">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($input_confidence-&gt;{per_parameter}) {</td></tr>
<tr><td class="h">1018</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{_analysis}{per_parameter_scores} = $input_confidence-&gt;{per_parameter};</td></tr>
<tr><td class="h">1019</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1020</td><td colspan="6"></td></tr><tr><td class="h">1021</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Calculate overall confidence (for backward compatibility)</td></tr>
<tr><td class="h">1022</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $input_level = $input_confidence-&gt;{level};</td></tr>
<tr><td class="h">1023</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $output_level = $output_confidence-&gt;{level};</td></tr>
<tr><td class="h">1024</td><td colspan="6"></td></tr><tr><td class="h">1025</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %level_rank = (</td></tr>
<tr><td class="h">1026</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none =&gt; 0,</td></tr>
<tr><td class="h">1027</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;very_low =&gt; 1,</td></tr>
<tr><td class="h">1028</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low =&gt; 2,</td></tr>
<tr><td class="h">1029</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;medium =&gt; 3,</td></tr>
<tr><td class="h">1030</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high =&gt; 4</td></tr>
<tr><td class="h">1031</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">1032</td><td colspan="6"></td></tr><tr><td class="h">1033</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Overall is the lower of input and output</td></tr>
<tr><td class="h">1034</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1034">100</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $overall = $level_rank{$input_level} &lt; $level_rank{$output_level}</td></tr>
<tr><td class="h">1035</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? $input_level</td></tr>
<tr><td class="h">1036</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: $output_level;</td></tr>
<tr><td class="h">1037</td><td colspan="6"></td></tr><tr><td class="h">1038</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{_analysis}{overall_confidence} = $overall;</td></tr>
<tr><td class="h">1039</td><td colspan="6"></td></tr><tr><td class="h">1040</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Analyze parameter relationships</td></tr>
<tr><td class="h">1041</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $relationships = $self-&gt;_analyze_relationships($method);</td></tr>
<tr><td class="h">1042</td><td><div class="c3">4</div><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1042">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1042">33</a></div></td><td></td><td><div>7</div><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($relationships &amp;&amp; @{$relationships}) {</td></tr>
<tr><td class="h">1043</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{relationships} = $relationships;</td></tr>
<tr><td class="h">1044</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Found &quot; . scalar(@$relationships) . &quot; parameter relationships&quot;);</td></tr>
<tr><td class="h">1045</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1046</td><td colspan="6"></td></tr><tr><td class="h">1047</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $schema;</td></tr>
<tr><td class="h">1048</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1049</td><td colspan="6"></td></tr><tr><td class="h">1050</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_accessor_methods {</td></tr>
<tr><td class="h">1051</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1051">4</a></div></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method, $schema) = @_;</td></tr>
<tr><td class="h">1052</td><td colspan="6"></td></tr><tr><td class="h">1053</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $body = $method-&gt;{body};</td></tr>
<tr><td class="h">1054</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $name = $method-&gt;{name};</td></tr>
<tr><td class="h">1055</td><td colspan="6"></td></tr><tr><td class="h">1056</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Simple getter: return $self-&gt;{field};</td></tr>
<tr><td class="h">1057</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1057">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1057">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1057">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1057">33</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1057">25</a></div></td><td></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($body =~ /return\s+\$self\s*-&gt;\s*\{([^}]+)\}\s*;/) {</td></tr>
<tr><td class="h">1058</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{_accessor} = { type =&gt; &#39;getter&#39;, field =&gt; $1 };</td></tr>
<tr><td class="h">1059</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Detected getter accessor for field: $1&quot;);</td></tr>
<tr><td class="h">1060</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1061</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Setter: $self-&gt;{field} = $value; return $self;</td></tr>
<tr><td class="h">1062</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($body =~ /\$self\s*-&gt;\s*\{([^}]+)\}\s*=\s*\$(\w+)\s*;/ &amp;&amp; $body =~ /return\s+\$self\s*;/) {</td></tr>
<tr><td class="h">1063</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($field, $param) = ($1, $2);</td></tr>
<tr><td class="h">1064</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1064">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1064">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $field &amp;&amp; defined $param) {</td></tr>
<tr><td class="h">1065</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{_accessor} = { type =&gt; &#39;setter&#39;, field =&gt; $field, param =&gt; $param };</td></tr>
<tr><td class="h">1066</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Detected setter accessor for field: $field&quot;);</td></tr>
<tr><td class="h">1067</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1068</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1069</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Getter/Setter combination</td></tr>
<tr><td class="h">1070</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($body =~ /if\s*\(\s*\@_\s*&gt;\s*1\s*\)/ &amp;&amp;</td></tr>
<tr><td class="h">1071</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$body =~ /\$self\s*-&gt;\s*\{([^}]+)\}\s*=\s*shift\s*;/ &amp;&amp;</td></tr>
<tr><td class="h">1072</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$body =~ /return\s+\$self\s*-&gt;\s*\{[^}]+\}\s*;/) {</td></tr>
<tr><td class="h">1073</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $field = $1;</td></tr>
<tr><td class="h">1074</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1074">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $field) {</td></tr>
<tr><td class="h">1075</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{_accessor} = { type =&gt; &#39;getset&#39;, field =&gt; $field };</td></tr>
<tr><td class="h">1076</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Detected getter/setter accessor for field: $field&quot;);</td></tr>
<tr><td class="h">1077</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1078</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1079</td><td colspan="6"></td></tr><tr><td class="h">1080</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1080">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{_accessor}) {</td></tr>
<tr><td class="h">1081</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1081">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{_accessor}{type} eq &#39;setter&#39;) {</td></tr>
<tr><td class="h">1082</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $param = $schema-&gt;{_accessor}{param};</td></tr>
<tr><td class="h">1083</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1083">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $param) {</td></tr>
<tr><td class="h">1084</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1084">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{input}{$param} ||= { type =&gt; &#39;scalar&#39; };</td></tr>
<tr><td class="h">1085</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1086</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1087</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1088</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1089</td><td colspan="6"></td></tr><tr><td class="h">1090 - 1099</td><td colspan="5"></td><td class="s"><pre>=head2 _analyze_pod

Parse POD documentation to extract parameter information.

Looks for patterns like:
&nbsp;&nbsp;$name - string (3-50 chars), username
&nbsp;&nbsp;$age - integer, must be positive
&nbsp;&nbsp;$email - string, matches /\@/

=cut</pre></td></tr>
<tr><td class="h">1100</td><td colspan="6"></td></tr><tr><td class="h">1101</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_pod {</td></tr>
<tr><td class="h">1102</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1102">4</a></div></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $pod) = @_;</td></tr>
<tr><td class="h">1103</td><td colspan="6"></td></tr><tr><td class="h">1104</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1104">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return {} unless $pod;</td></tr>
<tr><td class="h">1105</td><td colspan="6"></td></tr><tr><td class="h">1106</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %params;</td></tr>
<tr><td class="h">1107</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $position_counter = 0;</td></tr>
<tr><td class="h">1108</td><td colspan="6"></td></tr><tr><td class="h">1109</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for positional arguments in method signature</td></tr>
<tr><td class="h">1110</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern: =head2 method_name($arg1, $arg2, $arg3)</td></tr>
<tr><td class="h">1111</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1111">50</a></div></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /=head2\s+\w+\s*\(([^)]+)\)/s) {</td></tr>
<tr><td class="h">1112</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $sig = $1;</td></tr>
<tr><td class="h">1113</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract parameter names in order</td></tr>
<tr><td class="h">1114</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @sig_params = $sig =~ /\$(\w+)/g;</td></tr>
<tr><td class="h">1115</td><td colspan="6"></td></tr><tr><td class="h">1116</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip $self or $class</td></tr>
<tr><td class="h">1117</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1117">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1117">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift @sig_params if @sig_params &amp;&amp; $sig_params[0] =~ /^(self|class)$/i;</td></tr>
<tr><td class="h">1118</td><td colspan="6"></td></tr><tr><td class="h">1119</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Assign positions</td></tr>
<tr><td class="h">1120</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (@sig_params) {</td></tr>
<tr><td class="h">1121</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$param}{position} = $position_counter++;</td></tr>
<tr><td class="h">1122</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: $param has position $params{$param}{position}&quot;);</td></tr>
<tr><td class="h">1123</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1124</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1125</td><td colspan="6"></td></tr><tr><td class="h">1126</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: Found $position_counter unnamed parameters to add to the position list&quot;);</td></tr>
<tr><td class="h">1127</td><td colspan="6"></td></tr><tr><td class="h">1128</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: Parse line-by-line in Parameters section</td></tr>
<tr><td class="h">1129</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# First, extract the Parameters section</td></tr>
<tr><td class="h">1130</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $param_section;</td></tr>
<tr><td class="h">1131</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1131">100</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1131">50</a></div></td><td></td><td></td><td><div>59</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /(?:Parameters?|Arguments?|Inputs?):?\s*\n(.*?)(?=\n\n|\n=[a-z]|$)/si) {</td></tr>
<tr><td class="h">1132</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param_section = $1;</td></tr>
<tr><td class="h">1133</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($pod =~ /^=head\d+\s+(?:Parameters?|Arguments?|Inputs?)\b.*?\n(.*?)(?=^=head|\Z)/msi) {</td></tr>
<tr><td class="h">1134</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param_section = $1;</td></tr>
<tr><td class="h">1135</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1136</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1136">100</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($param_section) {</td></tr>
<tr><td class="h">1137</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $param_order = 0;</td></tr>
<tr><td class="h">1138</td><td colspan="6"></td></tr><tr><td class="h">1139</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: Scan for named parameters in &#39;$param_section&#39;&quot;);</td></tr>
<tr><td class="h">1140</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Now parse each line that starts with $varname</td></tr>
<tr><td class="h">1141</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $line (split /\n/, $param_section) {</td></tr>
<tr><td class="h">1142</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Match: $name - type (constraints), description</td></tr>
<tr><td class="h">1143</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# or:&nbsp;&nbsp;&nbsp;$name - type, description</td></tr>
<tr><td class="h">1144</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# or:&nbsp;&nbsp;&nbsp;$name - type</td></tr>
<tr><td class="h">1145</td><td><div class="c3">11</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1145">50</a></div></td><td></td><td></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($line =~ /^\s*\$(\w+)\s*-\s*(\w+)(?:\s*\(([^)]+)\))?\s*,?\s*(.*)$/i) {</td></tr>
<tr><td class="h">1146</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($name, $type, $constraint, $desc) = ($1, lc($2), $3, $4);</td></tr>
<tr><td class="h">1147</td><td colspan="6"></td></tr><tr><td class="h">1148</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Clean up</td></tr>
<tr><td class="h">1149</td><td><div class="c3">11</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1149">50</a></div></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$desc =~ s/^\s+|\s+$//g if $desc;</td></tr>
<tr><td class="h">1150</td><td colspan="6"></td></tr><tr><td class="h">1151</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip common non-parameters</td></tr>
<tr><td class="h">1152</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1152">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $name =~ /^(self|class|return|returns?)$/i;</td></tr>
<tr><td class="h">1153</td><td colspan="6"></td></tr><tr><td class="h">1154</td><td><div class="c3">11</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1154">50</a></div></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name} ||= { _source =&gt; &#39;pod&#39; };</td></tr>
<tr><td class="h">1155</td><td colspan="6"></td></tr><tr><td class="h">1156</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If we haven&#39;t already assigned a position from the signature, use order in Parameters section</td></tr>
<tr><td class="h">1157</td><td><div class="c3">11</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1157">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (exists $params{$name}{position}) {</td></tr>
<tr><td class="h">1158</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{position} = $param_order++;</td></tr>
<tr><td class="h">1159</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: $name has position $params{$name}{position} (from Parameters order)&quot;);</td></tr>
<tr><td class="h">1160</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1161</td><td colspan="6"></td></tr><tr><td class="h">1162</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Normalize type names</td></tr>
<tr><td class="h">1163</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1163">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;integer&#39; if $type eq &#39;int&#39;;</td></tr>
<tr><td class="h">1164</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1164">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1164">33</a></div></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;number&#39; if $type eq &#39;num&#39; || $type eq &#39;float&#39;;</td></tr>
<tr><td class="h">1165</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1165">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;boolean&#39; if $type eq &#39;bool&#39;;</td></tr>
<tr><td class="h">1166</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1166">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;arrayref&#39; if $type eq &#39;array&#39;;</td></tr>
<tr><td class="h">1167</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1167">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;hashref&#39; if $type eq &#39;hash&#39;;</td></tr>
<tr><td class="h">1168</td><td colspan="6"></td></tr><tr><td class="h">1169</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{type} = $type;</td></tr>
<tr><td class="h">1170</td><td colspan="6"></td></tr><tr><td class="h">1171</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Parse constraints</td></tr>
<tr><td class="h">1172</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1172">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($constraint) {</td></tr>
<tr><td class="h">1173</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_parse_constraints($params{$name}, $constraint);</td></tr>
<tr><td class="h">1174</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1175</td><td colspan="6"></td></tr><tr><td class="h">1176</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for optional/required in description OR constraint</td></tr>
<tr><td class="h">1177</td><td><div class="c3">11</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1177">50</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1177">50</a></div></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $full_text = ($constraint || &#39;&#39;) . &#39; &#39; . ($desc || &#39;&#39;);</td></tr>
<tr><td class="h">1178</td><td><div class="c3">11</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1178">100</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1178">100</a></div></td><td></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($full_text =~ /optional/i) {</td></tr>
<tr><td class="h">1179</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{optional} = 1;</td></tr>
<tr><td class="h">1180</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: $name marked as optional&quot;);</td></tr>
<tr><td class="h">1181</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($full_text =~ /required|mandatory/i) {</td></tr>
<tr><td class="h">1182</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{optional} = 0;</td></tr>
<tr><td class="h">1183</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: $name marked as required&quot;);</td></tr>
<tr><td class="h">1184</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1185</td><td colspan="6"></td></tr><tr><td class="h">1186</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect semantic types:</td></tr>
<tr><td class="h">1187</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1187">50</a></div></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc =~ /\b(email|url|uri|path|filename)\b/i) {</td></tr>
<tr><td class="h">1188</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# TODO: ensure properties is set to 1 in $config</td></tr>
<tr><td class="h">1189</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carp(&#39;Manually set config-&gt;properties to 1 in &#39;, $self-&gt;{&#39;input_file&#39;});</td></tr>
<tr><td class="h">1190</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{semantic} = lc($1);</td></tr>
<tr><td class="h">1191</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1192</td><td colspan="6"></td></tr><tr><td class="h">1193</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for regex patterns</td></tr>
<tr><td class="h">1194</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1194">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1194">33</a></div></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc &amp;&amp; $desc =~ m{matches?\s+(/[^/]+/|qr/.+?/)}i) {</td></tr>
<tr><td class="h">1195</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{matches} = $1;</td></tr>
<tr><td class="h">1196</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1197</td><td colspan="6"></td></tr><tr><td class="h">1198</td><td><div class="c3">11</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1198">50</a></div><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1198">50</a></div></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: Found parameter &#39;$name&#39; in parameters section, type=$type&quot; .</td></tr>
<tr><td class="h">1199</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($constraint ? &quot; ($constraint)&quot; : &#39;&#39;) .</td></tr>
<tr><td class="h">1200</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($desc ? &quot; - $desc&quot; : &#39;&#39;));</td></tr>
<tr><td class="h">1201</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1202</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1203</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1204</td><td colspan="6"></td></tr><tr><td class="h">1205</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: Also try the inline format in case Parameters: section wasn&#39;t found</td></tr>
<tr><td class="h">1206</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($pod =~ /\$(\w+)\s*-\s*(string|integer|int|number|num|float|boolean|bool|arrayref|array|hashref|hash|object)(?:\s*\(([^)]+)\))?\s*,?\s*(.*)$/gim) {</td></tr>
<tr><td class="h">1207</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($name, $type, $constraint, $desc) = ($1, lc($2), $3, $4);</td></tr>
<tr><td class="h">1208</td><td colspan="6"></td></tr><tr><td class="h">1209</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Only process if we haven&#39;t already found this param in the Parameters section</td></tr>
<tr><td class="h">1210</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1210">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if exists $params{$name};</td></tr>
<tr><td class="h">1211</td><td colspan="6"></td></tr><tr><td class="h">1212</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Clean up description - remove leading/trailing whitespace</td></tr>
<tr><td class="h">1213</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1213">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$desc =~ s/^\s+|\s+$//g if $desc;</td></tr>
<tr><td class="h">1214</td><td colspan="6"></td></tr><tr><td class="h">1215</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip common words that aren&#39;t parameters</td></tr>
<tr><td class="h">1216</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1216">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $name =~ /^(self|class|return|returns?)$/i;</td></tr>
<tr><td class="h">1217</td><td colspan="6"></td></tr><tr><td class="h">1218</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1218">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name} ||= { _source =&gt; &#39;pod&#39; };</td></tr>
<tr><td class="h">1219</td><td colspan="6"></td></tr><tr><td class="h">1220</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Normalize type names</td></tr>
<tr><td class="h">1221</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1221">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;integer&#39; if $type eq &#39;int&#39;;</td></tr>
<tr><td class="h">1222</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1222">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1222">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;number&#39; if $type eq &#39;num&#39; || $type eq &#39;float&#39;;</td></tr>
<tr><td class="h">1223</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1223">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;boolean&#39; if $type eq &#39;bool&#39;;</td></tr>
<tr><td class="h">1224</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1224">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;arrayref&#39; if $type eq &#39;array&#39;;</td></tr>
<tr><td class="h">1225</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1225">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;hashref&#39; if $type eq &#39;hash&#39;;</td></tr>
<tr><td class="h">1226</td><td colspan="6"></td></tr><tr><td class="h">1227</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{type} = $type;</td></tr>
<tr><td class="h">1228</td><td colspan="6"></td></tr><tr><td class="h">1229</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Parse constraints</td></tr>
<tr><td class="h">1230</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1230">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($constraint) {</td></tr>
<tr><td class="h">1231</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_parse_constraints($params{$name}, $constraint);</td></tr>
<tr><td class="h">1232</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1233</td><td colspan="6"></td></tr><tr><td class="h">1234</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for optional/required in description</td></tr>
<tr><td class="h">1235</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1235">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc) {</td></tr>
<tr><td class="h">1236</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1236">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1236">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc =~ /optional/i) {</td></tr>
<tr><td class="h">1237</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{optional} = 1;</td></tr>
<tr><td class="h">1238</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($desc =~ /required|mandatory/i) {</td></tr>
<tr><td class="h">1239</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{optional} = 0;</td></tr>
<tr><td class="h">1240</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1241</td><td colspan="6"></td></tr><tr><td class="h">1242</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for regex patterns in description</td></tr>
<tr><td class="h">1243</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1243">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc =~ m{matches?\s+(/[^/]+/|qr/.+?/)}i) {</td></tr>
<tr><td class="h">1244</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{matches} = $1;</td></tr>
<tr><td class="h">1245</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1246</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1247</td><td colspan="6"></td></tr><tr><td class="h">1248</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1248">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: Found parameter &#39;$name&#39; in the inline documentation, type=$type&quot; .</td></tr>
<tr><td class="h">1249</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($constraint ? &quot; ($constraint)&quot; : &#39;&#39;));</td></tr>
<tr><td class="h">1250</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1251</td><td colspan="6"></td></tr><tr><td class="h">1252</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: Parse =over /=item list</td></tr>
<tr><td class="h">1253</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1253">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /=over\b.*?=item\s+\$(\w+)\s*\n(.*?)(?==item\s+\$|\=back)/sig) {</td></tr>
<tr><td class="h">1254</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $name = $1;</td></tr>
<tr><td class="h">1255</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $desc = $2;</td></tr>
<tr><td class="h">1256</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$desc =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1257</td><td colspan="6"></td></tr><tr><td class="h">1258</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip common non-parameters</td></tr>
<tr><td class="h">1259</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1259">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $name =~ /^(self|class|return|returns?)$/i;</td></tr>
<tr><td class="h">1260</td><td colspan="6"></td></tr><tr><td class="h">1261</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1261">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name} ||= { _source =&gt; &#39;pod&#39; };</td></tr>
<tr><td class="h">1262</td><td colspan="6"></td></tr><tr><td class="h">1263</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Try to extract type and constraints from description</td></tr>
<tr><td class="h">1264</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1264">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc =~ /(\w+)(?:\s*\(([^)]+)\))?/) {</td></tr>
<tr><td class="h">1265</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $type = lc($1);</td></tr>
<tr><td class="h">1266</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $constraint = $2;</td></tr>
<tr><td class="h">1267</td><td colspan="6"></td></tr><tr><td class="h">1268</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Normalize type names</td></tr>
<tr><td class="h">1269</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1269">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;integer&#39; if $type eq &#39;int&#39;;</td></tr>
<tr><td class="h">1270</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1270">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1270">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;number&#39; if $type eq &#39;num&#39; || $type eq &#39;float&#39;;</td></tr>
<tr><td class="h">1271</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1271">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;boolean&#39; if $type eq &#39;bool&#39;;</td></tr>
<tr><td class="h">1272</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1272">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;arrayref&#39; if $type eq &#39;array&#39;;</td></tr>
<tr><td class="h">1273</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1273">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;hashref&#39; if $type eq &#39;hash&#39;;</td></tr>
<tr><td class="h">1274</td><td colspan="6"></td></tr><tr><td class="h">1275</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{type} = $type;</td></tr>
<tr><td class="h">1276</td><td colspan="6"></td></tr><tr><td class="h">1277</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Parse constraints</td></tr>
<tr><td class="h">1278</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1278">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($constraint) {</td></tr>
<tr><td class="h">1279</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_parse_constraints($params{$name}, $constraint);</td></tr>
<tr><td class="h">1280</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1281</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1282</td><td colspan="6"></td></tr><tr><td class="h">1283</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for optional/required in description</td></tr>
<tr><td class="h">1284</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1284">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1284">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc =~ /optional/i) {</td></tr>
<tr><td class="h">1285</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{optional} = 1;</td></tr>
<tr><td class="h">1286</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($desc =~ /required|mandatory/i) {</td></tr>
<tr><td class="h">1287</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{optional} = 0;</td></tr>
<tr><td class="h">1288</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1289</td><td colspan="6"></td></tr><tr><td class="h">1290</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for regex patterns</td></tr>
<tr><td class="h">1291</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1291">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($desc =~ m{matches?\s+(/[^/]+/|qr/.+?/)}i) {</td></tr>
<tr><td class="h">1292</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$name}{matches} = $1;</td></tr>
<tr><td class="h">1293</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1294</td><td colspan="6"></td></tr><tr><td class="h">1295</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;POD: Found parameter &#39;$name&#39; from =item list&quot;);</td></tr>
<tr><td class="h">1296</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1297</td><td colspan="6"></td></tr><tr><td class="h">1298</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract default values from POD</td></tr>
<tr><td class="h">1299</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pod_defaults = $self-&gt;_extract_defaults_from_pod($pod);</td></tr>
<tr><td class="h">1300</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (keys %$pod_defaults) {</td></tr>
<tr><td class="h">1301</td><td><div class="c3">10</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1301">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (exists $params{$param}) {</td></tr>
<tr><td class="h">1302</td><td><div class="c3">10</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$param}{default} = $pod_defaults-&gt;{$param};</td></tr>
<tr><td class="h">1303</td><td><div class="c3">10</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1303">100</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$param}{optional} = 1 unless defined $params{$param}{optional};</td></tr>
<tr><td class="h">1304</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(sprintf(&quot;&nbsp;&nbsp;POD: %s has default value: %s&quot;,</td></tr>
<tr><td class="h">1305</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param,</td></tr>
<tr><td class="h">1306</td><td><div class="c3">10</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1306">100</a></div></td><td></td><td></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined($pod_defaults-&gt;{$param}) ? $pod_defaults-&gt;{$param} : &#39;undef&#39;));</td></tr>
<tr><td class="h">1307</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1308</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1309</td><td colspan="6"></td></tr><tr><td class="h">1310</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%params;</td></tr>
<tr><td class="h">1311</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1312</td><td colspan="6"></td></tr><tr><td class="h">1313 - 1322</td><td colspan="5"></td><td class="s"><pre>=head2 _analyze_output

Analyze return values from POD and code.

Looks for:
&nbsp;&nbsp;- Returns: section in POD
&nbsp;&nbsp;- return statements in code
&nbsp;&nbsp;- Common patterns like &quot;returns 1 on success&quot;

=cut</pre></td></tr>
<tr><td class="h">1323</td><td colspan="6"></td></tr><tr><td class="h">1324</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Enhanced _analyze_output that incorporates all improvements</td></tr>
<tr><td class="h">1325</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_output {</td></tr>
<tr><td class="h">1326</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1326">4</a></div></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $pod, $code, $method_name) = @_;</td></tr>
<tr><td class="h">1327</td><td colspan="6"></td></tr><tr><td class="h">1328</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %output;</td></tr>
<tr><td class="h">1329</td><td colspan="6"></td></tr><tr><td class="h">1330</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>30</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_analyze_output_from_pod(\%output, $pod);</td></tr>
<tr><td class="h">1331</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_analyze_output_from_code(\%output, $code, $method_name);</td></tr>
<tr><td class="h">1332</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_enhance_boolean_detection(\%output, $pod, $code, $method_name);</td></tr>
<tr><td class="h">1333</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_list_context(\%output, $code);</td></tr>
<tr><td class="h">1334</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_void_context(\%output, $code, $method_name);</td></tr>
<tr><td class="h">1335</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_chaining_pattern(\%output, $code, $method_name);</td></tr>
<tr><td class="h">1336</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_error_conventions(\%output, $code);</td></tr>
<tr><td class="h">1337</td><td colspan="6"></td></tr><tr><td class="h">1338</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1338">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_validate_output(\%output) if keys %output;</td></tr>
<tr><td class="h">1339</td><td colspan="6"></td></tr><tr><td class="h">1340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Don&#39;t return empty output</td></tr>
<tr><td class="h">1341</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1341">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return (keys %output) ? \%output : {};</td></tr>
<tr><td class="h">1342</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1343</td><td colspan="6"></td></tr><tr><td class="h">1344</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Analyze POD for Returns section</td></tr>
<tr><td class="h">1345</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_output_from_pod {</td></tr>
<tr><td class="h">1346</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1346">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $pod) = @_;</td></tr>
<tr><td class="h">1347</td><td colspan="6"></td></tr><tr><td class="h">1348</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1348">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod) {</td></tr>
<tr><td class="h">1349</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: Returns: section</td></tr>
<tr><td class="h">1350</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1350">100</a></div></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /Returns?:\s+(.+?)(?=\n\n|\n=[a-z]|$)/si) {</td></tr>
<tr><td class="h">1351</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $returns_desc = $1;</td></tr>
<tr><td class="h">1352</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$returns_desc =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1353</td><td colspan="6"></td></tr><tr><td class="h">1354</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Found Returns section: $returns_desc&quot;);</td></tr>
<tr><td class="h">1355</td><td colspan="6"></td></tr><tr><td class="h">1356</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Try to infer type from description</td></tr>
<tr><td class="h">1357</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">50</a></div><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">50</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1357">0</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($returns_desc =~ /\b(string|text)\b/i) {</td></tr>
<tr><td class="h">1358</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">1359</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\b(integer|int|number|count)\b/i) {</td></tr>
<tr><td class="h">1360</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;integer&#39;;</td></tr>
<tr><td class="h">1361</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\b(float|decimal|number)\b/i) {</td></tr>
<tr><td class="h">1362</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;number&#39;;</td></tr>
<tr><td class="h">1363</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\b(boolean|true|false)\b/i) {</td></tr>
<tr><td class="h">1364</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;boolean&#39;;</td></tr>
<tr><td class="h">1365</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\b(array|list)\b/i) {</td></tr>
<tr><td class="h">1366</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;arrayref&#39;;</td></tr>
<tr><td class="h">1367</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\b(hash|hashref|dictionary)\b/i) {</td></tr>
<tr><td class="h">1368</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;hashref&#39;;</td></tr>
<tr><td class="h">1369</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\b(object|instance)\b/i) {</td></tr>
<tr><td class="h">1370</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">1371</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\bundef\b/i) {</td></tr>
<tr><td class="h">1372</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;undef&#39;;</td></tr>
<tr><td class="h">1373</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1374</td><td colspan="6"></td></tr><tr><td class="h">1375</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for specific values</td></tr>
<tr><td class="h">1376</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1376">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1376">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1376">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($returns_desc =~ /\b1\s+(?:on\s+success|if\s+successful)\b/i) {</td></tr>
<tr><td class="h">1377</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{value} = 1;</td></tr>
<tr><td class="h">1378</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1378">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1378">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(defined($output-&gt;{&#39;type&#39;}) &amp;&amp; ($output-&gt;{type} eq &#39;scalar&#39;)) {</td></tr>
<tr><td class="h">1379</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;boolean&#39;;</td></tr>
<tr><td class="h">1380</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1381</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1381">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} ||= &#39;boolean&#39;;</td></tr>
<tr><td class="h">1382</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1383</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Returns 1 on success&quot;);</td></tr>
<tr><td class="h">1384</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /\b0\s+(?:on\s+failure|if\s+fail)\b/i) {</td></tr>
<tr><td class="h">1385</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{alt_value} = 0;</td></tr>
<tr><td class="h">1386</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($returns_desc =~ /dies\s+on\s+(?:error|failure)/i) {</td></tr>
<tr><td class="h">1387</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{_STATUS} = &#39;LIVES&#39;;</td></tr>
<tr><td class="h">1388</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Should not die on success&#39;);</td></tr>
<tr><td class="h">1389</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1390</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1391</td><td colspan="6"></td></tr><tr><td class="h">1392</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: Inline &quot;returns X&quot;</td></tr>
<tr><td class="h">1393</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1393">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1393">67</a></div></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((!$output-&gt;{type}) &amp;&amp; ($pod =~ /returns?\s+(?:an?\s+)?(\w+)/i)) {</td></tr>
<tr><td class="h">1394</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $type = lc($1);</td></tr>
<tr><td class="h">1395</td><td colspan="6"></td></tr><tr><td class="h">1396</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip if it&#39;s just a number (like &quot;returns 1&quot;)</td></tr>
<tr><td class="h">1397</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1397">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;integer&#39; if $type eq &#39;int&#39;;</td></tr>
<tr><td class="h">1398</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1398">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;number&#39; if $type =~ /^(num|float)$/;</td></tr>
<tr><td class="h">1399</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1399">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;boolean&#39; if $type eq &#39;bool&#39;;</td></tr>
<tr><td class="h">1400</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1400">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;arrayref&#39; if $type eq &#39;array&#39;;</td></tr>
<tr><td class="h">1401</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1401">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;hashref&#39; if $type eq &#39;hash&#39;;</td></tr>
<tr><td class="h">1402</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1402">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($type =~ /^\d+$/) {</td></tr>
<tr><td class="h">1403</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1403">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1403">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($type eq &#39;1&#39; || $type eq &#39;0&#39;) {</td></tr>
<tr><td class="h">1404</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Try hard to guess if the result is a boolean</td></tr>
<tr><td class="h">1405</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1405">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1405">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($pod =~ /1 on success.+0 (on|if) /i) {</td></tr>
<tr><td class="h">1406</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;boolean&#39;;</td></tr>
<tr><td class="h">1407</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif($pod =~ /return 0 .+ 1 on success/) {</td></tr>
<tr><td class="h">1408</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;boolean&#39;;</td></tr>
<tr><td class="h">1409</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1410</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;integer&#39;;</td></tr>
<tr><td class="h">1411</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1412</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1413</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;integer&#39;;</td></tr>
<tr><td class="h">1414</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1415</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1416</td><td colspan="6"></td></tr><tr><td class="h">1417</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1417">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1417">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$type = &#39;arrayref&#39; if !$type &amp;&amp; $pod =~ /returns?\s+.+\slist\b/i;</td></tr>
<tr><td class="h">1418</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1418">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1418">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = $type if $type &amp;&amp; $type !~ /^\d+$/;</td></tr>
<tr><td class="h">1419</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Inferred type from POD: $type&quot;);</td></tr>
<tr><td class="h">1420</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1421</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1422</td><td colspan="6"></td></tr><tr><td class="h">1423</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1424</td><td colspan="6"></td></tr><tr><td class="h">1425 - 1434</td><td colspan="5"></td><td class="s"><pre>=head2 _extract_defaults_from_pod

Extract default values from POD documentation.

Looks for patterns like:
&nbsp;&nbsp;- Default: &#39;value&#39;
&nbsp;&nbsp;- Defaults to: value
&nbsp;&nbsp;- Optional, default: value

=cut</pre></td></tr>
<tr><td class="h">1435</td><td colspan="6"></td></tr><tr><td class="h">1436</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _extract_defaults_from_pod {</td></tr>
<tr><td class="h">1437</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1437">6</a></div></td><td><div>671</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $pod) = @_;</td></tr>
<tr><td class="h">1438</td><td colspan="6"></td></tr><tr><td class="h">1439</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1439">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return {} unless $pod;</td></tr>
<tr><td class="h">1440</td><td colspan="6"></td></tr><tr><td class="h">1441</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %defaults;</td></tr>
<tr><td class="h">1442</td><td colspan="6"></td></tr><tr><td class="h">1443</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: Default: &#39;value&#39; or Defaults to: &#39;value&#39;</td></tr>
<tr><td class="h">1444</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>49</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($pod =~ /(?:Default(?:s? to)?|default(?:s? to)?)[:]\s*([^\n\r]+)/gi) {</td></tr>
<tr><td class="h">1445</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default_text = $1;</td></tr>
<tr><td class="h">1446</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $match_pos = pos($pod);</td></tr>
<tr><td class="h">1447</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default_text =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1448</td><td colspan="6"></td></tr><tr><td class="h">1449</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look backwards in the POD to find the parameter name</td></tr>
<tr><td class="h">1450</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td><div>29</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $context = substr($pod, 0, $match_pos);</td></tr>
<tr><td class="h">1451</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td><div>38</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @param_matches = ($context =~ /\$(\w+)/g);</td></tr>
<tr><td class="h">1452</td><td><div class="c3">18</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1452">50</a></div></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $param = $param_matches[-1] if @param_matches;&nbsp;&nbsp;# Last parameter before default</td></tr>
<tr><td class="h">1453</td><td colspan="6"></td></tr><tr><td class="h">1454</td><td><div class="c3">18</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1454">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($param) {</td></tr>
<tr><td class="h">1455</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Always clean the default value - let _clean_default_value handle everything</td></tr>
<tr><td class="h">1456</td><td><div class="c3">18</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1456">50</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($default_text =~ /(\w+)\s*=\s*(.+)$/) {</td></tr>
<tr><td class="h">1457</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Has explicit param = value format in the default text</td></tr>
<tr><td class="h">1458</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($p, $value) = ($1, $2);</td></tr>
<tr><td class="h">1459</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$defaults{$p} = $self-&gt;_clean_default_value($value);</td></tr>
<tr><td class="h">1460</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1461</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Just a value, associate with the found param</td></tr>
<tr><td class="h">1462</td><td><div class="c3">18</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$defaults{$param} = $self-&gt;_clean_default_value($default_text, 0);&nbsp;&nbsp;# NOT from code</td></tr>
<tr><td class="h">1463</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1464</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1465</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1466</td><td colspan="6"></td></tr><tr><td class="h">1467</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: Optional, default &#39;value&#39;</td></tr>
<tr><td class="h">1468</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($pod =~ /Optional(?:,)?\s+(?:default|value)\s*[:=]?\s*([^\n\r,;]+)/gi) {</td></tr>
<tr><td class="h">1469</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default_text = $1;</td></tr>
<tr><td class="h">1470</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $match_pos = pos($pod);</td></tr>
<tr><td class="h">1471</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default_text =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1472</td><td colspan="6"></td></tr><tr><td class="h">1473</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look backwards for parameter name</td></tr>
<tr><td class="h">1474</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $context = substr($pod, 0, $match_pos);</td></tr>
<tr><td class="h">1475</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @param_matches = ($context =~ /\$(\w+)/g);</td></tr>
<tr><td class="h">1476</td><td><div class="c3">5</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1476">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@param_matches) {</td></tr>
<tr><td class="h">1477</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $param = $param_matches[-1];&nbsp;&nbsp;# Last parameter before the default</td></tr>
<tr><td class="h">1478</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$defaults{$param} = $self-&gt;_clean_default_value($default_text, 0);</td></tr>
<tr><td class="h">1479</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1480</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1481</td><td colspan="6"></td></tr><tr><td class="h">1482</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: In parameter descriptions: $param - type, default &#39;value&#39;</td></tr>
<tr><td class="h">1483</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>40</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($pod =~ /\$(\w+)\s*-\s*\w+(?:\([^)]*\))?[,\s]+default\s+[&#39;&quot;]?([^&#39;&quot;,\n]+)[&#39;&quot;]?/gi) {</td></tr>
<tr><td class="h">1484</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">1485</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$defaults{$param} = $self-&gt;_clean_default_value($value, 0);</td></tr>
<tr><td class="h">1486</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1487</td><td colspan="6"></td></tr><tr><td class="h">1488</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%defaults;</td></tr>
<tr><td class="h">1489</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1490</td><td colspan="6"></td></tr><tr><td class="h">1491</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Analyze code for return statements</td></tr>
<tr><td class="h">1492</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_output_from_code</td></tr>
<tr><td class="h">1493</td><td></td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h">1494</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1494">4</a></div></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $code, $method_name) = @_;</td></tr>
<tr><td class="h">1495</td><td colspan="6"></td></tr><tr><td class="h">1496</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1496">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code) {</td></tr>
<tr><td class="h">1497</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Early boolean detection - check for consistent 1/0 returns</td></tr>
<tr><td class="h">1498</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @all_returns = $code =~ /return\s+([^;]+);/g;</td></tr>
<tr><td class="h">1499</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1499">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@all_returns) {</td></tr>
<tr><td class="h">1500</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $boolean_count = 0;</td></tr>
<tr><td class="h">1501</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $total_count = scalar(@all_returns);</td></tr>
<tr><td class="h">1502</td><td colspan="6"></td></tr><tr><td class="h">1503</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $ret (@all_returns) {</td></tr>
<tr><td class="h">1504</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ret =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1505</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Match 0 or 1, even with conditions</td></tr>
<tr><td class="h">1506</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1506">100</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_count++ if ($ret =~ /^(?:0|1)(?:\s|$)/);</td></tr>
<tr><td class="h">1507</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1508</td><td colspan="6"></td></tr><tr><td class="h">1509</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If most returns are 0 or 1, strongly suggest boolean</td></tr>
<tr><td class="h">1510</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1510">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1510">33</a></div></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($boolean_count &gt;= 2 &amp;&amp; $boolean_count &gt;= $total_count * 0.8) {</td></tr>
<tr><td class="h">1511</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1511">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($output-&gt;{type}) {</td></tr>
<tr><td class="h">1512</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;boolean&#39;;</td></tr>
<tr><td class="h">1513</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Early detection - $boolean_count/$total_count returns are 0/1, setting boolean&quot;);</td></tr>
<tr><td class="h">1514</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1515</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1516</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1517</td><td colspan="6"></td></tr><tr><td class="h">1518</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @return_statements;</td></tr>
<tr><td class="h">1519</td><td colspan="6"></td></tr><tr><td class="h">1520</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1520">100</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1520">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1520">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1520">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1520">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1520">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1520">33</a></div></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /return\s+bless\s*\{[^}]*\}\s*,\s*[&#39;&quot;]?(\w+)[&#39;&quot;]?/s) {</td></tr>
<tr><td class="h">1521</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect blessed refs</td></tr>
<tr><td class="h">1522</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">1523</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1523">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($method_name eq &#39;new&#39;) {</td></tr>
<tr><td class="h">1524</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If we found the new() method, the object we&#39;re returning should be a sensible one</td></tr>
<tr><td class="h">1525</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1525">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1525">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($self-&gt;{_document} &amp;&amp; (my $package_stmt = $self-&gt;{_document}-&gt;find_first(&#39;PPI::Statement::Package&#39;))) {</td></tr>
<tr><td class="h">1526</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{isa} = $package_stmt-&gt;namespace;</td></tr>
<tr><td class="h">1527</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1528</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1529</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{isa} = $1;</td></tr>
<tr><td class="h">1530</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1531</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Bless found, inferring type from code is object&#39;);</td></tr>
<tr><td class="h">1532</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($code =~ /return\s+bless/s) {</td></tr>
<tr><td class="h">1533</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">1534</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Bless found, inferring type from code is object&#39;);</td></tr>
<tr><td class="h">1535</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($code =~ /return\s*\(\s*[^)]+\s*,\s*[^)]+\s*\)\s*;/) {</td></tr>
<tr><td class="h">1536</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect array context returns - must end with semicolon to be actual return</td></tr>
<tr><td class="h">1537</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;array&#39;;&nbsp;&nbsp;&nbsp;# Not arrayref - actual array</td></tr>
<tr><td class="h">1538</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Found array contect return&#39;);</td></tr>
<tr><td class="h">1539</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($code =~ /return\s+bless[^,]+,\s*__PACKAGE__/) {</td></tr>
<tr><td class="h">1540</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect: bless {}, __PACKAGE__</td></tr>
<tr><td class="h">1541</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">1542</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get package name from the extractor&#39;s stored document</td></tr>
<tr><td class="h">1543</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1543">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($self-&gt;{_document}) {</td></tr>
<tr><td class="h">1544</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pkg = $self-&gt;{_document}-&gt;find_first(&#39;PPI::Statement::Package&#39;);</td></tr>
<tr><td class="h">1545</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1545">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{isa} = $pkg ? $pkg-&gt;namespace : &#39;UNKNOWN&#39;;</td></tr>
<tr><td class="h">1546</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1546">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Object blessed into __PACKAGE__: &#39; . ($output-&gt;{isa} || &#39;UNKNOWN&#39;));</td></tr>
<tr><td class="h">1547</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1548</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($code =~ /return\s*\(([^)]+)\)/) {</td></tr>
<tr><td class="h">1549</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $content = $1;</td></tr>
<tr><td class="h">1550</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1550">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($content =~ /,/) {&nbsp;&nbsp;# Has comma = multiple values</td></tr>
<tr><td class="h">1551</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;array&#39;;</td></tr>
<tr><td class="h">1552</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1553</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1554</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($code =~ /return\s+\$self\s*;/ &amp;&amp; $code =~ /\$self\s*-&gt;\s*\{[^}]+\}\s*=/) {</td></tr>
<tr><td class="h">1555</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Returns $self for chaining</td></tr>
<tr><td class="h">1556</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">1557</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1557">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($self-&gt;{_document}) {</td></tr>
<tr><td class="h">1558</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pkg = $self-&gt;{_document}-&gt;find_first(&#39;PPI::Statement::Package&#39;);</td></tr>
<tr><td class="h">1559</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1559">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{isa} = $pkg ? $pkg-&gt;namespace : &#39;UNKNOWN&#39;;</td></tr>
<tr><td class="h">1560</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1560">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Object chained into __PACKAGE__: &#39; . ($output-&gt;{isa} || &#39;UNKNOWN&#39;));</td></tr>
<tr><td class="h">1561</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1562</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1563</td><td colspan="6"></td></tr><tr><td class="h">1564</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Find all return statements</td></tr>
<tr><td class="h">1565</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /return\s+([^;]+);/g) {</td></tr>
<tr><td class="h">1566</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $return_expr = $1;</td></tr>
<tr><td class="h">1567</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @return_statements, $return_expr;</td></tr>
<tr><td class="h">1568</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1569</td><td colspan="6"></td></tr><tr><td class="h">1570</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1570">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@return_statements) {</td></tr>
<tr><td class="h">1571</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Found &#39; . scalar(@return_statements) . &#39; return statement(s)&#39;);</td></tr>
<tr><td class="h">1572</td><td colspan="6"></td></tr><tr><td class="h">1573</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Analyze return patterns</td></tr>
<tr><td class="h">1574</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %return_types;</td></tr>
<tr><td class="h">1575</td><td colspan="6"></td></tr><tr><td class="h">1576</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1576">100</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($output-&gt;{&#39;type&#39;}) {</td></tr>
<tr><td class="h">1577</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{$output-&gt;{&#39;type&#39;}} += 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add weighting to what&#39;s already been found</td></tr>
<tr><td class="h">1578</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1579</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $ret (@return_statements) {</td></tr>
<tr><td class="h">1580</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ret =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1581</td><td colspan="6"></td></tr><tr><td class="h">1582</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Literal values</td></tr>
<tr><td class="h">1583</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">100</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">50</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1583">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1583">67</a></div></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($ret eq &#39;1&#39; || $ret eq &#39;0&#39;) {</td></tr>
<tr><td class="h">1584</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{boolean}++;</td></tr>
<tr><td class="h">1585</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /^[&#39;&quot;]/) {</td></tr>
<tr><td class="h">1586</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{string}++;</td></tr>
<tr><td class="h">1587</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /^-?\d+$/) {</td></tr>
<tr><td class="h">1588</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{integer}++;</td></tr>
<tr><td class="h">1589</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /^-?\d+\.\d+$/) {</td></tr>
<tr><td class="h">1590</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{number}++;</td></tr>
<tr><td class="h">1591</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret eq &#39;undef&#39;) {</td></tr>
<tr><td class="h">1592</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{undef}++;</td></tr>
<tr><td class="h">1593</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1594</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Data structures</td></tr>
<tr><td class="h">1595</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($ret =~ /^\[/) {</td></tr>
<tr><td class="h">1596</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{arrayref}++;</td></tr>
<tr><td class="h">1597</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /^\{/) {</td></tr>
<tr><td class="h">1598</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{hashref}++;</td></tr>
<tr><td class="h">1599</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1600</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Variables/expressions</td></tr>
<tr><td class="h">1601</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($ret =~ /\$\w+/) {</td></tr>
<tr><td class="h">1602</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1602">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1602">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1602">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1602">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1602">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($ret =~ /\\\@/) {</td></tr>
<tr><td class="h">1603</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{arrayref}++;</td></tr>
<tr><td class="h">1604</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /\\\%/) {</td></tr>
<tr><td class="h">1605</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{hashref}++;</td></tr>
<tr><td class="h">1606</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /bless/) {</td></tr>
<tr><td class="h">1607</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{object} += 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Heigher weight</td></tr>
<tr><td class="h">1608</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /^\{[^}]*\}$/) {</td></tr>
<tr><td class="h">1609</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{hashref}++;</td></tr>
<tr><td class="h">1610</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($ret =~ /^\[[^\]]*\]$/) {</td></tr>
<tr><td class="h">1611</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{arrayref}++;</td></tr>
<tr><td class="h">1612</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1613</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return_types{scalar}++;</td></tr>
<tr><td class="h">1614</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1615</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1616</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1617</td><td colspan="6"></td></tr><tr><td class="h">1618</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Determine most common return type</td></tr>
<tr><td class="h">1619</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1619">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (keys %return_types) {</td></tr>
<tr><td class="h">1620</td><td><div class="c3">4</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>7</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($most_common) = sort { $return_types{$b} &lt;=&gt; $return_types{$a} } keys %return_types;</td></tr>
<tr><td class="h">1621</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1621">100</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($output-&gt;{type}) {</td></tr>
<tr><td class="h">1622</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = $most_common;</td></tr>
<tr><td class="h">1623</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Inferred type from code: $most_common&quot;);</td></tr>
<tr><td class="h">1624</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1625</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1626</td><td colspan="6"></td></tr><tr><td class="h">1627</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for consistent single value returns</td></tr>
<tr><td class="h">1628</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1628">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1628">67</a></div></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@return_statements == 1 &amp;&amp; $return_statements[0] eq &#39;1&#39;) {</td></tr>
<tr><td class="h">1629</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{value} = 1;</td></tr>
<tr><td class="h">1630</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1630">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1630">33</a></div></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;boolean&#39; if !$output-&gt;{type} || $output-&gt;{type} eq &#39;scalar&#39;;</td></tr>
<tr><td class="h">1631</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1631">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Type already set to &#39;$output-&gt;{type}&#39;, overriding with boolean&quot;) if($output-&gt;{&#39;type&#39;});</td></tr>
<tr><td class="h">1632</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1633</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1634</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# No explicit return - might return nothing or implicit undef</td></tr>
<tr><td class="h">1635</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: No explicit return statement found&quot;);</td></tr>
<tr><td class="h">1636</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1637</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1638</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1639</td><td colspan="6"></td></tr><tr><td class="h">1640</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _enhance_boolean_detection {</td></tr>
<tr><td class="h">1641</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1641">4</a></div></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $pod, $code, $method_name) = @_;</td></tr>
<tr><td class="h">1642</td><td colspan="6"></td></tr><tr><td class="h">1643</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $boolean_score = 0;&nbsp;&nbsp;# Track evidence for boolean return</td></tr>
<tr><td class="h">1644</td><td colspan="6"></td></tr><tr><td class="h">1645</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for stronger boolean indicators</td></tr>
<tr><td class="h">1646</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1646">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1646">33</a></div></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod &amp;&amp; !$output-&gt;{type}) {</td></tr>
<tr><td class="h">1647</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Common boolean return patterns in POD</td></tr>
<tr><td class="h">1648</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1648">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /returns?\s+(true|false|true|false|1|0)\s+(?:on|for|upon)\s+(success|failure|error|valid|invalid)/i) {</td></tr>
<tr><td class="h">1649</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 30;</td></tr>
<tr><td class="h">1650</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Strong boolean indicator in POD (+30)&#39;);</td></tr>
<tr><td class="h">1651</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1652</td><td colspan="6"></td></tr><tr><td class="h">1653</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for method names that suggest boolean returns</td></tr>
<tr><td class="h">1654</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1654">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /(?:method|sub)\s+(\w+)/) {</td></tr>
<tr><td class="h">1655</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $inferred_method_name = $1;</td></tr>
<tr><td class="h">1656</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1656">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($inferred_method_name =~ /^(is_|has_|can_|should_|contains_|exists_)/) {</td></tr>
<tr><td class="h">1657</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 20;</td></tr>
<tr><td class="h">1658</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Inferred method name &#39;$inferred_method_name&#39; suggests boolean return (+20)&quot;);</td></tr>
<tr><td class="h">1659</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1660</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1661</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1662</td><td colspan="6"></td></tr><tr><td class="h">1663</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Analyze code for boolean patterns</td></tr>
<tr><td class="h">1664</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1664">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code) {</td></tr>
<tr><td class="h">1665</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Count boolean return idioms</td></tr>
<tr><td class="h">1666</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $true_returns = () = $code =~ /return\s+1\s*;/g;</td></tr>
<tr><td class="h">1667</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $false_returns = () = $code =~ /return\s+0\s*;/g;</td></tr>
<tr><td class="h">1668</td><td colspan="6"></td></tr><tr><td class="h">1669</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1669">50</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1669">100</a></div></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($true_returns + $false_returns &gt;= 2) {</td></tr>
<tr><td class="h">1670</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 40;</td></tr>
<tr><td class="h">1671</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Multiple 1/0 returns suggest boolean (+40)&#39;);</td></tr>
<tr><td class="h">1672</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($true_returns + $false_returns == 1) {</td></tr>
<tr><td class="h">1673</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 10;</td></tr>
<tr><td class="h">1674</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Single 1/0 return (+10)&#39;);</td></tr>
<tr><td class="h">1675</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1676</td><td colspan="6"></td></tr><tr><td class="h">1677</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Ternary operators that return booleans</td></tr>
<tr><td class="h">1678</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1678">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /return\s+(?:\w+\s*[!=]=\s*\w+|\w+\s*&gt;\s*\w+|\w+\s*&lt;\s*\w+)\s*\?\s*(?:1|0)\s*:\s*(?:1|0)/) {</td></tr>
<tr><td class="h">1679</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 25;</td></tr>
<tr><td class="h">1680</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Ternary with 1/0 suggests boolean (+25)&#39;);</td></tr>
<tr><td class="h">1681</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1682</td><td colspan="6"></td></tr><tr><td class="h">1683</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for common boolean method patterns</td></tr>
<tr><td class="h">1684</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1684">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /return\s+[!\$\@\%]/) {</td></tr>
<tr><td class="h">1685</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Returns negation or existence check</td></tr>
<tr><td class="h">1686</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 15;</td></tr>
<tr><td class="h">1687</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Returns negation/existence check (+15)&#39;);</td></tr>
<tr><td class="h">1688</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1689</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1690</td><td colspan="6"></td></tr><tr><td class="h">1691</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check method name for boolean indicators</td></tr>
<tr><td class="h">1692</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1692">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_name) {</td></tr>
<tr><td class="h">1693</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1693">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_name =~ /^(is_|has_|can_|should_|contains_|exists_|check_|verify_|validate_)/) {</td></tr>
<tr><td class="h">1694</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 25;</td></tr>
<tr><td class="h">1695</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Method name &#39;$method_name&#39; suggests boolean return (+25)&quot;);</td></tr>
<tr><td class="h">1696</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1697</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1697">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_name =~ /_ok$/) {</td></tr>
<tr><td class="h">1698</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$boolean_score += 30;</td></tr>
<tr><td class="h">1699</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Method name &#39;$method_name&#39; ends with &#39;_ok&#39; (+30)&quot;);</td></tr>
<tr><td class="h">1700</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1701</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1702</td><td colspan="6"></td></tr><tr><td class="h">1703</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Apply boolean type if we have strong evidence</td></tr>
<tr><td class="h">1704</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Override weak type assignments (like &#39;array&#39; from false positive)</td></tr>
<tr><td class="h">1705</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1705">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($boolean_score &gt;= 30) {</td></tr>
<tr><td class="h">1706</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1706">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1706">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!$output-&gt;{type} || $output-&gt;{type} eq &#39;scalar&#39; || $output-&gt;{type} eq &#39;array&#39; || $output-&gt;{type} eq &#39;undef&#39;) {</td></tr>
<tr><td class="h">1707</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1707">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $old_type = $output-&gt;{type} || &#39;none&#39;;</td></tr>
<tr><td class="h">1708</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;boolean&#39;;</td></tr>
<tr><td class="h">1709</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Boolean score $boolean_score &gt;= 30, setting type to boolean (was: $old_type)&quot;);</td></tr>
<tr><td class="h">1710</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1711</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1712</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1713</td><td colspan="6"></td></tr><tr><td class="h">1714</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Enhanced return value analysis</td></tr>
<tr><td class="h">1715</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_list_context {</td></tr>
<tr><td class="h">1716</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1716">4</a></div></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $code) = @_;</td></tr>
<tr><td class="h">1717</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1717">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless $code;</td></tr>
<tr><td class="h">1718</td><td colspan="6"></td></tr><tr><td class="h">1719</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for wantarray usage</td></tr>
<tr><td class="h">1720</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1720">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /wantarray/) {</td></tr>
<tr><td class="h">1721</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{context_aware} = 1;</td></tr>
<tr><td class="h">1722</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Method uses wantarray - context sensitive&#39;);</td></tr>
<tr><td class="h">1723</td><td colspan="6"></td></tr><tr><td class="h">1724</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Debug: show what we&#39;re matching against</td></tr>
<tr><td class="h">1725</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1725">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(wantarray[^;]+;)/s) {</td></tr>
<tr><td class="h">1726</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG wantarray line: $1&quot;);</td></tr>
<tr><td class="h">1727</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1728</td><td colspan="6"></td></tr><tr><td class="h">1729</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: wantarray ? (list, items) : scalar_value (with parens)</td></tr>
<tr><td class="h">1730</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1730">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1730">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1730">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /wantarray\s*\?\s*\(([^)]+)\)\s*:\s*([^;]+)/s) {</td></tr>
<tr><td class="h">1731</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($list_return, $scalar_return) = ($1, $2);</td></tr>
<tr><td class="h">1732</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG list (with parens): [$list_return], scalar: [$scalar_return]&quot;);</td></tr>
<tr><td class="h">1733</td><td colspan="6"></td></tr><tr><td class="h">1734</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{list_context} = $self-&gt;_infer_type_from_expression($list_return);</td></tr>
<tr><td class="h">1735</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{scalar_context} = $self-&gt;_infer_type_from_expression($scalar_return);</td></tr>
<tr><td class="h">1736</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Detected context-dependent returns (parenthesized)&#39;);</td></tr>
<tr><td class="h">1737</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1738</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: wantarray ? @array : scalar (no parens around list)</td></tr>
<tr><td class="h">1739</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($code =~ /wantarray\s*\?\s*([^:]+?)\s*:\s*([^;]+)/s) {</td></tr>
<tr><td class="h">1740</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($list_return, $scalar_return) = ($1, $2);</td></tr>
<tr><td class="h">1741</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Clean up</td></tr>
<tr><td class="h">1742</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$list_return =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1743</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$scalar_return =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1744</td><td colspan="6"></td></tr><tr><td class="h">1745</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG list (no parens): [$list_return], scalar: [$scalar_return]&quot;);</td></tr>
<tr><td class="h">1746</td><td colspan="6"></td></tr><tr><td class="h">1747</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{list_context} = $self-&gt;_infer_type_from_expression($list_return);</td></tr>
<tr><td class="h">1748</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{scalar_context} = $self-&gt;_infer_type_from_expression($scalar_return);</td></tr>
<tr><td class="h">1749</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Detected context-dependent returns (non-parenthesized)&#39;);</td></tr>
<tr><td class="h">1750</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1751</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: return unless wantarray; return (list);</td></tr>
<tr><td class="h">1752</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($code =~ /return[^;]*unless\s+wantarray.*?return\s*\(([^)]+)\)/s) {</td></tr>
<tr><td class="h">1753</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{list_context} = { type =&gt; &#39;array&#39; };</td></tr>
<tr><td class="h">1754</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Detected list context return after wantarray check&#39;);</td></tr>
<tr><td class="h">1755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1756</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1757</td><td colspan="6"></td></tr><tr><td class="h">1758</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect explicit list returns (multiple values in parentheses)</td></tr>
<tr><td class="h">1759</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Avoid false positives from function calls</td></tr>
<tr><td class="h">1760</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1760">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /return\s*\(\s*([^)]+)\s*\)\s*;/) {</td></tr>
<tr><td class="h">1761</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $content = $1;</td></tr>
<tr><td class="h">1762</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Count commas outside of nested structures</td></tr>
<tr><td class="h">1763</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $comma_count = 0;</td></tr>
<tr><td class="h">1764</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $depth = 0;</td></tr>
<tr><td class="h">1765</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $char (split //, $content) {</td></tr>
<tr><td class="h">1766</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1766">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1766">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$depth++ if $char eq &#39;(&#39; || $char eq &#39;[&#39; || $char eq &#39;{&#39;;</td></tr>
<tr><td class="h">1767</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1767">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1767">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$depth-- if $char eq &#39;)&#39; || $char eq &#39;]&#39; || $char eq &#39;}&#39;;</td></tr>
<tr><td class="h">1768</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1768">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1768">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$comma_count++ if $char eq &#39;,&#39; &amp;&amp; $depth == 0;</td></tr>
<tr><td class="h">1769</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1770</td><td colspan="6"></td></tr><tr><td class="h">1771</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1771">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1771">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($comma_count &gt; 0 &amp;&amp; $content !~ /\b(?:bless|new)\b/) {</td></tr>
<tr><td class="h">1772</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Multiple values returned</td></tr>
<tr><td class="h">1773</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1773">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1773">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($output-&gt;{type} &amp;&amp; $output-&gt;{type} eq &#39;boolean&#39;) {</td></tr>
<tr><td class="h">1774</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;array&#39;;</td></tr>
<tr><td class="h">1775</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{list_return} = $comma_count + 1;</td></tr>
<tr><td class="h">1776</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Returns list of &#39; . ($comma_count + 1) . &#39; values&#39;);</td></tr>
<tr><td class="h">1777</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1778</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1779</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1780</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1781</td><td colspan="6"></td></tr><tr><td class="h">1782</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_void_context {</td></tr>
<tr><td class="h">1783</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1783">4</a></div></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $code, $method_name) = @_;</td></tr>
<tr><td class="h">1784</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1784">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless $code;</td></tr>
<tr><td class="h">1785</td><td colspan="6"></td></tr><tr><td class="h">1786</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG _detect_void_context called for $method_name&quot;);</td></tr>
<tr><td class="h">1787</td><td colspan="6"></td></tr><tr><td class="h">1788</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Methods that typically don&#39;t return meaningful values</td></tr>
<tr><td class="h">1789</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $void_patterns = {</td></tr>
<tr><td class="h">1790</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;setter&#39; =&gt; qr/^set_\w+$/,</td></tr>
<tr><td class="h">1791</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;mutator&#39; =&gt; qr/^(?:add|remove|delete|clear|reset|update)_/,</td></tr>
<tr><td class="h">1792</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;logger&#39; =&gt; qr/^(?:log|debug|warn|error|info)$/,</td></tr>
<tr><td class="h">1793</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;printer&#39; =&gt; qr/^(?:print|say|dump)_/,</td></tr>
<tr><td class="h">1794</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">1795</td><td colspan="6"></td></tr><tr><td class="h">1796</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check if method name suggests void context</td></tr>
<tr><td class="h">1797</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $type (keys %$void_patterns) {</td></tr>
<tr><td class="h">1798</td><td><div class="c3">16</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1798">50</a></div></td><td></td><td></td><td><div>28</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_name =~ $void_patterns-&gt;{$type}) {</td></tr>
<tr><td class="h">1799</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{void_context_hint} = $type;</td></tr>
<tr><td class="h">1800</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Method name suggests $type (typically void context)&quot;);</td></tr>
<tr><td class="h">1801</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">1802</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1803</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1804</td><td colspan="6"></td></tr><tr><td class="h">1805</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Analyze return statements</td></tr>
<tr><td class="h">1806</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @returns = $code =~ /return\s*([^;]*);/g;</td></tr>
<tr><td class="h">1807</td><td colspan="6"></td></tr><tr><td class="h">1808</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;DEBUG Found &#39; . scalar(@returns) . &quot; return statements&quot;);</td></tr>
<tr><td class="h">1809</td><td colspan="6"></td></tr><tr><td class="h">1810</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Count different return patterns</td></tr>
<tr><td class="h">1811</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $no_value_returns = 0;</td></tr>
<tr><td class="h">1812</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $true_returns = 0;</td></tr>
<tr><td class="h">1813</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self_returns = 0;</td></tr>
<tr><td class="h">1814</td><td colspan="6"></td></tr><tr><td class="h">1815</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $ret (@returns) {</td></tr>
<tr><td class="h">1816</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ret =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1817</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG return value: [$ret]&quot;);</td></tr>
<tr><td class="h">1818</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1818">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$no_value_returns++ if $ret eq &#39;&#39;;</td></tr>
<tr><td class="h">1819</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1819">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$no_value_returns++ if($ret =~ /^(if|unless)\s/);</td></tr>
<tr><td class="h">1820</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1820">100</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$true_returns++ if $ret eq &#39;1&#39;;</td></tr>
<tr><td class="h">1821</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1821">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self_returns++ if $ret eq &#39;$self&#39;;</td></tr>
<tr><td class="h">1822</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1823</td><td colspan="6"></td></tr><tr><td class="h">1824</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $total_returns = scalar(@returns);</td></tr>
<tr><td class="h">1825</td><td colspan="6"></td></tr><tr><td class="h">1826</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG no_value=$no_value_returns, true=$true_returns, self=$self_returns, total=$total_returns&quot;);</td></tr>
<tr><td class="h">1827</td><td colspan="6"></td></tr><tr><td class="h">1828</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Void context indicators</td></tr>
<tr><td class="h">1829</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1829">50</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1829">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1829">33</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1829">50</a></div></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($no_value_returns &gt; 0 &amp;&amp; $no_value_returns == $total_returns) {</td></tr>
<tr><td class="h">1830</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{void_context} = 1;</td></tr>
<tr><td class="h">1831</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;void&#39;;&nbsp;&nbsp;# This should override any previous type</td></tr>
<tr><td class="h">1832</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: All returns are empty - void context method&quot;);</td></tr>
<tr><td class="h">1833</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1834</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Methods that always return true (success indicator)</td></tr>
<tr><td class="h">1835</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($true_returns &gt; 0 &amp;&amp; $true_returns == $total_returns &amp;&amp; $total_returns &gt;= 1) {</td></tr>
<tr><td class="h">1836</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{success_indicator} = 1;</td></tr>
<tr><td class="h">1837</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Don&#39;t override type if already set to boolean</td></tr>
<tr><td class="h">1838</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1838">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1838">33</a></div></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($output-&gt;{type} &amp;&amp; $output-&gt;{type} eq &#39;boolean&#39;) {</td></tr>
<tr><td class="h">1839</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;boolean&#39;;</td></tr>
<tr><td class="h">1840</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1841</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;OUTPUT: Always returns 1 - success indicator pattern&#39;);</td></tr>
<tr><td class="h">1842</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1843</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1844</td><td colspan="6"></td></tr><tr><td class="h">1845</td><td></td><td></td><td></td><td></td><td></td><td class="s"># New method: Detect method chaining patterns</td></tr>
<tr><td class="h">1846</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_chaining_pattern {</td></tr>
<tr><td class="h">1847</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1847">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $code, $method_name) = @_;</td></tr>
<tr><td class="h">1848</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1848">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless $code;</td></tr>
<tr><td class="h">1849</td><td colspan="6"></td></tr><tr><td class="h">1850</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Count returns of $self</td></tr>
<tr><td class="h">1851</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self_returns = 0;</td></tr>
<tr><td class="h">1852</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $total_returns = 0;</td></tr>
<tr><td class="h">1853</td><td colspan="6"></td></tr><tr><td class="h">1854</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /return\s+([^;]+);/g) {</td></tr>
<tr><td class="h">1855</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $ret = $1;</td></tr>
<tr><td class="h">1856</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ret =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1857</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$total_returns++;</td></tr>
<tr><td class="h">1858</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1858">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self_returns++ if $ret eq &#39;$self&#39;;</td></tr>
<tr><td class="h">1859</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1860</td><td colspan="6"></td></tr><tr><td class="h">1861</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# If most/all returns are $self, it&#39;s a chaining method</td></tr>
<tr><td class="h">1862</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1862">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1862">33</a></div></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($self_returns &gt; 0 &amp;&amp; $total_returns &gt; 0) {</td></tr>
<tr><td class="h">1863</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $ratio = $self_returns / $total_returns;</td></tr>
<tr><td class="h">1864</td><td colspan="6"></td></tr><tr><td class="h">1865</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1865">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($ratio &gt;= 0.8) {</td></tr>
<tr><td class="h">1866</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{chainable} = 1;</td></tr>
<tr><td class="h">1867</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">1868</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{returns_self} = 1;</td></tr>
<tr><td class="h">1869</td><td colspan="6"></td></tr><tr><td class="h">1870</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get the class name</td></tr>
<tr><td class="h">1871</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1871">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($self-&gt;{_document}) {</td></tr>
<tr><td class="h">1872</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pkg = $self-&gt;{_document}-&gt;find_first(&#39;PPI::Statement::Package&#39;);</td></tr>
<tr><td class="h">1873</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1873">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{isa} = $pkg ? $pkg-&gt;namespace : &#39;UNKNOWN&#39;;</td></tr>
<tr><td class="h">1874</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1875</td><td colspan="6"></td></tr><tr><td class="h">1876</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Chainable method - returns \$self ($self_returns/$total_returns returns)&quot;);</td></tr>
<tr><td class="h">1877</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1878</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1879</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1880</td><td colspan="6"></td></tr><tr><td class="h">1881</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Detect error return conventions</td></tr>
<tr><td class="h">1882</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_error_conventions {</td></tr>
<tr><td class="h">1883</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1883">4</a></div></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $code) = @_;</td></tr>
<tr><td class="h">1884</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1884">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless $code;</td></tr>
<tr><td class="h">1885</td><td colspan="6"></td></tr><tr><td class="h">1886</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;DEBUG _detect_error_conventions called&#39;);</td></tr>
<tr><td class="h">1887</td><td colspan="6"></td></tr><tr><td class="h">1888</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my %error_patterns;</td></tr>
<tr><td class="h">1889</td><td colspan="6"></td></tr><tr><td class="h">1890</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: return undef if/unless condition</td></tr>
<tr><td class="h">1891</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /return\s+undef\s+(?:if|unless)\s+([^;]+);/g) {</td></tr>
<tr><td class="h">1892</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @{$error_patterns{undef_on_error}}, $1;</td></tr>
<tr><td class="h">1893</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG Found &#39;return undef&#39; pattern&quot;);</td></tr>
<tr><td class="h">1894</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1895</td><td colspan="6"></td></tr><tr><td class="h">1896</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: return if/unless (implicit undef)</td></tr>
<tr><td class="h">1897</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /return\s+(?:if|unless)\s+([^;]+);/g) {</td></tr>
<tr><td class="h">1898</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @{$error_patterns{implicit_undef}}, $1;</td></tr>
<tr><td class="h">1899</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG Found implicit undef pattern&quot;);</td></tr>
<tr><td class="h">1900</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1901</td><td colspan="6"></td></tr><tr><td class="h">1902</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: return () - matches with or without conditions</td></tr>
<tr><td class="h">1903</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1903">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /return\s*\(\s*\)\s*(?:if|unless|;)/) {</td></tr>
<tr><td class="h">1904</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$error_patterns{empty_list} = 1;</td></tr>
<tr><td class="h">1905</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG Found empty list return&quot;);</td></tr>
<tr><td class="h">1906</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1907</td><td colspan="6"></td></tr><tr><td class="h">1908</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 4: return 0/1 pattern (indicates boolean with error handling)</td></tr>
<tr><td class="h">1909</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">my $zero_returns = 0;</td></tr>
<tr><td class="h">1910</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">my $one_returns = 0;</td></tr>
<tr><td class="h">1911</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Match &quot;return 0&quot; or &quot;return 1&quot; followed by anything (condition or semicolon)</td></tr>
<tr><td class="h">1912</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">while ($code =~ /return\s+(0|1)\s*(?:;|if|unless)/g) {</td></tr>
<tr><td class="h">1913</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1913">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($1 eq &#39;0&#39;) {</td></tr>
<tr><td class="h">1914</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$zero_returns++;</td></tr>
<tr><td class="h">1915</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">1916</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$one_returns++;</td></tr>
<tr><td class="h">1917</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1918</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1919</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1919">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1919">33</a></div></td><td></td><td><div>7</div></td><td class="s">if ($zero_returns &gt; 0 &amp;&amp; $one_returns &gt; 0) {</td></tr>
<tr><td class="h">1920</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$error_patterns{zero_on_error} = 1;</td></tr>
<tr><td class="h">1921</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG Found 0/1 return pattern ($zero_returns zeros, $one_returns ones)&quot;);</td></tr>
<tr><td class="h">1922</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1923</td><td colspan="6"></td></tr><tr><td class="h">1924</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 5: Exception handling with eval</td></tr>
<tr><td class="h">1925</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1925">50</a></div></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /eval\s*\{/) {</td></tr>
<tr><td class="h">1926</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check if there&#39;s error handling after eval</td></tr>
<tr><td class="h">1927</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1927">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /eval\s*\{.*?\}[^}]*(?:if\s*\(\s*\$\@|catch|return\s+undef)/s) {</td></tr>
<tr><td class="h">1928</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$error_patterns{exception_handling} = 1;</td></tr>
<tr><td class="h">1929</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;DEBUG Found exception handling with eval&quot;);</td></tr>
<tr><td class="h">1930</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1931</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1932</td><td colspan="6"></td></tr><tr><td class="h">1933</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Detect success/failure return pattern</td></tr>
<tr><td class="h">1934</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @all_returns = $code =~ /return\s+([^;]+);/g;</td></tr>
<tr><td class="h">1935</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div><div>8</div></td><td class="s">my $has_undef = grep { /^\s*undef\s*(?:if|unless|$)/ } @all_returns;</td></tr>
<tr><td class="h">1936</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1936">33</a></div></td><td></td><td><div>4</div><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $has_value = grep { !/^\s*undef\s*$/ &amp;&amp; !/^\s*$/ } @all_returns;</td></tr>
<tr><td class="h">1937</td><td colspan="6"></td></tr><tr><td class="h">1938</td><td><div class="c3">4</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1938">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1938">25</a></div></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($has_undef &amp;&amp; $has_value &amp;&amp; scalar(@all_returns) &gt;= 2) {</td></tr>
<tr><td class="h">1939</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{success_failure_pattern} = 1;</td></tr>
<tr><td class="h">1940</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Uses success/failure return pattern&quot;);</td></tr>
<tr><td class="h">1941</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1942</td><td colspan="6"></td></tr><tr><td class="h">1943</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Store error conventions in output</td></tr>
<tr><td class="h">1944</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1944">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (keys %error_patterns) {</td></tr>
<tr><td class="h">1945</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{error_handling} = \%error_patterns;</td></tr>
<tr><td class="h">1946</td><td colspan="6"></td></tr><tr><td class="h">1947</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Determine primary error convention</td></tr>
<tr><td class="h">1948</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1948">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1948">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1948">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1948">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($error_patterns{undef_on_error}) {</td></tr>
<tr><td class="h">1949</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{error_return} = &#39;undef&#39;;</td></tr>
<tr><td class="h">1950</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Returns undef on error&quot;);</td></tr>
<tr><td class="h">1951</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($error_patterns{implicit_undef}) {</td></tr>
<tr><td class="h">1952</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{error_return} = &#39;undef&#39;;</td></tr>
<tr><td class="h">1953</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Returns implicit undef on error&quot;);</td></tr>
<tr><td class="h">1954</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($error_patterns{empty_list}) {</td></tr>
<tr><td class="h">1955</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{error_return} = &#39;empty_list&#39;;</td></tr>
<tr><td class="h">1956</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Returns empty list on error&quot;);</td></tr>
<tr><td class="h">1957</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($error_patterns{zero_on_error}) {</td></tr>
<tr><td class="h">1958</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{error_return} = &#39;false&#39;;</td></tr>
<tr><td class="h">1959</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Returns 0/false on error&quot;);</td></tr>
<tr><td class="h">1960</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1961</td><td colspan="6"></td></tr><tr><td class="h">1962</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1962">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($error_patterns{exception_handling}) {</td></tr>
<tr><td class="h">1963</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: Has exception handling&quot;);</td></tr>
<tr><td class="h">1964</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1965</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1966</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">1967</td><td colspan="6"></td></tr><tr><td class="h">1968</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Helper method: Infer type from an expression</td></tr>
<tr><td class="h">1969</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _infer_type_from_expression {</td></tr>
<tr><td class="h">1970</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L1970">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $expr) = @_;</td></tr>
<tr><td class="h">1971</td><td colspan="6"></td></tr><tr><td class="h">1972</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1972">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;scalar&#39; } unless defined $expr;</td></tr>
<tr><td class="h">1973</td><td colspan="6"></td></tr><tr><td class="h">1974</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$expr =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">1975</td><td colspan="6"></td></tr><tr><td class="h">1976</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for multiple comma-separated values (indicates array/list)</td></tr>
<tr><td class="h">1977</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1977">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /,/) {</td></tr>
<tr><td class="h">1978</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $comma_count = 0;</td></tr>
<tr><td class="h">1979</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $depth = 0;</td></tr>
<tr><td class="h">1980</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $char (split //, $expr) {</td></tr>
<tr><td class="h">1981</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1981">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$depth++ if $char =~ /[\(\[\{]/;</td></tr>
<tr><td class="h">1982</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1982">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$depth-- if $char =~ /[\)\]\}]/;</td></tr>
<tr><td class="h">1983</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1983">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1983">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$comma_count++ if $char eq &#39;,&#39; &amp;&amp; $depth == 0;</td></tr>
<tr><td class="h">1984</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1985</td><td colspan="6"></td></tr><tr><td class="h">1986</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1986">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($comma_count &gt; 0) {</td></tr>
<tr><td class="h">1987</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;array&#39; };</td></tr>
<tr><td class="h">1988</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1989</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1990</td><td colspan="6"></td></tr><tr><td class="h">1991</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for @ prefix (array)</td></tr>
<tr><td class="h">1992</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1992">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L1992">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^\@\w+/ || $expr =~ /^qw\(/ || $expr =~ /^\@\{/) {</td></tr>
<tr><td class="h">1993</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;array&#39; };</td></tr>
<tr><td class="h">1994</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">1995</td><td colspan="6"></td></tr><tr><td class="h">1996</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for scalar() function - returns count</td></tr>
<tr><td class="h">1997</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L1997">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /scalar\s*\(/) {</td></tr>
<tr><td class="h">1998</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;integer&#39; };</td></tr>
<tr><td class="h">1999</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2000</td><td colspan="6"></td></tr><tr><td class="h">2001</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for array reference</td></tr>
<tr><td class="h">2002</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2002">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2002">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^\[/ || $expr =~ /^\\\@/) {</td></tr>
<tr><td class="h">2003</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;arrayref&#39; };</td></tr>
<tr><td class="h">2004</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2005</td><td colspan="6"></td></tr><tr><td class="h">2006</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for hash reference</td></tr>
<tr><td class="h">2007</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2007">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2007">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^\{/ || $expr =~ /^\\\%/) {</td></tr>
<tr><td class="h">2008</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;hashref&#39; };</td></tr>
<tr><td class="h">2009</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2010</td><td colspan="6"></td></tr><tr><td class="h">2011</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for hash</td></tr>
<tr><td class="h">2012</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2012">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2012">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^\%\w+/ || $expr =~ /^\%\{/) {</td></tr>
<tr><td class="h">2013</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;hash&#39; };</td></tr>
<tr><td class="h">2014</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2015</td><td colspan="6"></td></tr><tr><td class="h">2016</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for strings</td></tr>
<tr><td class="h">2017</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2017">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2017">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^[&#39;&quot;]/ || $expr =~ /[&#39;&quot;]$/) {</td></tr>
<tr><td class="h">2018</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;string&#39; };</td></tr>
<tr><td class="h">2019</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2020</td><td colspan="6"></td></tr><tr><td class="h">2021</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for numbers</td></tr>
<tr><td class="h">2022</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2022">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^-?\d+$/) {</td></tr>
<tr><td class="h">2023</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;integer&#39; };</td></tr>
<tr><td class="h">2024</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2025</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2025">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^-?\d+\.\d+$/) {</td></tr>
<tr><td class="h">2026</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;number&#39; };</td></tr>
<tr><td class="h">2027</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2028</td><td colspan="6"></td></tr><tr><td class="h">2029</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for booleans</td></tr>
<tr><td class="h">2030</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2030">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /^[01]$/) {</td></tr>
<tr><td class="h">2031</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;boolean&#39; };</td></tr>
<tr><td class="h">2032</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2033</td><td colspan="6"></td></tr><tr><td class="h">2034</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Check for objects</td></tr>
<tr><td class="h">2035</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2035">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($expr =~ /bless/) {</td></tr>
<tr><td class="h">2036</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;object&#39; };</td></tr>
<tr><td class="h">2037</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2038</td><td colspan="6"></td></tr><tr><td class="h">2039</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Default to scalar</td></tr>
<tr><td class="h">2040</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return { type =&gt; &#39;scalar&#39; };</td></tr>
<tr><td class="h">2041</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2042</td><td colspan="6"></td></tr><tr><td class="h">2043</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Addition to _analyze_output_from_pod to detect chaining documentation</td></tr>
<tr><td class="h">2044</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_chaining_from_pod {</td></tr>
<tr><td class="h">2045</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2045">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output, $pod) = @_;</td></tr>
<tr><td class="h">2046</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2046">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return unless $pod;</td></tr>
<tr><td class="h">2047</td><td colspan="6"></td></tr><tr><td class="h">2048</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Look for explicit chaining documentation</td></tr>
<tr><td class="h">2049</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2049">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2049">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /returns?\s+(?:\$)?self\b/i ||</td></tr>
<tr><td class="h">2050</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pod =~ /chainable/i ||</td></tr>
<tr><td class="h">2051</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pod =~ /fluent\s+interface/i ||</td></tr>
<tr><td class="h">2052</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pod =~ /method\s+chaining/i) {</td></tr>
<tr><td class="h">2053</td><td colspan="6"></td></tr><tr><td class="h">2054</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{chainable} = 1;</td></tr>
<tr><td class="h">2055</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{returns_self} = 1;</td></tr>
<tr><td class="h">2056</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OUTPUT: POD indicates chainable/fluent interface&quot;);</td></tr>
<tr><td class="h">2057</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2058</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2059</td><td colspan="6"></td></tr><tr><td class="h">2060</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _validate_output {</td></tr>
<tr><td class="h">2061</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2061">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output) = @_;</td></tr>
<tr><td class="h">2062</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Warn about suspicious combinations</td></tr>
<tr><td class="h">2063</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2063">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2063">50</a></div></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined $output-&gt;{type} &amp;&amp; $output-&gt;{type} eq &#39;boolean&#39; &amp;&amp; !defined($output-&gt;{value})) {</td></tr>
<tr><td class="h">2064</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&#39;&nbsp;&nbsp;WARNING: Boolean type without value - may want to set value: 1&#39;);</td></tr>
<tr><td class="h">2065</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2066</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2066">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2066">50</a></div></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{value} &amp;&amp; defined $output-&gt;{type} &amp;&amp; $output-&gt;{type} ne &#39;boolean&#39;) {</td></tr>
<tr><td class="h">2067</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;WARNING: Value set but type is not boolean: $output-&gt;{type}&quot;);</td></tr>
<tr><td class="h">2068</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2069</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2070</td><td colspan="6"></td></tr><tr><td class="h">2071 - 2075</td><td colspan="5"></td><td class="s"><pre>=head2 _parse_constraints

Parse constraint strings like &quot;3-50 chars&quot; or &quot;positive&quot; or &quot;1-100&quot;.

=cut</pre></td></tr>
<tr><td class="h">2076</td><td colspan="6"></td></tr><tr><td class="h">2077</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _parse_constraints {</td></tr>
<tr><td class="h">2078</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2078">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $param, $constraint) = @_;</td></tr>
<tr><td class="h">2079</td><td colspan="6"></td></tr><tr><td class="h">2080</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Range: &quot;3-50&quot; or &quot;1-100 chars&quot;</td></tr>
<tr><td class="h">2081</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2081">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2081">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2081">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2081">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2081">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2081">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2081">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($constraint =~ /(\d+)\s*-\s*(\d+)/) {</td></tr>
<tr><td class="h">2082</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = $1;</td></tr>
<tr><td class="h">2083</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{max} = $2;</td></tr>
<tr><td class="h">2084</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2085</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($constraint =~ /(\d+)\s*\.\.\s*(\d+)/) {</td></tr>
<tr><td class="h">2086</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Range: 0..19</td></tr>
<tr><td class="h">2087</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = $1;</td></tr>
<tr><td class="h">2088</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{max} = $2;</td></tr>
<tr><td class="h">2089</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2090</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Minimum: &quot;min 3&quot; or &quot;at least 5&quot;</td></tr>
<tr><td class="h">2091</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($constraint =~ /(?:min|minimum|at least)\s*(\d+)/i) {</td></tr>
<tr><td class="h">2092</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = $1;</td></tr>
<tr><td class="h">2093</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2094</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Maximum: &quot;max 50&quot; or &quot;up to 100&quot;</td></tr>
<tr><td class="h">2095</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($constraint =~ /(?:max|maximum|up to)\s*(\d+)/i) {</td></tr>
<tr><td class="h">2096</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{max} = $1;</td></tr>
<tr><td class="h">2097</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2098</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Positive</td></tr>
<tr><td class="h">2099</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($constraint =~ /positive/i) {</td></tr>
<tr><td class="h">2100</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2100">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2100">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = 1 if $param-&gt;{type} &amp;&amp; $param-&gt;{type} eq &#39;integer&#39;;</td></tr>
<tr><td class="h">2101</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2101">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2101">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = 0.01 if $param-&gt;{type} &amp;&amp; $param-&gt;{type} eq &#39;number&#39;;</td></tr>
<tr><td class="h">2102</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2103</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Non-negative</td></tr>
<tr><td class="h">2104</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($constraint =~ /non-negative/i) {</td></tr>
<tr><td class="h">2105</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = 0;</td></tr>
<tr><td class="h">2106</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif($constraint =~ /(.+)?\s(.+)/) {</td></tr>
<tr><td class="h">2107</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($op, $val) = ($1, $2);</td></tr>
<tr><td class="h">2108</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2108">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(looks_like_number($val)) {</td></tr>
<tr><td class="h">2109</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2109">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2109">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2109">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2109">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($op eq &#39;&lt;&#39;) {</td></tr>
<tr><td class="h">2110</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{max} = $val - 1;</td></tr>
<tr><td class="h">2111</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&lt;=&#39;) {</td></tr>
<tr><td class="h">2112</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{max} = $val;</td></tr>
<tr><td class="h">2113</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&gt;&#39;) {</td></tr>
<tr><td class="h">2114</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = $val + 1;</td></tr>
<tr><td class="h">2115</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&gt;=&#39;) {</td></tr>
<tr><td class="h">2116</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param-&gt;{min} = $val;</td></tr>
<tr><td class="h">2117</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2118</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2119</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2120</td><td colspan="6"></td></tr><tr><td class="h">2121</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2121">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(defined($param-&gt;{max})) {</td></tr>
<tr><td class="h">2122</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Set max to $param-&gt;{max}&quot;);</td></tr>
<tr><td class="h">2123</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2124</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2124">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(defined($param-&gt;{min})) {</td></tr>
<tr><td class="h">2125</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Set min to $param-&gt;{min}&quot;);</td></tr>
<tr><td class="h">2126</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2127</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2128</td><td colspan="6"></td></tr><tr><td class="h">2129 - 2140</td><td colspan="5"></td><td class="s"><pre>=head2 _analyze_code

Analyze code patterns to infer parameter types and constraints.

Looks for common validation patterns:
&nbsp;&nbsp;- defined checks
&nbsp;&nbsp;- ref() checks
&nbsp;&nbsp;- regex matches
&nbsp;&nbsp;- length checks
&nbsp;&nbsp;- numeric comparisons

=cut</pre></td></tr>
<tr><td class="h">2141</td><td colspan="6"></td></tr><tr><td class="h">2142</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Enhanced _analyze_code with more pattern detection</td></tr>
<tr><td class="h">2143</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_code {</td></tr>
<tr><td class="h">2144</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2144">6</a></div></td><td><div>1738</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $code) = @_;</td></tr>
<tr><td class="h">2145</td><td colspan="6"></td></tr><tr><td class="h">2146</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %params;</td></tr>
<tr><td class="h">2147</td><td colspan="6"></td></tr><tr><td class="h">2148</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Safety check - limit parameter analysis to prevent runaway processing</td></tr>
<tr><td class="h">2149</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $param_count = 0;</td></tr>
<tr><td class="h">2150</td><td colspan="6"></td></tr><tr><td class="h">2151</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract parameter names from various signature styles</td></tr>
<tr><td class="h">2152</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_extract_parameters_from_signature(\%params, $code);</td></tr>
<tr><td class="h">2153</td><td colspan="6"></td></tr><tr><td class="h">2154</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_extract_defaults_from_code(\%params, $code);</td></tr>
<tr><td class="h">2155</td><td colspan="6"></td></tr><tr><td class="h">2156</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Infer types from defaults</td></tr>
<tr><td class="h">2157</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (keys %params) {</td></tr>
<tr><td class="h">2158</td><td><div class="c3">23</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2158">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2158">67</a></div></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($params{$param}{default} &amp;&amp; !$params{$param}{type}) {</td></tr>
<tr><td class="h">2159</td><td><div class="c3">16</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $params{$param}{default};</td></tr>
<tr><td class="h">2160</td><td><div class="c3">16</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2160">100</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2160">100</a></div></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ref($default) eq &#39;HASH&#39;) {</td></tr>
<tr><td class="h">2161</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$param}{type} = &#39;hashref&#39;;</td></tr>
<tr><td class="h">2162</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param type inferred as hashref from default&quot;);</td></tr>
<tr><td class="h">2163</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (ref($default) eq &#39;ARRAY&#39;) {</td></tr>
<tr><td class="h">2164</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$param}{type} = &#39;arrayref&#39;;</td></tr>
<tr><td class="h">2165</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param type inferred as arrayref from default&quot;);</td></tr>
<tr><td class="h">2166</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2167</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2168</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2169</td><td colspan="6"></td></tr><tr><td class="h">2170</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Analyze each parameter (with safety limit)</td></tr>
<tr><td class="h">2171</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (keys %params) {</td></tr>
<tr><td class="h">2172</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2172">50</a></div></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($param_count++ &gt; $self-&gt;{max_parameters}) {</td></tr>
<tr><td class="h">2173</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;WARNING: Max parameters ($self-&gt;{max_parameters}) exceeded, skipping remaining&quot;);</td></tr>
<tr><td class="h">2174</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">2175</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2176</td><td colspan="6"></td></tr><tr><td class="h">2177</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = \$params{$param};</td></tr>
<tr><td class="h">2178</td><td colspan="6"></td></tr><tr><td class="h">2179</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>36</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_analyze_parameter_type($p, $param, $code);</td></tr>
<tr><td class="h">2180</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>37</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_analyze_parameter_constraints($p, $param, $code);</td></tr>
<tr><td class="h">2181</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>48</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_analyze_parameter_validation($p, $param, $code);</td></tr>
<tr><td class="h">2182</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_analyze_advanced_types($p, $param, $code);</td></tr>
<tr><td class="h">2183</td><td colspan="6"></td></tr><tr><td class="h">2184</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Defined checks</td></tr>
<tr><td class="h">2185</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2185">50</a></div></td><td></td><td></td><td><div>327</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /defined\s*\(\s*\$$param\s*\)/) {</td></tr>
<tr><td class="h">2186</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{optional} = 0;</td></tr>
<tr><td class="h">2187</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param is required (defined check)&quot;);</td></tr>
<tr><td class="h">2188</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2189</td><td colspan="6"></td></tr><tr><td class="h">2190</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Exists checks for hash keys</td></tr>
<tr><td class="h">2191</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2191">50</a></div></td><td></td><td></td><td><div>302</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /exists\s*\(\s*\$$param\s*\)/) {</td></tr>
<tr><td class="h">2192</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;hashkey&#39;;</td></tr>
<tr><td class="h">2193</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param is a hash key&quot;);</td></tr>
<tr><td class="h">2194</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2195</td><td colspan="6"></td></tr><tr><td class="h">2196</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Scalar context for arrays</td></tr>
<tr><td class="h">2197</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2197">50</a></div></td><td></td><td></td><td><div>330</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /scalar\s*\(\s*\@?\$$param\s*\)/) {</td></tr>
<tr><td class="h">2198</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;array&#39;;</td></tr>
<tr><td class="h">2199</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param used in scalar context (array)&quot;);</td></tr>
<tr><td class="h">2200</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2201</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2202</td><td colspan="6"></td></tr><tr><td class="h">2203</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%params;</td></tr>
<tr><td class="h">2204</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2205</td><td colspan="6"></td></tr><tr><td class="h">2206</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_parameter_type {</td></tr>
<tr><td class="h">2207</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2207">23</a></div></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p_ref, $param, $code) = @_;</td></tr>
<tr><td class="h">2208</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $$p_ref;</td></tr>
<tr><td class="h">2209</td><td colspan="6"></td></tr><tr><td class="h">2210</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Type inference from ref() checks</td></tr>
<tr><td class="h">2211</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2211">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2211">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2211">50</a></div></td><td></td><td></td><td><div>1825</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /ref\s*\(\s*\$$param\s*\)\s*eq\s*[&#39;&quot;](ARRAY|HASH|SCALAR)[&#39;&quot;]/gi) {</td></tr>
<tr><td class="h">2212</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $reftype = lc($1);</td></tr>
<tr><td class="h">2213</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2213">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2213">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = $reftype eq &#39;array&#39; ? &#39;arrayref&#39; :</td></tr>
<tr><td class="h">2214</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$reftype eq &#39;hash&#39; ? &#39;hashref&#39; :</td></tr>
<tr><td class="h">2215</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;scalar&#39;;</td></tr>
<tr><td class="h">2216</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param is $p-&gt;{type} (ref check)&quot;);</td></tr>
<tr><td class="h">2217</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2218</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# ISA checks for objects</td></tr>
<tr><td class="h">2219</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($code =~ /\$$param\s*-&gt;\s*isa\s*\(\s*[&#39;&quot;]([^&#39;&quot;]+)[&#39;&quot;]\s*\)/i) {</td></tr>
<tr><td class="h">2220</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2221</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = $1;</td></tr>
<tr><td class="h">2222</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param is object of class $1&quot;);</td></tr>
<tr><td class="h">2223</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2224</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Blessed references</td></tr>
<tr><td class="h">2225</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($code =~ /bless\s+.*\$$param/) {</td></tr>
<tr><td class="h">2226</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2227</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param is blessed object&quot;);</td></tr>
<tr><td class="h">2228</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2229</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Array/hash operations</td></tr>
<tr><td class="h">2230</td><td><div class="c3">23</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2230">100</a></div></td><td></td><td></td><td><div>42</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!$p-&gt;{type}) {</td></tr>
<tr><td class="h">2231</td><td><div class="c3">20</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2231">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2231">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2231">33</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2231">33</a></div></td><td></td><td><div>780</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\@\{\s*\$$param\s*\}/ || $code =~ /push\s*\(\s*\@?\$$param/) {</td></tr>
<tr><td class="h">2232</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;arrayref&#39;;</td></tr>
<tr><td class="h">2233</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2234</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($code =~ /\%\{\s*\$$param\s*\}/ || $code =~ /\$$param\s*-&gt;\s*\{/) {</td></tr>
<tr><td class="h">2235</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;hashref&#39;;</td></tr>
<tr><td class="h">2236</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2237</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2238</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# After extracting defaults, infer type from the default value if type is unknown</td></tr>
<tr><td class="h">2239</td><td><div class="c3">23</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2239">100</a></div></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2239">100</a></div></td><td></td><td><div>53</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (!$p-&gt;{type} &amp;&amp; exists $p-&gt;{default}) {</td></tr>
<tr><td class="h">2240</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $p-&gt;{default};</td></tr>
<tr><td class="h">2241</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2241">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2241">50</a></div></td><td></td><td></td><td><div>29</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (ref($default) eq &#39;HASH&#39;) {</td></tr>
<tr><td class="h">2242</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;hashref&#39;;</td></tr>
<tr><td class="h">2243</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param type inferred as hashref from default&quot;);</td></tr>
<tr><td class="h">2244</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (ref($default) eq &#39;ARRAY&#39;) {</td></tr>
<tr><td class="h">2245</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;arrayref&#39;;</td></tr>
<tr><td class="h">2246</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param type inferred as arrayref from default&quot;);</td></tr>
<tr><td class="h">2247</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2248</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2249</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2250</td><td colspan="6"></td></tr><tr><td class="h">2251 - 2256</td><td colspan="5"></td><td class="s"><pre>=head2 _analyze_advanced_types

Enhanced type detection for DateTime, file handles, coderefs, and enums.
This adds semantic type information that can guide test generation.

=cut</pre></td></tr>
<tr><td class="h">2257</td><td colspan="6"></td></tr><tr><td class="h">2258</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_advanced_types {</td></tr>
<tr><td class="h">2259</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2259">23</a></div></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p_ref, $param, $code) = @_;</td></tr>
<tr><td class="h">2260</td><td colspan="6"></td></tr><tr><td class="h">2261</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Dereference once to get the hash reference</td></tr>
<tr><td class="h">2262</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $$p_ref;</td></tr>
<tr><td class="h">2263</td><td colspan="6"></td></tr><tr><td class="h">2264</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Now pass the dereferenced hash to the detection methods</td></tr>
<tr><td class="h">2265</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_datetime_type($p, $param, $code);</td></tr>
<tr><td class="h">2266</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_filehandle_type($p, $param, $code);</td></tr>
<tr><td class="h">2267</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>41</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_coderef_type($p, $param, $code);</td></tr>
<tr><td class="h">2268</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>30</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_detect_enum_type($p, $param, $code);</td></tr>
<tr><td class="h">2269</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2270</td><td colspan="6"></td></tr><tr><td class="h">2271 - 2275</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_datetime_type

Detect DateTime objects and date/time string parameters.

=cut</pre></td></tr>
<tr><td class="h">2276</td><td colspan="6"></td></tr><tr><td class="h">2277</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_datetime_type {</td></tr>
<tr><td class="h">2278</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2278">23</a></div></td><td><div>28</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p, $param, $code) = @_;</td></tr>
<tr><td class="h">2279</td><td colspan="6"></td></tr><tr><td class="h">2280</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Validate param is just a simple word</td></tr>
<tr><td class="h">2281</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2281">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2281">33</a></div></td><td></td><td><div>54</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless defined $param &amp;&amp; $param =~ /^\w+$/;</td></tr>
<tr><td class="h">2282</td><td colspan="6"></td></tr><tr><td class="h">2283</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# DateTime object detection via isa/UNIVERSAL checks</td></tr>
<tr><td class="h">2284</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2284">50</a></div></td><td></td><td></td><td><div>730</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*-&gt;\s*isa\s*\(\s*[&#39;&quot;]DateTime[&#39;&quot;]\s*\)/i) {</td></tr>
<tr><td class="h">2285</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2286</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = &#39;DateTime&#39;;</td></tr>
<tr><td class="h">2287</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;datetime_object&#39;;</td></tr>
<tr><td class="h">2288</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is DateTime object&quot;);</td></tr>
<tr><td class="h">2289</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2290</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2291</td><td colspan="6"></td></tr><tr><td class="h">2292</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for DateTime method calls</td></tr>
<tr><td class="h">2293</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2293">50</a></div></td><td></td><td></td><td><div>421</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*-&gt;\s*(ymd|dmy|mdy|hms|iso8601|epoch|strftime)/) {</td></tr>
<tr><td class="h">2294</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2295</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = &#39;DateTime&#39;;</td></tr>
<tr><td class="h">2296</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;datetime_object&#39;;</td></tr>
<tr><td class="h">2297</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param uses DateTime methods&quot;);</td></tr>
<tr><td class="h">2298</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2299</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2300</td><td colspan="6"></td></tr><tr><td class="h">2301</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Time::Piece detection</td></tr>
<tr><td class="h">2302</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2302">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2302">33</a></div></td><td></td><td><div>970</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*-&gt;\s*isa\s*\(\s*[&#39;&quot;]Time::Piece[&#39;&quot;]\s*\)/i ||</td></tr>
<tr><td class="h">2303</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /\$$param\s*-&gt;\s*(strftime|epoch|year|mon|mday)/) {</td></tr>
<tr><td class="h">2304</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2305</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = &#39;Time::Piece&#39;;</td></tr>
<tr><td class="h">2306</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;timepiece_object&#39;;</td></tr>
<tr><td class="h">2307</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is Time::Piece object&quot;);</td></tr>
<tr><td class="h">2308</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2309</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2310</td><td colspan="6"></td></tr><tr><td class="h">2311</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# String date/time patterns via regex matching</td></tr>
<tr><td class="h">2312</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2312">50</a></div></td><td></td><td></td><td><div>286</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*=~\s*\/.*?\\d\{4\}.*?\\d\{2\}.*?\\d\{2\}/) {</td></tr>
<tr><td class="h">2313</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">2314</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;date_string&#39;;</td></tr>
<tr><td class="h">2315</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{format} = &#39;YYYY-MM-DD or similar&#39;;</td></tr>
<tr><td class="h">2316</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param validated as date string pattern&quot;);</td></tr>
<tr><td class="h">2317</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2318</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2319</td><td colspan="6"></td></tr><tr><td class="h">2320</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# ISO 8601 date pattern</td></tr>
<tr><td class="h">2321</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2321">50</a></div></td><td></td><td></td><td><div>309</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*=~\s*\/.*?[Tt].*?[Zz].*?\//) {</td></tr>
<tr><td class="h">2322</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">2323</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;iso8601_string&#39;;</td></tr>
<tr><td class="h">2324</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{matches} = &#39;/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z?$/&#39;;</td></tr>
<tr><td class="h">2325</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param validated as ISO 8601 datetime&quot;);</td></tr>
<tr><td class="h">2326</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2327</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2328</td><td colspan="6"></td></tr><tr><td class="h">2329</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# UNIX timestamp detection (numeric with specific range)</td></tr>
<tr><td class="h">2330</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2330">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2330">25</a></div></td><td></td><td><div>924</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*&gt;\s*\d{9,}/ || # UNIX timestamps are 10+ digits</td></tr>
<tr><td class="h">2331</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /time\(\s*\)\s*-\s*\$$param/ ||</td></tr>
<tr><td class="h">2332</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /\$$param\s*-\s*time\(\s*\)/) {</td></tr>
<tr><td class="h">2333</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;integer&#39;;</td></tr>
<tr><td class="h">2334</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;unix_timestamp&#39;;</td></tr>
<tr><td class="h">2335</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{min} = 0;</td></tr>
<tr><td class="h">2336</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param appears to be UNIX timestamp&quot;);</td></tr>
<tr><td class="h">2337</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2338</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2339</td><td colspan="6"></td></tr><tr><td class="h">2340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Date parsing with strptime or similar</td></tr>
<tr><td class="h">2341</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2341">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2341">33</a></div></td><td></td><td><div>774</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /strptime\s*\(\s*\$$param/ ||</td></tr>
<tr><td class="h">2342</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /DateTime::Format::\w+\s*-&gt;\s*parse_datetime\s*\(\s*\$$param/) {</td></tr>
<tr><td class="h">2343</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">2344</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;datetime_parseable&#39;;</td></tr>
<tr><td class="h">2345</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is parsed as datetime&quot;);</td></tr>
<tr><td class="h">2346</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2347</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2348</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2349</td><td colspan="6"></td></tr><tr><td class="h">2350 - 2354</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_filehandle_type

Detect file handle parameters and file path strings.

=cut</pre></td></tr>
<tr><td class="h">2355</td><td colspan="6"></td></tr><tr><td class="h">2356</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_filehandle_type {</td></tr>
<tr><td class="h">2357</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2357">23</a></div></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p, $param, $code) = @_;</td></tr>
<tr><td class="h">2358</td><td colspan="6"></td></tr><tr><td class="h">2359</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2359">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2359">33</a></div></td><td></td><td><div>52</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless defined $param &amp;&amp; $param =~ /^\w+$/;</td></tr>
<tr><td class="h">2360</td><td colspan="6"></td></tr><tr><td class="h">2361</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# File handle operations</td></tr>
<tr><td class="h">2362</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2362">50</a></div></td><td></td><td></td><td><div>553</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:open|close|read|print|say|sysread|syswrite)\s*\(?\s*\$$param/) {</td></tr>
<tr><td class="h">2363</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2364</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = &#39;IO::Handle&#39;;</td></tr>
<tr><td class="h">2365</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;filehandle&#39;;</td></tr>
<tr><td class="h">2366</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is a file handle&quot;);</td></tr>
<tr><td class="h">2367</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2368</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2369</td><td colspan="6"></td></tr><tr><td class="h">2370</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Filehandle-specific operations</td></tr>
<tr><td class="h">2371</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2371">50</a></div></td><td></td><td></td><td><div>416</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*-&gt;\s*(readline|getline|print|say|close|flush|autoflush)/) {</td></tr>
<tr><td class="h">2372</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2373</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = &#39;IO::Handle&#39;;</td></tr>
<tr><td class="h">2374</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;filehandle&#39;;</td></tr>
<tr><td class="h">2375</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param uses filehandle methods&quot;);</td></tr>
<tr><td class="h">2376</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2377</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2378</td><td colspan="6"></td></tr><tr><td class="h">2379</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# File test operators</td></tr>
<tr><td class="h">2380</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2380">50</a></div></td><td></td><td></td><td><div>286</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:-[frwxoOeszlpSbctugkTBMAC])\s+\$$param/) {</td></tr>
<tr><td class="h">2381</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">2382</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;filepath&#39;;</td></tr>
<tr><td class="h">2383</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is tested as file path&quot;);</td></tr>
<tr><td class="h">2384</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2385</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2386</td><td colspan="6"></td></tr><tr><td class="h">2387</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# File::Spec operations or path manipulation</td></tr>
<tr><td class="h">2388</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2388">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2388">33</a></div></td><td></td><td><div>839</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /File::(?:Spec|Basename)::\w+\s*\(\s*\$$param/ ||</td></tr>
<tr><td class="h">2389</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /(?:basename|dirname|fileparse)\s*\(\s*\$$param/) {</td></tr>
<tr><td class="h">2390</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">2391</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;filepath&#39;;</td></tr>
<tr><td class="h">2392</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param manipulated as file path&quot;);</td></tr>
<tr><td class="h">2393</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2394</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2395</td><td colspan="6"></td></tr><tr><td class="h">2396</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Path validation patterns</td></tr>
<tr><td class="h">2397</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2397">50</a></div></td><td></td><td></td><td><div>311</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*=~\s*\/.*?[\\\/].*?\//) {</td></tr>
<tr><td class="h">2398</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">2399</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;filepath&#39;;</td></tr>
<tr><td class="h">2400</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param validated with path pattern&quot;);</td></tr>
<tr><td class="h">2401</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2402</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2403</td><td colspan="6"></td></tr><tr><td class="h">2404</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# IO::File detection</td></tr>
<tr><td class="h">2405</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2405">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2405">33</a></div></td><td></td><td><div>961</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*-&gt;\s*isa\s*\(\s*[&#39;&quot;]IO::File[&#39;&quot;]\s*\)/ ||</td></tr>
<tr><td class="h">2406</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /IO::File\s*-&gt;\s*new\s*\(\s*\$$param/) {</td></tr>
<tr><td class="h">2407</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2408</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = &#39;IO::File&#39;;</td></tr>
<tr><td class="h">2409</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;filehandle&#39;;</td></tr>
<tr><td class="h">2410</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is IO::File object&quot;);</td></tr>
<tr><td class="h">2411</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2412</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2413</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2414</td><td colspan="6"></td></tr><tr><td class="h">2415 - 2419</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_coderef_type

Detect coderef/callback parameters.

=cut</pre></td></tr>
<tr><td class="h">2420</td><td colspan="6"></td></tr><tr><td class="h">2421</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_coderef_type {</td></tr>
<tr><td class="h">2422</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2422">23</a></div></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p, $param, $code) = @_;</td></tr>
<tr><td class="h">2423</td><td colspan="6"></td></tr><tr><td class="h">2424</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2424">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2424">33</a></div></td><td></td><td><div>48</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless defined $param &amp;&amp; $param =~ /^\w+$/;</td></tr>
<tr><td class="h">2425</td><td colspan="6"></td></tr><tr><td class="h">2426</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# ref() check for CODE</td></tr>
<tr><td class="h">2427</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2427">50</a></div></td><td></td><td></td><td><div>641</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /ref\s*\(\s*\$$param\s*\)\s*eq\s*[&#39;&quot;]CODE[&#39;&quot;]/i) {</td></tr>
<tr><td class="h">2428</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;coderef&#39;;</td></tr>
<tr><td class="h">2429</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;callback&#39;;</td></tr>
<tr><td class="h">2430</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is coderef (ref check)&quot;);</td></tr>
<tr><td class="h">2431</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2432</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2433</td><td colspan="6"></td></tr><tr><td class="h">2434</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Invocation as coderef - note the escaped @ in \@_</td></tr>
<tr><td class="h">2435</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2435">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2435">25</a></div></td><td></td><td><div>874</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*-&gt;\s*\(/ ||</td></tr>
<tr><td class="h">2436</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /\$$param\s*-&gt;\s*\(\s*\@_\s*\)/ ||</td></tr>
<tr><td class="h">2437</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /&amp;\s*\{\s*\$$param\s*\}/) {</td></tr>
<tr><td class="h">2438</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;coderef&#39;;</td></tr>
<tr><td class="h">2439</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;callback&#39;;</td></tr>
<tr><td class="h">2440</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param invoked as coderef&quot;);</td></tr>
<tr><td class="h">2441</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2442</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2443</td><td colspan="6"></td></tr><tr><td class="h">2444</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Parameter name suggests callback</td></tr>
<tr><td class="h">2445</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2445">50</a></div></td><td></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($param =~ /^(?:callback|cb|handler|sub|code|fn|func|on_\w+)$/i) {</td></tr>
<tr><td class="h">2446</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;coderef&#39;;</td></tr>
<tr><td class="h">2447</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;callback&#39;;</td></tr>
<tr><td class="h">2448</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param name suggests coderef&quot;);</td></tr>
<tr><td class="h">2449</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2450</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2451</td><td colspan="6"></td></tr><tr><td class="h">2452</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Blessed coderef (unusual but valid)</td></tr>
<tr><td class="h">2453</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2453">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2453">33</a></div></td><td></td><td><div>332</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /blessed\s*\(\s*\$$param\s*\)/ &amp;&amp;</td></tr>
<tr><td class="h">2454</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /ref\s*\(\s*\$$param\s*\)\s*eq\s*[&#39;&quot;]CODE[&#39;&quot;]/i) {</td></tr>
<tr><td class="h">2455</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">2456</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{isa} = &#39;blessed_coderef&#39;;</td></tr>
<tr><td class="h">2457</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;callback&#39;;</td></tr>
<tr><td class="h">2458</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is blessed coderef&quot;);</td></tr>
<tr><td class="h">2459</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2460</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2461</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2462</td><td colspan="6"></td></tr><tr><td class="h">2463 - 2467</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_enum_type

Detect enum-like parameters with fixed set of valid values.

=cut</pre></td></tr>
<tr><td class="h">2468</td><td colspan="6"></td></tr><tr><td class="h">2469</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_enum_type {</td></tr>
<tr><td class="h">2470</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2470">23</a></div></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p, $param, $code) = @_;</td></tr>
<tr><td class="h">2471</td><td colspan="6"></td></tr><tr><td class="h">2472</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2472">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2472">33</a></div></td><td></td><td><div>46</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless defined $param &amp;&amp; $param =~ /^\w+$/;</td></tr>
<tr><td class="h">2473</td><td colspan="6"></td></tr><tr><td class="h">2474</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: die/croak unless value is in list</td></tr>
<tr><td class="h">2475</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# die &#39;Invalid status&#39; unless $status =~ /^(active|inactive|pending)$/;</td></tr>
<tr><td class="h">2476</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2476">50</a></div></td><td></td><td></td><td><div>407</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /unless\s+\$$param\s*=~\s*\/\^?\(([^)]+)\)/) {</td></tr>
<tr><td class="h">2477</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $values = $1;</td></tr>
<tr><td class="h">2478</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @enum_values = split(/\|/, $values);</td></tr>
<tr><td class="h">2479</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2479">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39; unless $p-&gt;{type};</td></tr>
<tr><td class="h">2480</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{enum} = \@enum_values;</td></tr>
<tr><td class="h">2481</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;enum&#39;;</td></tr>
<tr><td class="h">2482</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param is enum with values: &quot; . join(&#39;, &#39;, @enum_values));</td></tr>
<tr><td class="h">2483</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2484</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2485</td><td colspan="6"></td></tr><tr><td class="h">2486</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: Hash lookup for validation</td></tr>
<tr><td class="h">2487</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# my %valid = map { $_ =&gt; 1 } qw(red green blue);</td></tr>
<tr><td class="h">2488</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# die unless $valid{$param};</td></tr>
<tr><td class="h">2489</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2489">50</a></div></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\%(\w+)\s*=.*?qw\s*[\(\[&lt;{]([^)\]&gt;}]+)[\)\]&gt;}]/) {</td></tr>
<tr><td class="h">2490</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $hash_name = $1;</td></tr>
<tr><td class="h">2491</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $values_str = $2;</td></tr>
<tr><td class="h">2492</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2492">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2492">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $values_str &amp;&amp; $code =~ /\$$hash_name\s*\{\s*\$$param\s*\}/) {</td></tr>
<tr><td class="h">2493</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @enum_values = split(/\s+/, $values_str);</td></tr>
<tr><td class="h">2494</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2494">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39; unless $p-&gt;{type};</td></tr>
<tr><td class="h">2495</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{enum} = \@enum_values;</td></tr>
<tr><td class="h">2496</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;enum&#39;;</td></tr>
<tr><td class="h">2497</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param validated via hash lookup: &quot; . join(&#39;, &#39;, @enum_values));</td></tr>
<tr><td class="h">2498</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2499</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2500</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2501</td><td colspan="6"></td></tr><tr><td class="h">2502</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: Array grep validation</td></tr>
<tr><td class="h">2503</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# die unless grep { $_ eq $param } qw(foo bar baz);</td></tr>
<tr><td class="h">2504</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2504">50</a></div></td><td></td><td></td><td><div>569</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /grep\s*\{[^}]*\$$param[^}]*\}\s*qw\s*[\(\[&lt;{]([^)\]&gt;}]+)[\)\]&gt;}]/) {</td></tr>
<tr><td class="h">2505</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $values_str = $1;</td></tr>
<tr><td class="h">2506</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @enum_values = split(/\s+/, $values_str);</td></tr>
<tr><td class="h">2507</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2507">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39; unless $p-&gt;{type};</td></tr>
<tr><td class="h">2508</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{enum} = \@enum_values;</td></tr>
<tr><td class="h">2509</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;enum&#39;;</td></tr>
<tr><td class="h">2510</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param validated via grep: &quot; . join(&#39;, &#39;, @enum_values));</td></tr>
<tr><td class="h">2511</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2512</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2513</td><td colspan="6"></td></tr><tr><td class="h">2514</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 4: Given/when (Perl 5.10+)</td></tr>
<tr><td class="h">2515</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2515">50</a></div></td><td></td><td></td><td><div>307</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /given\s*\(\s*\$$param\s*\)/) {</td></tr>
<tr><td class="h">2516</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @enum_values;</td></tr>
<tr><td class="h">2517</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /when\s*\(\s*[&#39;&quot;]([^&#39;&quot;]+)[&#39;&quot;]\s*\)/g) {</td></tr>
<tr><td class="h">2518</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @enum_values, $1;</td></tr>
<tr><td class="h">2519</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2520</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2520">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@enum_values &gt;= 2) {</td></tr>
<tr><td class="h">2521</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2521">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39; unless $p-&gt;{type};</td></tr>
<tr><td class="h">2522</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{enum} = \@enum_values;</td></tr>
<tr><td class="h">2523</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;enum&#39;;</td></tr>
<tr><td class="h">2524</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param has enum values from given/when: &quot; .</td></tr>
<tr><td class="h">2525</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;join(&#39;, &#39;, @enum_values));</td></tr>
<tr><td class="h">2526</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2527</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2528</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2529</td><td colspan="6"></td></tr><tr><td class="h">2530</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 5: Multiple if/elsif checking specific values</td></tr>
<tr><td class="h">2531</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @if_values;</td></tr>
<tr><td class="h">2532</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>679</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /if\s*\(\s*\$$param\s*eq\s*[&#39;&quot;]([^&#39;&quot;]+)[&#39;&quot;]\s*\)/g) {</td></tr>
<tr><td class="h">2533</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @if_values, $1;</td></tr>
<tr><td class="h">2534</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2535</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>666</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /elsif\s*\(\s*\$$param\s*eq\s*[&#39;&quot;]([^&#39;&quot;]+)[&#39;&quot;]\s*\)/g) {</td></tr>
<tr><td class="h">2536</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @if_values, $1;</td></tr>
<tr><td class="h">2537</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2538</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2538">50</a></div></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@if_values &gt;= 3) {</td></tr>
<tr><td class="h">2539</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2539">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39; unless $p-&gt;{type};</td></tr>
<tr><td class="h">2540</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{enum} = \@if_values;</td></tr>
<tr><td class="h">2541</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;enum&#39;;</td></tr>
<tr><td class="h">2542</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param appears to be enum from if/elsif: &quot; .</td></tr>
<tr><td class="h">2543</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;join(&#39;, &#39;, @if_values));</td></tr>
<tr><td class="h">2544</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2545</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2546</td><td colspan="6"></td></tr><tr><td class="h">2547</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 6: Smart match (~~) with array</td></tr>
<tr><td class="h">2548</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2548">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2548">33</a></div></td><td></td><td><div>792</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*~~\s*\[([^\]]+)\]/ ||</td></tr>
<tr><td class="h">2549</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /\$$param\s*~~\s*qw\s*[\(\[&lt;{]([^)\]&gt;}]+)[\)\]&gt;}]/) {</td></tr>
<tr><td class="h">2550</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $values_str = $1;</td></tr>
<tr><td class="h">2551</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @enum_values;</td></tr>
<tr><td class="h">2552</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2552">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($values_str =~ /[&#39;&quot;]/) {</td></tr>
<tr><td class="h">2553</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@enum_values = $values_str =~ /[&#39;&quot;](.*?)[&#39;&quot;]/g;</td></tr>
<tr><td class="h">2554</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2555</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@enum_values = split(/\s+/, $values_str);</td></tr>
<tr><td class="h">2556</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2557</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2557">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@enum_values) {</td></tr>
<tr><td class="h">2558</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2558">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39; unless $p-&gt;{type};</td></tr>
<tr><td class="h">2559</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{enum} = \@enum_values;</td></tr>
<tr><td class="h">2560</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{semantic} = &#39;enum&#39;;</td></tr>
<tr><td class="h">2561</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;ADVANCED: $param validated with smart match: &quot; .</td></tr>
<tr><td class="h">2562</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;join(&#39;, &#39;, @enum_values));</td></tr>
<tr><td class="h">2563</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">2564</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2565</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2566</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2567</td><td colspan="6"></td></tr><tr><td class="h">2568</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _extract_parameters_from_signature {</td></tr>
<tr><td class="h">2569</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2569">6</a></div></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $params, $code) = @_;</td></tr>
<tr><td class="h">2570</td><td colspan="6"></td></tr><tr><td class="h">2571</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Style 1: my ($self, $arg1, $arg2) = @_;</td></tr>
<tr><td class="h">2572</td><td><div class="c3">6</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2572">50</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2572">0</a></div></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /my\s*\(\s*\$\w+\s*,\s*([^)]+)\)\s*=\s*\@_/s) {</td></tr>
<tr><td class="h">2573</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $sig = $1;</td></tr>
<tr><td class="h">2574</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($sig =~ /\$(\w+)/g) {</td></tr>
<tr><td class="h">2575</td><td><div class="c3">23</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2575">50</a></div></td><td></td><td><div>60</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$1} ||= { _source =&gt; &#39;code&#39; };</td></tr>
<tr><td class="h">2576</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2577</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2578</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Style 2: my $self = shift; my $arg1 = shift; ...</td></tr>
<tr><td class="h">2579</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($code =~ /my\s+\$self\s*=\s*shift/) {</td></tr>
<tr><td class="h">2580</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @shifts;</td></tr>
<tr><td class="h">2581</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /my\s+\$(\w+)\s*=\s*shift/g) {</td></tr>
<tr><td class="h">2582</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @shifts, $1;</td></tr>
<tr><td class="h">2583</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2584</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip $self and get parameters</td></tr>
<tr><td class="h">2585</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2585">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2585">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift @shifts if @shifts &amp;&amp; $shifts[0] =~ /^(self|class)$/i;</td></tr>
<tr><td class="h">2586</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (@shifts) {</td></tr>
<tr><td class="h">2587</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2587">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param} ||= { _source =&gt; &#39;code&#39; };</td></tr>
<tr><td class="h">2588</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2589</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2590</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Style 3: Function parameters (no $self)</td></tr>
<tr><td class="h">2591</td><td><div class="c3">6</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2591">50</a></div></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /my\s*\(\s*([^)]+)\)\s*=\s*\@_/s) {</td></tr>
<tr><td class="h">2592</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $sig = $1;</td></tr>
<tr><td class="h">2593</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @params = $sig =~ /\$(\w+)/g;</td></tr>
<tr><td class="h">2594</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (@params) {</td></tr>
<tr><td class="h">2595</td><td><div class="c3">29</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2595">100</a></div></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $param =~ /^(self|class)$/i;</td></tr>
<tr><td class="h">2596</td><td><div class="c3">23</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2596">50</a></div></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param} ||= { _source =&gt; &#39;code&#39; };</td></tr>
<tr><td class="h">2597</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2598</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2599</td><td colspan="6"></td></tr><tr><td class="h">2600</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# De-duplicate</td></tr>
<tr><td class="h">2601</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %seen;</td></tr>
<tr><td class="h">2602</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (keys %$params) {</td></tr>
<tr><td class="h">2603</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2603">50</a></div></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($seen{$param}++) {</td></tr>
<tr><td class="h">2604</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;WARNING: Duplicate parameter &#39;$param&#39; found&quot;);</td></tr>
<tr><td class="h">2605</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2606</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2607</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2608</td><td colspan="6"></td></tr><tr><td class="h">2609</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _extract_defaults_from_code {</td></tr>
<tr><td class="h">2610</td><td><div class="c3">6</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2610">6</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $params, $code) = @_;</td></tr>
<tr><td class="h">2611</td><td colspan="6"></td></tr><tr><td class="h">2612</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: my $param = value;</td></tr>
<tr><td class="h">2613</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /my\s+\$(\w+)\s*=\s*([^;]+);/g) {</td></tr>
<tr><td class="h">2614</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2615</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2615">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};</td></tr>
<tr><td class="h">2616</td><td colspan="6"></td></tr><tr><td class="h">2617</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2618</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2619</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default: &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2620</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2621</td><td colspan="6"></td></tr><tr><td class="h">2622</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: $param = value unless defined $param;</td></tr>
<tr><td class="h">2623</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /\$(\w+)\s*=\s*([^;]+?)\s+unless\s+(?:defined\s+)?\$\1/g) {</td></tr>
<tr><td class="h">2624</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2625</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2625">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};</td></tr>
<tr><td class="h">2626</td><td colspan="6"></td></tr><tr><td class="h">2627</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2628</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2629</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default (unless): &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2630</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2631</td><td colspan="6"></td></tr><tr><td class="h">2632</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: $param = value unless $param;</td></tr>
<tr><td class="h">2633</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /\$(\w+)\s*=\s*([^;]+?)\s+unless\s+\$\1/g) {</td></tr>
<tr><td class="h">2634</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2635</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2635">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};</td></tr>
<tr><td class="h">2636</td><td colspan="6"></td></tr><tr><td class="h">2637</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2638</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2639</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default (unless): &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2640</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2641</td><td colspan="6"></td></tr><tr><td class="h">2642</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 4: $param = $param || &#39;default&#39;;</td></tr>
<tr><td class="h">2643</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /\$(\w+)\s*=\s*\$\1\s*\|\|\s*([^;]+);/g) {</td></tr>
<tr><td class="h">2644</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2645</td><td><div class="c3">7</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2645">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};</td></tr>
<tr><td class="h">2646</td><td colspan="6"></td></tr><tr><td class="h">2647</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2648</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2649</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default (||): &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2650</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2651</td><td colspan="6"></td></tr><tr><td class="h">2652</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 5: $param ||= &#39;default&#39;;</td></tr>
<tr><td class="h">2653</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /\$(\w+)\s*\|\|=\s*([^;]+);/g) {</td></tr>
<tr><td class="h">2654</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2655</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2655">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};</td></tr>
<tr><td class="h">2656</td><td colspan="6"></td></tr><tr><td class="h">2657</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2658</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2659</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default (||=): &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2660</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2661</td><td colspan="6"></td></tr><tr><td class="h">2662</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 6: $param //= &#39;default&#39;;</td></tr>
<tr><td class="h">2663</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>24</div></td><td class="s">while ($code =~ /\$(\w+)\s*\/\/=\s*([^;]+);/g) {</td></tr>
<tr><td class="h">2664</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2665</td><td><div class="c3">5</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2665">50</a></div></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};&nbsp;&nbsp;# Using -&gt; because $params is a reference</td></tr>
<tr><td class="h">2666</td><td colspan="6"></td></tr><tr><td class="h">2667</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2668</td><td colspan="6"></td></tr><tr><td class="h">2669</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2670</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default (//=): &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2671</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2672</td><td colspan="6"></td></tr><tr><td class="h">2673</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Pattern 7: $param = defined $param ? $param : &#39;default&#39;;</td></tr>
<tr><td class="h">2674</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>33</div></td><td class="s">while ($code =~ /\$(\w+)\s*=\s*defined\s+\$\1\s*\?\s*\$\1\s*:\s*([^;]+);/g) {</td></tr>
<tr><td class="h">2675</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2676</td><td colspan="6"></td></tr><tr><td class="h">2677</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Create param entry if it doesn&#39;t exist</td></tr>
<tr><td class="h">2678</td><td><div class="c3">4</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2678">50</a></div></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param} ||= {};</td></tr>
<tr><td class="h">2679</td><td colspan="6"></td></tr><tr><td class="h">2680</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $cleaned = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2681</td><td colspan="6"></td></tr><tr><td class="h">2682</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $cleaned;</td></tr>
<tr><td class="h">2683</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2684</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default (ternary): &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2685</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2686</td><td colspan="6"></td></tr><tr><td class="h">2687</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 8: $param = $args{param} || &#39;default&#39;;</td></tr>
<tr><td class="h">2688</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while ($code =~ /\$(\w+)\s*=\s*\$args\{[&#39;&quot;]?\w+[&#39;&quot;]?\}\s*\|\|\s*([^;]+);/g) {</td></tr>
<tr><td class="h">2689</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2690</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2690">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};</td></tr>
<tr><td class="h">2691</td><td colspan="6"></td></tr><tr><td class="h">2692</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = $self-&gt;_clean_default_value($value, 1);</td></tr>
<tr><td class="h">2693</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2694</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default (from args): &quot; . $self-&gt;_format_default($params-&gt;{$param}{default}));</td></tr>
<tr><td class="h">2695</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2696</td><td colspan="6"></td></tr><tr><td class="h">2697</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern for non-empty hashref</td></tr>
<tr><td class="h">2698</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">while ($code =~ /\$(\w+)\s*\|\|=\s*(\{[^}]+\})/gs) {</td></tr>
<tr><td class="h">2699</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($param, $value) = ($1, $2);</td></tr>
<tr><td class="h">2700</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2700">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;next unless exists $params-&gt;{$param};</td></tr>
<tr><td class="h">2701</td><td colspan="6"></td></tr><tr><td class="h">2702</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Return empty hashref as placeholder (can&#39;t evaluate complex hashrefs)</td></tr>
<tr><td class="h">2703</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{default} = {};</td></tr>
<tr><td class="h">2704</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$params-&gt;{$param}{optional} = 1;</td></tr>
<tr><td class="h">2705</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has hashref default (||=)&quot;);</td></tr>
<tr><td class="h">2706</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2707</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2708</td><td colspan="6"></td></tr><tr><td class="h">2709</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _format_default {</td></tr>
<tr><td class="h">2710</td><td><div class="c3">21</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2710">21</a></div></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $default) = @_;</td></tr>
<tr><td class="h">2711</td><td><div class="c3">21</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2711">100</a></div></td><td></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return &#39;undef&#39; unless defined $default;</td></tr>
<tr><td class="h">2712</td><td><div class="c3">20</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2712">100</a></div></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ref($default) . &#39; ref&#39; if ref($default);</td></tr>
<tr><td class="h">2713</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $default;</td></tr>
<tr><td class="h">2714</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2715</td><td colspan="6"></td></tr><tr><td class="h">2716</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_parameter_constraints {</td></tr>
<tr><td class="h">2717</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2717">23</a></div></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p_ref, $param, $code) = @_;</td></tr>
<tr><td class="h">2718</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $$p_ref;</td></tr>
<tr><td class="h">2719</td><td colspan="6"></td></tr><tr><td class="h">2720</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Length checks for strings</td></tr>
<tr><td class="h">2721</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2721">50</a></div></td><td></td><td></td><td><div>568</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /length\s*\(\s*\$$param\s*\)\s*([&lt;&gt;]=?)\s*(\d+)/) {</td></tr>
<tr><td class="h">2722</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($op, $val) = ($1, $2);</td></tr>
<tr><td class="h">2723</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2723">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} ||= &#39;string&#39;;</td></tr>
<tr><td class="h">2724</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2724">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2724">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2724">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2724">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($op eq &#39;&lt;&#39;) {</td></tr>
<tr><td class="h">2725</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{max} = $val - 1;</td></tr>
<tr><td class="h">2726</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&lt;=&#39;) {</td></tr>
<tr><td class="h">2727</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{max} = $val;</td></tr>
<tr><td class="h">2728</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&gt;&#39;) {</td></tr>
<tr><td class="h">2729</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{min} = $val + 1;</td></tr>
<tr><td class="h">2730</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&gt;=&#39;) {</td></tr>
<tr><td class="h">2731</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{min} = $val;</td></tr>
<tr><td class="h">2732</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2733</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param length constraint $op $val&quot;);</td></tr>
<tr><td class="h">2734</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2735</td><td colspan="6"></td></tr><tr><td class="h">2736</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Numeric range checks</td></tr>
<tr><td class="h">2737</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2737">50</a></div></td><td></td><td></td><td><div>481</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*([&lt;&gt;]=?)\s*([+-]?(?:\d+\.?\d*|\.\d+))/) {</td></tr>
<tr><td class="h">2738</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($op, $val) = ($1, $2);</td></tr>
<tr><td class="h">2739</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2739">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2739">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} ||= looks_like_number($val) ? &#39;number&#39; : &#39;integer&#39;;</td></tr>
<tr><td class="h">2740</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2740">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2740">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2740">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2740">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($op eq &#39;&lt;&#39;) {</td></tr>
<tr><td class="h">2741</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{max} = $val - 1;</td></tr>
<tr><td class="h">2742</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&lt;=&#39;) {</td></tr>
<tr><td class="h">2743</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{max} = $val;</td></tr>
<tr><td class="h">2744</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&gt;&#39;) {</td></tr>
<tr><td class="h">2745</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{min} = $val + 1;</td></tr>
<tr><td class="h">2746</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($op eq &#39;&gt;=&#39;) {</td></tr>
<tr><td class="h">2747</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{min} = $val;</td></tr>
<tr><td class="h">2748</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2749</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param numeric constraint $op $val&quot;);</td></tr>
<tr><td class="h">2750</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2751</td><td colspan="6"></td></tr><tr><td class="h">2752</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Regex pattern matching with better capture</td></tr>
<tr><td class="h">2753</td><td><div class="c3">23</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2753">50</a></div></td><td></td><td></td><td><div>1195</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /\$$param\s*=~\s*((?:qr?\/[^\/]+\/|\$[\w:]+|\$\{\w+\}))/) {</td></tr>
<tr><td class="h">2754</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pattern = $1;</td></tr>
<tr><td class="h">2755</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2755">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} ||= &#39;string&#39;;</td></tr>
<tr><td class="h">2756</td><td colspan="6"></td></tr><tr><td class="h">2757</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Clean up the pattern if it&#39;s a straightforward regex</td></tr>
<tr><td class="h">2758</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2758">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pattern =~ /^qr?\/([^\/]+)\/$/) {</td></tr>
<tr><td class="h">2759</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{matches} = &quot;/$1/&quot;;</td></tr>
<tr><td class="h">2760</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2761</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{matches} = $pattern;</td></tr>
<tr><td class="h">2762</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2763</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param matches pattern: $p-&gt;{matches}&quot;);</td></tr>
<tr><td class="h">2764</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2765</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2766</td><td colspan="6"></td></tr><tr><td class="h">2767</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_parameter_validation {</td></tr>
<tr><td class="h">2768</td><td><div class="c3">23</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2768">23</a></div></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $p_ref, $param, $code) = @_;</td></tr>
<tr><td class="h">2769</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $p = $$p_ref;</td></tr>
<tr><td class="h">2770</td><td colspan="6"></td></tr><tr><td class="h">2771</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Required/optional checks</td></tr>
<tr><td class="h">2772</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $is_required = 0;</td></tr>
<tr><td class="h">2773</td><td colspan="6"></td></tr><tr><td class="h">2774</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Die/croak if not defined</td></tr>
<tr><td class="h">2775</td><td><div class="c3">23</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2775">100</a></div></td><td></td><td></td><td><div>620</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)\s+[^;]*unless\s+(?:defined\s+)?\$$param/s) {</td></tr>
<tr><td class="h">2776</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$is_required = 1;</td></tr>
<tr><td class="h">2777</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2778</td><td colspan="6"></td></tr><tr><td class="h">2779</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Extract default values with the new method</td></tr>
<tr><td class="h">2780</td><td><div class="c3">23</div></td><td></td><td></td><td></td><td><div>37</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $default_value = $self-&gt;_extract_default_value($param, $code);</td></tr>
<tr><td class="h">2781</td><td><div class="c3">23</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2781">100</a></div></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2781">100</a></div></td><td></td><td><div>49</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined $default_value &amp;&amp; !exists $p-&gt;{default}) {</td></tr>
<tr><td class="h">2782</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{optional} = 1;</td></tr>
<tr><td class="h">2783</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{default} = $default_value;</td></tr>
<tr><td class="h">2784</td><td colspan="6"></td></tr><tr><td class="h">2785</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Try to infer type from default value if not already set</td></tr>
<tr><td class="h">2786</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2786">50</a></div></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($p-&gt;{type}) {</td></tr>
<tr><td class="h">2787</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2787">50</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2787">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2787">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2787">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2787">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2787">0</a></div></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (looks_like_number($default_value)) {</td></tr>
<tr><td class="h">2788</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2788">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = $default_value =~ /\./ ? &#39;number&#39; : &#39;integer&#39;;</td></tr>
<tr><td class="h">2789</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (ref($default_value) eq &#39;ARRAY&#39;) {</td></tr>
<tr><td class="h">2790</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;arrayref&#39;;</td></tr>
<tr><td class="h">2791</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (ref($default_value) eq &#39;HASH&#39;) {</td></tr>
<tr><td class="h">2792</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;hashref&#39;;</td></tr>
<tr><td class="h">2793</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($default_value eq &#39;undef&#39;) {</td></tr>
<tr><td class="h">2794</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;scalar&#39;;&nbsp;&nbsp;# undef can be any scalar</td></tr>
<tr><td class="h">2795</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (defined $default_value &amp;&amp; !ref($default_value)) {</td></tr>
<tr><td class="h">2796</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">2797</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2798</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2799</td><td colspan="6"></td></tr><tr><td class="h">2800</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2800">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has default value: &quot; .</td></tr>
<tr><td class="h">2801</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ref($default_value) ? Dumper($default_value) : $default_value));</td></tr>
<tr><td class="h">2802</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2803</td><td colspan="6"></td></tr><tr><td class="h">2804</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Also check for simple default assignment without condition</td></tr>
<tr><td class="h">2805</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Pattern: $param = &#39;value&#39;;</td></tr>
<tr><td class="h">2806</td><td><div class="c3">23</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2806">100</a></div></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2806">100</a></div></td><td></td><td><div>168</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (!$default_value &amp;&amp; $code =~ /\$$param\s*=\s*([^;]+)(?!\s*(?:\|\||\/\/|\?))/s) {</td></tr>
<tr><td class="h">2807</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $assignment = $1;</td></tr>
<tr><td class="h">2808</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Make sure it&#39;s not part of a larger expression</td></tr>
<tr><td class="h">2809</td><td><div class="c3">4</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2809">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2809">33</a></div></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($assignment !~ /\$$param/ &amp;&amp; $assignment !~ /^shift/) {</td></tr>
<tr><td class="h">2810</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $possible_default = $assignment;</td></tr>
<tr><td class="h">2811</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$possible_default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">2812</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$possible_default = $self-&gt;_clean_default_value($possible_default);</td></tr>
<tr><td class="h">2813</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2813">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $possible_default) {</td></tr>
<tr><td class="h">2814</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{default} = $possible_default;</td></tr>
<tr><td class="h">2815</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{optional} = 1;</td></tr>
<tr><td class="h">2816</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param has unconditional default: $possible_default&quot;);</td></tr>
<tr><td class="h">2817</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2818</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2819</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2820</td><td colspan="6"></td></tr><tr><td class="h">2821</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Explicit required check overrides default detection</td></tr>
<tr><td class="h">2822</td><td><div class="c3">23</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2822">100</a></div></td><td></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($is_required) {</td></tr>
<tr><td class="h">2823</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{optional} = 0;</td></tr>
<tr><td class="h">2824</td><td><div class="c3">2</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2824">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete $p-&gt;{default} if exists $p-&gt;{default};</td></tr>
<tr><td class="h">2825</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;CODE: $param is required (validation check)&quot;);</td></tr>
<tr><td class="h">2826</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2827</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2828</td><td colspan="6"></td></tr><tr><td class="h">2829 - 2833</td><td colspan="5"></td><td class="s"><pre>=head2 _analyze_signature

Analyze method signature to extract parameter names.

=cut</pre></td></tr>
<tr><td class="h">2834</td><td colspan="6"></td></tr><tr><td class="h">2835</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_signature {</td></tr>
<tr><td class="h">2836</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2836">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $code) = @_;</td></tr>
<tr><td class="h">2837</td><td colspan="6"></td></tr><tr><td class="h">2838</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %params;</td></tr>
<tr><td class="h">2839</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $position = 0;</td></tr>
<tr><td class="h">2840</td><td colspan="6"></td></tr><tr><td class="h">2841</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Classic: my ($self, $arg1, $arg2) = @_;</td></tr>
<tr><td class="h">2842</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2842">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /my\s*\(\s*\$(\w+)\s*,\s*(.+?)\)\s*=\s*\@_/s) {</td></tr>
<tr><td class="h">2843</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $first_var = $1;</td></tr>
<tr><td class="h">2844</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $rest = $2;</td></tr>
<tr><td class="h">2845</td><td colspan="6"></td></tr><tr><td class="h">2846</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip $self or $class</td></tr>
<tr><td class="h">2847</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2847">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($first_var =~ /^(self|class)$/i) {</td></tr>
<tr><td class="h">2848</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract remaining parameters with positions</td></tr>
<tr><td class="h">2849</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($rest =~ /\$(\w+)/g) {</td></tr>
<tr><td class="h">2850</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>36</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$1} = {</td></tr>
<tr><td class="h">2851</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_source =&gt; &#39;signature&#39;,</td></tr>
<tr><td class="h">2852</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;string&#39;,</td></tr>
<tr><td class="h">2853</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position =&gt; $position++,</td></tr>
<tr><td class="h">2854</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">2855</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>30</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;SIG: $1 has position $params{$1}{position}&quot;);</td></tr>
<tr><td class="h">2856</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2857</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">2858</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# First parameter is not self/class, include it</td></tr>
<tr><td class="h">2859</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$first_var} = {</td></tr>
<tr><td class="h">2860</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_source =&gt; &#39;signature&#39;,</td></tr>
<tr><td class="h">2861</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;string&#39;,</td></tr>
<tr><td class="h">2862</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position =&gt; $position++,</td></tr>
<tr><td class="h">2863</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">2864</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($rest =~ /\$(\w+)/g) {</td></tr>
<tr><td class="h">2865</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params{$1} = {</td></tr>
<tr><td class="h">2866</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_source =&gt; &#39;signature&#39;,</td></tr>
<tr><td class="h">2867</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;string&#39;,</td></tr>
<tr><td class="h">2868</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position =&gt; $position++,</td></tr>
<tr><td class="h">2869</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">2870</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2871</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2872</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2873</td><td colspan="6"></td></tr><tr><td class="h">2874</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%params;</td></tr>
<tr><td class="h">2875</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2876</td><td colspan="6"></td></tr><tr><td class="h">2877 - 2883</td><td colspan="5"></td><td class="s"><pre>=head2 _merge_parameter_analyses

Merge parameter information from multiple sources.

Priority: POD &gt; Code &gt; Signature

=cut</pre></td></tr>
<tr><td class="h">2884</td><td colspan="6"></td></tr><tr><td class="h">2885</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Enhanced merge with better position handling</td></tr>
<tr><td class="h">2886</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _merge_parameter_analyses {</td></tr>
<tr><td class="h">2887</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2887">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $pod, $code, $sig) = @_;</td></tr>
<tr><td class="h">2888</td><td colspan="6"></td></tr><tr><td class="h">2889</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %merged;</td></tr>
<tr><td class="h">2890</td><td colspan="6"></td></tr><tr><td class="h">2891</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Start with all parameters from all sources</td></tr>
<tr><td class="h">2892</td><td><div class="c3">4</div><div class="c3">45</div></td><td></td><td></td><td></td><td><div>12</div><div>46</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %all_params = map { $_ =&gt; 1 } (keys %$pod, keys %$code, keys %$sig);</td></tr>
<tr><td class="h">2893</td><td colspan="6"></td></tr><tr><td class="h">2894</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (keys %all_params) {</td></tr>
<tr><td class="h">2895</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $merged{$param} = {};</td></tr>
<tr><td class="h">2896</td><td colspan="6"></td></tr><tr><td class="h">2897</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Collect position from all sources</td></tr>
<tr><td class="h">2898</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @positions;</td></tr>
<tr><td class="h">2899</td><td><div class="c3">17</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2899">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2899">67</a></div></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @positions, $pod-&gt;{$param}{position} if $pod-&gt;{$param} &amp;&amp; defined $pod-&gt;{$param}{position};</td></tr>
<tr><td class="h">2900</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2900">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2900">33</a></div></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @positions, $sig-&gt;{$param}{position} if $sig-&gt;{$param} &amp;&amp; defined $sig-&gt;{$param}{position};</td></tr>
<tr><td class="h">2901</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2901">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2901">33</a></div></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @positions, $code-&gt;{$param}{position} if $code-&gt;{$param} &amp;&amp; defined $code-&gt;{$param}{position};</td></tr>
<tr><td class="h">2902</td><td colspan="6"></td></tr><tr><td class="h">2903</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Use the most common position, or lowest if tie</td></tr>
<tr><td class="h">2904</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2904">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@positions) {</td></tr>
<tr><td class="h">2905</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %pos_count;</td></tr>
<tr><td class="h">2906</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$pos_count{$_}++ for @positions;</td></tr>
<tr><td class="h">2907</td><td><div class="c3">17</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2907">0</a></div></td><td></td><td></td><td><div>18</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($best_pos) = sort { $pos_count{$b} &lt;=&gt; $pos_count{$a} || $a &lt;=&gt; $b } keys %pos_count;</td></tr>
<tr><td class="h">2908</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{position} = $best_pos;</td></tr>
<tr><td class="h">2909</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2910</td><td colspan="6"></td></tr><tr><td class="h">2911</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# POD has highest priority for type info and explicit declarations</td></tr>
<tr><td class="h">2912</td><td><div class="c3">17</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2912">100</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod-&gt;{$param}) {</td></tr>
<tr><td class="h">2913</td><td><div class="c3">11</div><div class="c3">11</div></td><td></td><td></td><td></td><td><div>7</div><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%$p = (%$p, %{$pod-&gt;{$param}});</td></tr>
<tr><td class="h">2914</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2915</td><td colspan="6"></td></tr><tr><td class="h">2916</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Code analysis adds concrete evidence (but doesn&#39;t override POD explicit types)</td></tr>
<tr><td class="h">2917</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2917">50</a></div></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code-&gt;{$param}) {</td></tr>
<tr><td class="h">2918</td><td><div class="c3">17</div><div class="c3">17</div></td><td></td><td></td><td></td><td><div>13</div><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $key (keys %{$code-&gt;{$param}}) {</td></tr>
<tr><td class="h">2919</td><td><div class="c3">54</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2919">100</a></div></td><td></td><td></td><td><div>58</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $key eq &#39;_source&#39;;</td></tr>
<tr><td class="h">2920</td><td><div class="c3">37</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2920">50</a></div></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $key eq &#39;position&#39;;</td></tr>
<tr><td class="h">2921</td><td colspan="6"></td></tr><tr><td class="h">2922</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Only override if POD didn&#39;t provide this info or it&#39;s a stronger signal</td></tr>
<tr><td class="h">2923</td><td><div class="c3">37</div></td><td></td><td></td><td></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $from_pod = exists $pod-&gt;{$param};</td></tr>
<tr><td class="h">2924</td><td><div class="c3">37</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2924">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2924">50</a></div></td><td></td><td><div>45</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!exists $p-&gt;{$key} ||</td></tr>
<tr><td class="h">2925</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($key eq &#39;type&#39; &amp;&amp; $from_pod &amp;&amp; $p-&gt;{type} eq &#39;string&#39; &amp;&amp;</td></tr>
<tr><td class="h">2926</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code-&gt;{$param}{$key} ne &#39;string&#39;)) {</td></tr>
<tr><td class="h">2927</td><td><div class="c3">15</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{$key} = $code-&gt;{$param}{$key};</td></tr>
<tr><td class="h">2928</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2929</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2930</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2931</td><td colspan="6"></td></tr><tr><td class="h">2932</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Signature fills in remaining gaps</td></tr>
<tr><td class="h">2933</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2933">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($sig-&gt;{$param}) {</td></tr>
<tr><td class="h">2934</td><td><div class="c3">17</div><div class="c3">17</div></td><td></td><td></td><td></td><td><div>12</div><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $key (keys %{$sig-&gt;{$param}}) {</td></tr>
<tr><td class="h">2935</td><td><div class="c3">51</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2935">100</a></div></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $key eq &#39;_source&#39;;</td></tr>
<tr><td class="h">2936</td><td><div class="c3">34</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2936">100</a></div></td><td></td><td></td><td><div>26</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $key eq &#39;position&#39;;</td></tr>
<tr><td class="h">2937</td><td><div class="c3">17</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2937">67</a></div></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$p-&gt;{$key} //= $sig-&gt;{$param}{$key};</td></tr>
<tr><td class="h">2938</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2939</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2940</td><td colspan="6"></td></tr><tr><td class="h">2941</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle optional field with better logic</td></tr>
<tr><td class="h">2942</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>30</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_determine_optional_status($p, $pod-&gt;{$param}, $code-&gt;{$param});</td></tr>
<tr><td class="h">2943</td><td colspan="6"></td></tr><tr><td class="h">2944</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Clean up internal fields</td></tr>
<tr><td class="h">2945</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete $p-&gt;{_source};</td></tr>
<tr><td class="h">2946</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2947</td><td colspan="6"></td></tr><tr><td class="h">2948</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Debug logging</td></tr>
<tr><td class="h">2949</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2949">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($self-&gt;{verbose}) {</td></tr>
<tr><td class="h">2950</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2950">0</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2950">0</a></div></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (sort { ($merged{$a}{position} || 999) &lt;=&gt; ($merged{$b}{position} || 999) } keys %merged) {</td></tr>
<tr><td class="h">2951</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $merged{$param};</td></tr>
<tr><td class="h">2952</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;MERGED $param: &quot; .</td></tr>
<tr><td class="h">2953</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pos=&quot; . ($p-&gt;{position} || &#39;none&#39;) .</td></tr>
<tr><td class="h">2954</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;, type=&quot; . ($p-&gt;{type} || &#39;none&#39;) .</td></tr>
<tr><td class="h">2955</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2955">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2955">0</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L2955">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;, optional=&quot; . (defined($p-&gt;{optional}) ? $p-&gt;{optional} : &#39;undef&#39;));</td></tr>
<tr><td class="h">2956</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2957</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2958</td><td colspan="6"></td></tr><tr><td class="h">2959</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%merged;</td></tr>
<tr><td class="h">2960</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2961</td><td colspan="6"></td></tr><tr><td class="h">2962</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _determine_optional_status {</td></tr>
<tr><td class="h">2963</td><td><div class="c3">17</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2963">17</a></div></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $merged_param, $pod_param, $code_param) = @_;</td></tr>
<tr><td class="h">2964</td><td colspan="6"></td></tr><tr><td class="h">2965</td><td><div class="c3">17</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2965">100</a></div></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pod_optional = $pod_param ? $pod_param-&gt;{optional} : undef;</td></tr>
<tr><td class="h">2966</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2966">50</a></div></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $code_optional = $code_param ? $code_param-&gt;{optional} : undef;</td></tr>
<tr><td class="h">2967</td><td colspan="6"></td></tr><tr><td class="h">2968</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Explicit POD declaration wins</td></tr>
<tr><td class="h">2969</td><td><div class="c3">17</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2969">100</a></div><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2969">50</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2969">0</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $pod_optional) {</td></tr>
<tr><td class="h">2970</td><td><div class="c3">11</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$merged_param-&gt;{optional} = $pod_optional;</td></tr>
<tr><td class="h">2971</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2972</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Code validation evidence</td></tr>
<tr><td class="h">2973</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif (defined $code_optional) {</td></tr>
<tr><td class="h">2974</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$merged_param-&gt;{optional} = $code_optional;</td></tr>
<tr><td class="h">2975</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2976</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Default: if we have any info about the param, assume required</td></tr>
<tr><td class="h">2977</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif (keys %$merged_param &gt; 0) {</td></tr>
<tr><td class="h">2978</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$merged_param-&gt;{optional} = 0;</td></tr>
<tr><td class="h">2979</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">2980</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Otherwise leave undef (unknown)</td></tr>
<tr><td class="h">2981</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">2982</td><td colspan="6"></td></tr><tr><td class="h">2983</td><td colspan="6"></td></tr><tr><td class="h">2984 - 2990</td><td colspan="5"></td><td class="s"><pre>=head2 _calculate_confidence

Calculate confidence score for parameter analysis.

Returns: &#39;high&#39;, &#39;medium&#39;, &#39;low&#39;

=cut</pre></td></tr>
<tr><td class="h">2991</td><td colspan="6"></td></tr><tr><td class="h">2992</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Enhanced confidence scoring with detailed factor tracking</td></tr>
<tr><td class="h">2993</td><td colspan="6"></td></tr><tr><td class="h">2994</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _calculate_input_confidence {</td></tr>
<tr><td class="h">2995</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L2995">4</a></div></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $params) = @_;</td></tr>
<tr><td class="h">2996</td><td colspan="6"></td></tr><tr><td class="h">2997</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @factors;&nbsp;&nbsp;# Track all confidence factors</td></tr>
<tr><td class="h">2998</td><td colspan="6"></td></tr><tr><td class="h">2999</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L2999">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return { level =&gt; &#39;none&#39;, factors =&gt; [&#39;No parameters found&#39;] } unless keys %$params;</td></tr>
<tr><td class="h">3000</td><td colspan="6"></td></tr><tr><td class="h">3001</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $total_score = 0;</td></tr>
<tr><td class="h">3002</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $count = 0;</td></tr>
<tr><td class="h">3003</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %param_details;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Store per-parameter analysis</td></tr>
<tr><td class="h">3004</td><td colspan="6"></td></tr><tr><td class="h">3005</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (keys %$params) {</td></tr>
<tr><td class="h">3006</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $params-&gt;{$param};</td></tr>
<tr><td class="h">3007</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $score = 0;</td></tr>
<tr><td class="h">3008</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @param_factors;</td></tr>
<tr><td class="h">3009</td><td colspan="6"></td></tr><tr><td class="h">3010</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Type information</td></tr>
<tr><td class="h">3011</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3011">50</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{type}) {</td></tr>
<tr><td class="h">3012</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3012">50</a></div><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3012">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3012">50</a></div></td><td></td><td><div>32</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{type} eq &#39;string&#39; &amp;&amp; ($p-&gt;{min} || $p-&gt;{max} || $p-&gt;{matches})) {</td></tr>
<tr><td class="h">3013</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 25;</td></tr>
<tr><td class="h">3014</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Type: constrained string (+25)&quot;;</td></tr>
<tr><td class="h">3015</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($p-&gt;{type} eq &#39;string&#39;) {</td></tr>
<tr><td class="h">3016</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 10;</td></tr>
<tr><td class="h">3017</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Type: plain string (+10)&quot;;</td></tr>
<tr><td class="h">3018</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3019</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 30;</td></tr>
<tr><td class="h">3020</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Type: $p-&gt;{type} (+30)&quot;;</td></tr>
<tr><td class="h">3021</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3022</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3023</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;No type information (-0)&quot;;</td></tr>
<tr><td class="h">3024</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3025</td><td colspan="6"></td></tr><tr><td class="h">3026</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Constraints</td></tr>
<tr><td class="h">3027</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3027">50</a></div></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $p-&gt;{min}) {</td></tr>
<tr><td class="h">3028</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 15;</td></tr>
<tr><td class="h">3029</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Has min constraint (+15)&quot;;</td></tr>
<tr><td class="h">3030</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3031</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3031">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $p-&gt;{max}) {</td></tr>
<tr><td class="h">3032</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 15;</td></tr>
<tr><td class="h">3033</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Has max constraint (+15)&quot;;</td></tr>
<tr><td class="h">3034</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3035</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3035">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $p-&gt;{optional}) {</td></tr>
<tr><td class="h">3036</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 20;</td></tr>
<tr><td class="h">3037</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Optional/required explicitly defined (+20)&quot;;</td></tr>
<tr><td class="h">3038</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3039</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3039">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{matches}) {</td></tr>
<tr><td class="h">3040</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 20;</td></tr>
<tr><td class="h">3041</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Has regex pattern constraint (+20)&quot;;</td></tr>
<tr><td class="h">3042</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3043</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3043">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{isa}) {</td></tr>
<tr><td class="h">3044</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 25;</td></tr>
<tr><td class="h">3045</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Specific class constraint: $p-&gt;{isa} (+25)&quot;;</td></tr>
<tr><td class="h">3046</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3047</td><td colspan="6"></td></tr><tr><td class="h">3048</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Position information</td></tr>
<tr><td class="h">3049</td><td><div class="c3">17</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3049">50</a></div></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $p-&gt;{position}) {</td></tr>
<tr><td class="h">3050</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 10;</td></tr>
<tr><td class="h">3051</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Position defined: $p-&gt;{position} (+10)&quot;;</td></tr>
<tr><td class="h">3052</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3053</td><td colspan="6"></td></tr><tr><td class="h">3054</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Default value</td></tr>
<tr><td class="h">3055</td><td><div class="c3">17</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3055">100</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (exists $p-&gt;{default}) {</td></tr>
<tr><td class="h">3056</td><td><div class="c3">16</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 10;</td></tr>
<tr><td class="h">3057</td><td><div class="c3">16</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Has default value (+10)&quot;;</td></tr>
<tr><td class="h">3058</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3059</td><td colspan="6"></td></tr><tr><td class="h">3060</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Semantic information</td></tr>
<tr><td class="h">3061</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3061">50</a></div></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{semantic}) {</td></tr>
<tr><td class="h">3062</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 15;</td></tr>
<tr><td class="h">3063</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_factors, &quot;Semantic type: $p-&gt;{semantic} (+15)&quot;;</td></tr>
<tr><td class="h">3064</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3065</td><td colspan="6"></td></tr><tr><td class="h">3066</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$param_details{$param} = {</td></tr>
<tr><td class="h">3067</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;score =&gt; $score,</td></tr>
<tr><td class="h">3068</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factors =&gt; \@param_factors</td></tr>
<tr><td class="h">3069</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3070</td><td colspan="6"></td></tr><tr><td class="h">3071</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>48</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$total_score += $score;</td></tr>
<tr><td class="h">3072</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$count++;</td></tr>
<tr><td class="h">3073</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3074</td><td colspan="6"></td></tr><tr><td class="h">3075</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3075">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $avg = $count ? ($total_score / $count) : 0;</td></tr>
<tr><td class="h">3076</td><td colspan="6"></td></tr><tr><td class="h">3077</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Build summary factors</td></tr>
<tr><td class="h">3078</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3078">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @factors, sprintf(&quot;Analyzed %d parameter%s&quot;, $count, $count == 1 ? &#39;&#39; : &#39;s&#39;);</td></tr>
<tr><td class="h">3079</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @factors, sprintf(&quot;Average confidence score: %.1f&quot;, $avg);</td></tr>
<tr><td class="h">3080</td><td colspan="6"></td></tr><tr><td class="h">3081</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Add top contributing factors</td></tr>
<tr><td class="h">3082</td><td><div class="c3">4</div><div class="c3">25</div></td><td></td><td></td><td></td><td><div>12</div><div>24</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @sorted_params = sort { $param_details{$b}{score} &lt;=&gt; $param_details{$a}{score} } keys %param_details;</td></tr>
<tr><td class="h">3083</td><td colspan="6"></td></tr><tr><td class="h">3084</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3084">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (@sorted_params) {</td></tr>
<tr><td class="h">3085</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $highest = $sorted_params[0];</td></tr>
<tr><td class="h">3086</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $highest_score = $param_details{$highest}{score};</td></tr>
<tr><td class="h">3087</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, sprintf(&quot;Highest scoring parameter: \$$highest (score: %d)&quot;, $highest_score);</td></tr>
<tr><td class="h">3088</td><td colspan="6"></td></tr><tr><td class="h">3089</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3089">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@sorted_params &gt; 1) {</td></tr>
<tr><td class="h">3090</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $lowest = $sorted_params[-1];</td></tr>
<tr><td class="h">3091</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $lowest_score = $param_details{$lowest}{score};</td></tr>
<tr><td class="h">3092</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, sprintf(&quot;Lowest scoring parameter: \$$lowest (score: %d)&quot;, $lowest_score);</td></tr>
<tr><td class="h">3093</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3094</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3095</td><td colspan="6"></td></tr><tr><td class="h">3096</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Determine confidence level</td></tr>
<tr><td class="h">3097</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $level;</td></tr>
<tr><td class="h">3098</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3098">100</a></div><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3098">50</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3098">0</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($avg &gt;= 60) {</td></tr>
<tr><td class="h">3099</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;high&#39;;</td></tr>
<tr><td class="h">3100</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;High confidence: comprehensive type and constraint information&quot;;</td></tr>
<tr><td class="h">3101</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($avg &gt;= 35) {</td></tr>
<tr><td class="h">3102</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;medium&#39;;</td></tr>
<tr><td class="h">3103</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Medium confidence: some type or constraint information present&quot;;</td></tr>
<tr><td class="h">3104</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($avg &gt;= 15) {</td></tr>
<tr><td class="h">3105</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;low&#39;;</td></tr>
<tr><td class="h">3106</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Low confidence: minimal type information&quot;;</td></tr>
<tr><td class="h">3107</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3108</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;very_low&#39;;</td></tr>
<tr><td class="h">3109</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Very low confidence: little to no type information&quot;;</td></tr>
<tr><td class="h">3110</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3111</td><td colspan="6"></td></tr><tr><td class="h">3112</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return {</td></tr>
<tr><td class="h">3113</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level =&gt; $level,</td></tr>
<tr><td class="h">3114</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;score =&gt; $avg,</td></tr>
<tr><td class="h">3115</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factors =&gt; \@factors,</td></tr>
<tr><td class="h">3116</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;per_parameter =&gt; \%param_details</td></tr>
<tr><td class="h">3117</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3118</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3119</td><td colspan="6"></td></tr><tr><td class="h">3120</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _calculate_output_confidence {</td></tr>
<tr><td class="h">3121</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3121">4</a></div></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $output) = @_;</td></tr>
<tr><td class="h">3122</td><td colspan="6"></td></tr><tr><td class="h">3123</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @factors;</td></tr>
<tr><td class="h">3124</td><td colspan="6"></td></tr><tr><td class="h">3125</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3125">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return { level =&gt; &#39;none&#39;, factors =&gt; [&#39;No return information found&#39;] } unless keys %$output;</td></tr>
<tr><td class="h">3126</td><td colspan="6"></td></tr><tr><td class="h">3127</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $score = 0;</td></tr>
<tr><td class="h">3128</td><td colspan="6"></td></tr><tr><td class="h">3129</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Type information</td></tr>
<tr><td class="h">3130</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3130">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{type}) {</td></tr>
<tr><td class="h">3131</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 30;</td></tr>
<tr><td class="h">3132</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Return type defined: $output-&gt;{type} (+30)&quot;;</td></tr>
<tr><td class="h">3133</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3134</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;No return type information (-0)&quot;;</td></tr>
<tr><td class="h">3135</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3136</td><td colspan="6"></td></tr><tr><td class="h">3137</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Specific value known</td></tr>
<tr><td class="h">3138</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3138">100</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if (defined $output-&gt;{value}) {</td></tr>
<tr><td class="h">3139</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 30;</td></tr>
<tr><td class="h">3140</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Specific return value: $output-&gt;{value} (+30)&quot;;</td></tr>
<tr><td class="h">3141</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3142</td><td colspan="6"></td></tr><tr><td class="h">3143</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Class information for objects</td></tr>
<tr><td class="h">3144</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3144">100</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{isa}) {</td></tr>
<tr><td class="h">3145</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 30;</td></tr>
<tr><td class="h">3146</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Returns specific class: $output-&gt;{isa} (+30)&quot;;</td></tr>
<tr><td class="h">3147</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3148</td><td colspan="6"></td></tr><tr><td class="h">3149</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Context-aware returns</td></tr>
<tr><td class="h">3150</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3150">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{context_aware}) {</td></tr>
<tr><td class="h">3151</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 20;</td></tr>
<tr><td class="h">3152</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Context-aware return (wantarray) (+20)&quot;;</td></tr>
<tr><td class="h">3153</td><td colspan="6"></td></tr><tr><td class="h">3154</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3154">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{list_context}) {</td></tr>
<tr><td class="h">3155</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;&nbsp;&nbsp;List context: $output-&gt;{list_context}{type}&quot;;</td></tr>
<tr><td class="h">3156</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3157</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3157">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{scalar_context}) {</td></tr>
<tr><td class="h">3158</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;&nbsp;&nbsp;Scalar context: $output-&gt;{scalar_context}{type}&quot;;</td></tr>
<tr><td class="h">3159</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3160</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3161</td><td colspan="6"></td></tr><tr><td class="h">3162</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Error handling information</td></tr>
<tr><td class="h">3163</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3163">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{error_return}) {</td></tr>
<tr><td class="h">3164</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 15;</td></tr>
<tr><td class="h">3165</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Error return convention documented: $output-&gt;{error_return} (+15)&quot;;</td></tr>
<tr><td class="h">3166</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3167</td><td colspan="6"></td></tr><tr><td class="h">3168</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Success/failure pattern</td></tr>
<tr><td class="h">3169</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3169">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{success_failure_pattern}) {</td></tr>
<tr><td class="h">3170</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 10;</td></tr>
<tr><td class="h">3171</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Success/failure pattern detected (+10)&quot;;</td></tr>
<tr><td class="h">3172</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3173</td><td colspan="6"></td></tr><tr><td class="h">3174</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Chainable methods</td></tr>
<tr><td class="h">3175</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3175">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{chainable}) {</td></tr>
<tr><td class="h">3176</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 15;</td></tr>
<tr><td class="h">3177</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Chainable method (fluent interface) (+15)&quot;;</td></tr>
<tr><td class="h">3178</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3179</td><td colspan="6"></td></tr><tr><td class="h">3180</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Void context</td></tr>
<tr><td class="h">3181</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3181">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{void_context}) {</td></tr>
<tr><td class="h">3182</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 20;</td></tr>
<tr><td class="h">3183</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Void context method (no meaningful return) (+20)&quot;;</td></tr>
<tr><td class="h">3184</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3185</td><td colspan="6"></td></tr><tr><td class="h">3186</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Exception handling</td></tr>
<tr><td class="h">3187</td><td><div class="c3">4</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3187">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3187">33</a></div></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($output-&gt;{error_handling} &amp;&amp; $output-&gt;{error_handling}{exception_handling}) {</td></tr>
<tr><td class="h">3188</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score += 10;</td></tr>
<tr><td class="h">3189</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Exception handling present (+10)&quot;;</td></tr>
<tr><td class="h">3190</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3191</td><td colspan="6"></td></tr><tr><td class="h">3192</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;push @factors, sprintf(&quot;Total output confidence score: %d&quot;, $score);</td></tr>
<tr><td class="h">3193</td><td colspan="6"></td></tr><tr><td class="h">3194</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Determine confidence level</td></tr>
<tr><td class="h">3195</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $level;</td></tr>
<tr><td class="h">3196</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3196">100</a></div><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3196">50</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3196">0</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($score &gt;= 60) {</td></tr>
<tr><td class="h">3197</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;high&#39;;</td></tr>
<tr><td class="h">3198</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;High confidence: detailed return type and behavior&quot;;</td></tr>
<tr><td class="h">3199</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($score &gt;= 30) {</td></tr>
<tr><td class="h">3200</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;medium&#39;;</td></tr>
<tr><td class="h">3201</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Medium confidence: return type defined&quot;;</td></tr>
<tr><td class="h">3202</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($score &gt;= 15) {</td></tr>
<tr><td class="h">3203</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;low&#39;;</td></tr>
<tr><td class="h">3204</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Low confidence: minimal return information&quot;;</td></tr>
<tr><td class="h">3205</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3206</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$level = &#39;very_low&#39;;</td></tr>
<tr><td class="h">3207</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @factors, &quot;Very low confidence: little return information&quot;;</td></tr>
<tr><td class="h">3208</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3209</td><td colspan="6"></td></tr><tr><td class="h">3210</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return {</td></tr>
<tr><td class="h">3211</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level =&gt; $level,</td></tr>
<tr><td class="h">3212</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;score =&gt; $score,</td></tr>
<tr><td class="h">3213</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factors =&gt; \@factors</td></tr>
<tr><td class="h">3214</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3215</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3216</td><td colspan="6"></td></tr><tr><td class="h">3217</td><td></td><td></td><td></td><td></td><td></td><td class="s"># Method to generate human-readable confidence report</td></tr>
<tr><td class="h">3218</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _generate_confidence_report</td></tr>
<tr><td class="h">3219</td><td></td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h">3220</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3220">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $schema) = @_;</td></tr>
<tr><td class="h">3221</td><td colspan="6"></td></tr><tr><td class="h">3222</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3222">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless $schema-&gt;{_analysis};</td></tr>
<tr><td class="h">3223</td><td colspan="6"></td></tr><tr><td class="h">3224</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $analysis = $schema-&gt;{_analysis};</td></tr>
<tr><td class="h">3225</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @report;</td></tr>
<tr><td class="h">3226</td><td colspan="6"></td></tr><tr><td class="h">3227</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3227">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;Confidence Analysis for &quot; . ($schema-&gt;{method_name} || &#39;method&#39;);</td></tr>
<tr><td class="h">3228</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &#39;=&#39; x 60;</td></tr>
<tr><td class="h">3229</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &#39;&#39;;</td></tr>
<tr><td class="h">3230</td><td colspan="6"></td></tr><tr><td class="h">3231</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;Overall Confidence: &quot; . uc($analysis-&gt;{overall_confidence});</td></tr>
<tr><td class="h">3232</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &#39;&#39;;</td></tr>
<tr><td class="h">3233</td><td colspan="6"></td></tr><tr><td class="h">3234</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3234">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($analysis-&gt;{confidence_factors}{input}) {</td></tr>
<tr><td class="h">3235</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;Input Parameters:&quot;;</td></tr>
<tr><td class="h">3236</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;&nbsp;&nbsp;Confidence Level: &quot; . uc($analysis-&gt;{input_confidence});</td></tr>
<tr><td class="h">3237</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $factor (@{$analysis-&gt;{confidence_factors}{input}}) {</td></tr>
<tr><td class="h">3238</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;&nbsp;&nbsp;- $factor&quot;;</td></tr>
<tr><td class="h">3239</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3240</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &#39;&#39;;</td></tr>
<tr><td class="h">3241</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3242</td><td colspan="6"></td></tr><tr><td class="h">3243</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3243">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($analysis-&gt;{confidence_factors}{output}) {</td></tr>
<tr><td class="h">3244</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;Return Value:&quot;;</td></tr>
<tr><td class="h">3245</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;&nbsp;&nbsp;Confidence Level: &quot; . uc($analysis-&gt;{output_confidence});</td></tr>
<tr><td class="h">3246</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $factor (@{$analysis-&gt;{confidence_factors}{output}}) {</td></tr>
<tr><td class="h">3247</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;&nbsp;&nbsp;- $factor&quot;;</td></tr>
<tr><td class="h">3248</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3249</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &#39;&#39;;</td></tr>
<tr><td class="h">3250</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3251</td><td colspan="6"></td></tr><tr><td class="h">3252</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3252">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if ($analysis-&gt;{per_parameter_scores}) {</td></tr>
<tr><td class="h">3253</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;Per-Parameter Analysis:&quot;;</td></tr>
<tr><td class="h">3254</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (sort keys %{$analysis-&gt;{per_parameter_scores}}) {</td></tr>
<tr><td class="h">3255</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $details = $analysis-&gt;{per_parameter_scores}{$param};</td></tr>
<tr><td class="h">3256</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;&nbsp;&nbsp;\$$param (score: $details-&gt;{score}):&quot;;</td></tr>
<tr><td class="h">3257</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $factor (@{$details-&gt;{factors}}) {</td></tr>
<tr><td class="h">3258</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &quot;&nbsp;&nbsp;&nbsp;&nbsp;- $factor&quot;;</td></tr>
<tr><td class="h">3259</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3260</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3261</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @report, &#39;&#39;;</td></tr>
<tr><td class="h">3262</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3263</td><td colspan="6"></td></tr><tr><td class="h">3264</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return join(&quot;\n&quot;, @report);</td></tr>
<tr><td class="h">3265</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3266</td><td colspan="6"></td></tr><tr><td class="h">3267 - 3271</td><td colspan="5"></td><td class="s"><pre>=head2 _generate_notes

Generate helpful notes about the analysis.

=cut</pre></td></tr>
<tr><td class="h">3272</td><td colspan="6"></td></tr><tr><td class="h">3273</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _generate_notes {</td></tr>
<tr><td class="h">3274</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3274">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $params) = @_;</td></tr>
<tr><td class="h">3275</td><td colspan="6"></td></tr><tr><td class="h">3276</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @notes;</td></tr>
<tr><td class="h">3277</td><td colspan="6"></td></tr><tr><td class="h">3278</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (keys %$params) {</td></tr>
<tr><td class="h">3279</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $params-&gt;{$param};</td></tr>
<tr><td class="h">3280</td><td colspan="6"></td></tr><tr><td class="h">3281</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3281">50</a></div></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($p-&gt;{type}) {</td></tr>
<tr><td class="h">3282</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @notes, &quot;$param: type unknown - please review&quot;;</td></tr>
<tr><td class="h">3283</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3284</td><td colspan="6"></td></tr><tr><td class="h">3285</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3285">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless (defined $p-&gt;{optional}) {</td></tr>
<tr><td class="h">3286</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @notes, &quot;$param: optional status unknown&quot;;</td></tr>
<tr><td class="h">3287</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Don&#39;t automatically set - let it be undef if we don&#39;t know</td></tr>
<tr><td class="h">3288</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3289</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3290</td><td colspan="6"></td></tr><tr><td class="h">3291</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@notes;</td></tr>
<tr><td class="h">3292</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3293</td><td colspan="6"></td></tr><tr><td class="h">3294 - 3305</td><td colspan="5"></td><td class="s"><pre>=head2 _analyze_relationships

Analyze relationships and dependencies between parameters.

Detects:
- Mutually exclusive parameters (can&#39;t use both)
- Required parameter groups (must use one of)
- Conditional requirements (if X then Y)
- Parameter dependencies (X requires Y)
- Value-based constraints (X=5 requires Y)

=cut</pre></td></tr>
<tr><td class="h">3306</td><td colspan="6"></td></tr><tr><td class="h">3307</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _analyze_relationships {</td></tr>
<tr><td class="h">3308</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3308">4</a></div></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method) = @_;</td></tr>
<tr><td class="h">3309</td><td colspan="6"></td></tr><tr><td class="h">3310</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $code = $method-&gt;{body};</td></tr>
<tr><td class="h">3311</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @relationships;</td></tr>
<tr><td class="h">3312</td><td colspan="6"></td></tr><tr><td class="h">3313</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract all parameter names from the method</td></tr>
<tr><td class="h">3314</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @param_names;</td></tr>
<tr><td class="h">3315</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3315">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /my\s*\(\s*\$\w+\s*,\s*(.+?)\)\s*=\s*\@_/s) {</td></tr>
<tr><td class="h">3316</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $params = $1;</td></tr>
<tr><td class="h">3317</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@param_names = $params =~ /\$(\w+)/g;</td></tr>
<tr><td class="h">3318</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3319</td><td colspan="6"></td></tr><tr><td class="h">3320</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3320">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return [] unless @param_names;</td></tr>
<tr><td class="h">3321</td><td colspan="6"></td></tr><tr><td class="h">3322</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect mutually exclusive parameters</td></tr>
<tr><td class="h">3323</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, @{$self-&gt;_detect_mutually_exclusive($code, \@param_names)};</td></tr>
<tr><td class="h">3324</td><td colspan="6"></td></tr><tr><td class="h">3325</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect required groups (OR logic)</td></tr>
<tr><td class="h">3326</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, @{$self-&gt;_detect_required_groups($code, \@param_names)};</td></tr>
<tr><td class="h">3327</td><td colspan="6"></td></tr><tr><td class="h">3328</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect conditional requirements (IF-THEN)</td></tr>
<tr><td class="h">3329</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, @{$self-&gt;_detect_conditional_requirements($code, \@param_names)};</td></tr>
<tr><td class="h">3330</td><td colspan="6"></td></tr><tr><td class="h">3331</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect dependencies</td></tr>
<tr><td class="h">3332</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, @{$self-&gt;_detect_dependencies($code, \@param_names)};</td></tr>
<tr><td class="h">3333</td><td colspan="6"></td></tr><tr><td class="h">3334</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Detect value-based constraints</td></tr>
<tr><td class="h">3335</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, @{$self-&gt;_detect_value_constraints($code, \@param_names)};</td></tr>
<tr><td class="h">3336</td><td colspan="6"></td></tr><tr><td class="h">3337</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Deduplicate relationships</td></tr>
<tr><td class="h">3338</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @unique = $self-&gt;_deduplicate_relationships(\@relationships);</td></tr>
<tr><td class="h">3339</td><td colspan="6"></td></tr><tr><td class="h">3340</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@unique;</td></tr>
<tr><td class="h">3341</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3342</td><td colspan="6"></td></tr><tr><td class="h">3343 - 3347</td><td colspan="5"></td><td class="s"><pre>=head2 _deduplicate_relationships

Remove duplicate relationship entries.

=cut</pre></td></tr>
<tr><td class="h">3348</td><td colspan="6"></td></tr><tr><td class="h">3349</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _deduplicate_relationships {</td></tr>
<tr><td class="h">3350</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3350">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $relationships) = @_;</td></tr>
<tr><td class="h">3351</td><td colspan="6"></td></tr><tr><td class="h">3352</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @unique;</td></tr>
<tr><td class="h">3353</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %seen;</td></tr>
<tr><td class="h">3354</td><td colspan="6"></td></tr><tr><td class="h">3355</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $rel (@$relationships) {</td></tr>
<tr><td class="h">3356</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Create a signature for this relationship</td></tr>
<tr><td class="h">3357</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $sig;</td></tr>
<tr><td class="h">3358</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3358">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3358">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3358">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3358">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3358">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3358">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($rel-&gt;{type} eq &#39;mutually_exclusive&#39;) {</td></tr>
<tr><td class="h">3359</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig = join(&#39;:&#39;, &#39;mutex&#39;, sort @{$rel-&gt;{params}});</td></tr>
<tr><td class="h">3360</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;required_group&#39;) {</td></tr>
<tr><td class="h">3361</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig = join(&#39;:&#39;, &#39;reqgroup&#39;, sort @{$rel-&gt;{params}});</td></tr>
<tr><td class="h">3362</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;conditional_requirement&#39;) {</td></tr>
<tr><td class="h">3363</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig = join(&#39;:&#39;, &#39;condreq&#39;, $rel-&gt;{if}, $rel-&gt;{then_required});</td></tr>
<tr><td class="h">3364</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;dependency&#39;) {</td></tr>
<tr><td class="h">3365</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig = join(&#39;:&#39;, &#39;dep&#39;, $rel-&gt;{param}, $rel-&gt;{requires});</td></tr>
<tr><td class="h">3366</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;value_constraint&#39;) {</td></tr>
<tr><td class="h">3367</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig = join(&#39;:&#39;, &#39;valcon&#39;, $rel-&gt;{if}, $rel-&gt;{then}, $rel-&gt;{operator}, $rel-&gt;{value});</td></tr>
<tr><td class="h">3368</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;value_conditional&#39;) {</td></tr>
<tr><td class="h">3369</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig = join(&#39;:&#39;, &#39;valcond&#39;, $rel-&gt;{if}, $rel-&gt;{equals}, $rel-&gt;{then_required});</td></tr>
<tr><td class="h">3370</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">3371</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sig = join(&#39;:&#39;, $rel-&gt;{type}, %$rel);</td></tr>
<tr><td class="h">3372</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3373</td><td colspan="6"></td></tr><tr><td class="h">3374</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3374">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($seen{$sig}++) {</td></tr>
<tr><td class="h">3375</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @unique, $rel;</td></tr>
<tr><td class="h">3376</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3377</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3378</td><td colspan="6"></td></tr><tr><td class="h">3379</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return @unique;</td></tr>
<tr><td class="h">3380</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3381</td><td colspan="6"></td></tr><tr><td class="h">3382 - 3391</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_mutually_exclusive

Detect parameters that cannot be used together.

Patterns:
&nbsp;&nbsp;die if $file &amp;&amp; $content
&nbsp;&nbsp;croak &quot;Cannot specify both&quot; if $x &amp;&amp; $y
&nbsp;&nbsp;die unless !($a &amp;&amp; $b)

=cut</pre></td></tr>
<tr><td class="h">3392</td><td colspan="6"></td></tr><tr><td class="h">3393</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_mutually_exclusive {</td></tr>
<tr><td class="h">3394</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3394">4</a></div></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $code, $param_names) = @_;</td></tr>
<tr><td class="h">3395</td><td colspan="6"></td></tr><tr><td class="h">3396</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @relationships;</td></tr>
<tr><td class="h">3397</td><td colspan="6"></td></tr><tr><td class="h">3398</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: die/croak if $x &amp;&amp; $y</td></tr>
<tr><td class="h">3399</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for: die/croak ... if $param1 &amp;&amp; $param2</td></tr>
<tr><td class="h">3400</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param1 (@$param_names) {</td></tr>
<tr><td class="h">3401</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param2 (@$param_names) {</td></tr>
<tr><td class="h">3402</td><td><div class="c3">85</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3402">100</a></div></td><td></td><td></td><td><div>79</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $param1 eq $param2;</td></tr>
<tr><td class="h">3403</td><td colspan="6"></td></tr><tr><td class="h">3404</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check various patterns</td></tr>
<tr><td class="h">3405</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3405">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3405">33</a></div></td><td></td><td><div>2877</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)[^;]*if\s+\$$param1\s+&amp;&amp;\s+\$$param2/ ||</td></tr>
<tr><td class="h">3406</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /(?:die|croak|confess)[^;]*if\s+\$$param2\s+&amp;&amp;\s+\$$param1/) {</td></tr>
<tr><td class="h">3407</td><td colspan="6"></td></tr><tr><td class="h">3408</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Avoid duplicates (param1,param2 vs param2,param1)</td></tr>
<tr><td class="h">3409</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $found_reverse = 0;</td></tr>
<tr><td class="h">3410</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $rel (@relationships) {</td></tr>
<tr><td class="h">3411</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3411">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3411">0</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3411">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($rel-&gt;{type} eq &#39;mutually_exclusive&#39; &amp;&amp;</td></tr>
<tr><td class="h">3412</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(($rel-&gt;{params}[0] eq $param2 &amp;&amp; $rel-&gt;{params}[1] eq $param1))) {</td></tr>
<tr><td class="h">3413</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$found_reverse = 1;</td></tr>
<tr><td class="h">3414</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">3415</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3416</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3417</td><td colspan="6"></td></tr><tr><td class="h">3418</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3418">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $found_reverse;</td></tr>
<tr><td class="h">3419</td><td colspan="6"></td></tr><tr><td class="h">3420</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3421</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;mutually_exclusive&#39;,</td></tr>
<tr><td class="h">3422</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params =&gt; [$param1, $param2],</td></tr>
<tr><td class="h">3423</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;Cannot specify both $param1 and $param2&quot;</td></tr>
<tr><td class="h">3424</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3425</td><td colspan="6"></td></tr><tr><td class="h">3426</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 and $param2 are mutually exclusive&quot;);</td></tr>
<tr><td class="h">3427</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3428</td><td colspan="6"></td></tr><tr><td class="h">3429</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: die &quot;Cannot specify both X and Y&quot;</td></tr>
<tr><td class="h">3430</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3430">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3430">33</a></div></td><td></td><td><div>7114</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)\s+[&#39;&quot;](Cannot|Can&#39;t)[^&#39;&quot;]*both[^&#39;&quot;]*$param1[^&#39;&quot;]*$param2/i ||</td></tr>
<tr><td class="h">3431</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /(?:die|croak|confess)\s+[&#39;&quot;](Cannot|Can&#39;t)[^&#39;&quot;]*both[^&#39;&quot;]*$param2[^&#39;&quot;]*$param1/i) {</td></tr>
<tr><td class="h">3432</td><td colspan="6"></td></tr><tr><td class="h">3433</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $found_reverse = 0;</td></tr>
<tr><td class="h">3434</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $rel (@relationships) {</td></tr>
<tr><td class="h">3435</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3435">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3435">0</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3435">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($rel-&gt;{type} eq &#39;mutually_exclusive&#39; &amp;&amp;</td></tr>
<tr><td class="h">3436</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(($rel-&gt;{params}[0] eq $param2 &amp;&amp; $rel-&gt;{params}[1] eq $param1))) {</td></tr>
<tr><td class="h">3437</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$found_reverse = 1;</td></tr>
<tr><td class="h">3438</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">3439</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3440</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3441</td><td colspan="6"></td></tr><tr><td class="h">3442</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3442">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $found_reverse;</td></tr>
<tr><td class="h">3443</td><td colspan="6"></td></tr><tr><td class="h">3444</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3445</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;mutually_exclusive&#39;,</td></tr>
<tr><td class="h">3446</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params =&gt; [$param1, $param2],</td></tr>
<tr><td class="h">3447</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;Cannot specify both $param1 and $param2&quot;</td></tr>
<tr><td class="h">3448</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3449</td><td colspan="6"></td></tr><tr><td class="h">3450</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 and $param2 are mutually exclusive (from error message)&quot;);</td></tr>
<tr><td class="h">3451</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3452</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3453</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3454</td><td colspan="6"></td></tr><tr><td class="h">3455</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@relationships;</td></tr>
<tr><td class="h">3456</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3457</td><td colspan="6"></td></tr><tr><td class="h">3458 - 3466</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_required_groups

Detect parameter groups where at least one must be specified (OR logic).

Patterns:
&nbsp;&nbsp;die unless $id || $name
&nbsp;&nbsp;croak &quot;Must specify either X or Y&quot; unless $x || $y

=cut</pre></td></tr>
<tr><td class="h">3467</td><td colspan="6"></td></tr><tr><td class="h">3468</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_required_groups {</td></tr>
<tr><td class="h">3469</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3469">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $code, $param_names) = @_;</td></tr>
<tr><td class="h">3470</td><td colspan="6"></td></tr><tr><td class="h">3471</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @relationships;</td></tr>
<tr><td class="h">3472</td><td colspan="6"></td></tr><tr><td class="h">3473</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: die/croak unless $x || $y</td></tr>
<tr><td class="h">3474</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param1 (@$param_names) {</td></tr>
<tr><td class="h">3475</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param2 (@$param_names) {</td></tr>
<tr><td class="h">3476</td><td><div class="c3">85</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3476">100</a></div></td><td></td><td></td><td><div>73</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $param1 eq $param2;</td></tr>
<tr><td class="h">3477</td><td colspan="6"></td></tr><tr><td class="h">3478</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3478">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3478">33</a></div></td><td></td><td><div>2763</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)[^;]*unless\s+\$$param1\s+\|\|\s+\$$param2/ ||</td></tr>
<tr><td class="h">3479</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /(?:die|croak|confess)[^;]*unless\s+\$$param2\s+\|\|\s+\$$param1/) {</td></tr>
<tr><td class="h">3480</td><td colspan="6"></td></tr><tr><td class="h">3481</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Avoid duplicates</td></tr>
<tr><td class="h">3482</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $found_reverse = 0;</td></tr>
<tr><td class="h">3483</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $rel (@relationships) {</td></tr>
<tr><td class="h">3484</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3484">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3484">0</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3484">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($rel-&gt;{type} eq &#39;required_group&#39; &amp;&amp;</td></tr>
<tr><td class="h">3485</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(($rel-&gt;{params}[0] eq $param2 &amp;&amp; $rel-&gt;{params}[1] eq $param1))) {</td></tr>
<tr><td class="h">3486</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$found_reverse = 1;</td></tr>
<tr><td class="h">3487</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">3488</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3489</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3490</td><td colspan="6"></td></tr><tr><td class="h">3491</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3491">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $found_reverse;</td></tr>
<tr><td class="h">3492</td><td colspan="6"></td></tr><tr><td class="h">3493</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3494</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;required_group&#39;,</td></tr>
<tr><td class="h">3495</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params =&gt; [$param1, $param2],</td></tr>
<tr><td class="h">3496</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logic =&gt; &#39;or&#39;,</td></tr>
<tr><td class="h">3497</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;Must specify either $param1 or $param2&quot;</td></tr>
<tr><td class="h">3498</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3499</td><td colspan="6"></td></tr><tr><td class="h">3500</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: Must specify either $param1 or $param2&quot;);</td></tr>
<tr><td class="h">3501</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3502</td><td colspan="6"></td></tr><tr><td class="h">3503</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: die &quot;Must specify either X or Y&quot;</td></tr>
<tr><td class="h">3504</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3504">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3504">33</a></div></td><td></td><td><div>7233</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)\s+[&#39;&quot;]Must\s+specify\s+either[^&#39;&quot;]*$param1[^&#39;&quot;]*or[^&#39;&quot;]*$param2/i ||</td></tr>
<tr><td class="h">3505</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$code =~ /(?:die|croak|confess)\s+[&#39;&quot;]Must\s+specify\s+either[^&#39;&quot;]*$param2[^&#39;&quot;]*or[^&#39;&quot;]*$param1/i) {</td></tr>
<tr><td class="h">3506</td><td colspan="6"></td></tr><tr><td class="h">3507</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $found_reverse = 0;</td></tr>
<tr><td class="h">3508</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $rel (@relationships) {</td></tr>
<tr><td class="h">3509</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3509">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3509">0</a></div><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3509">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($rel-&gt;{type} eq &#39;required_group&#39; &amp;&amp;</td></tr>
<tr><td class="h">3510</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(($rel-&gt;{params}[0] eq $param2 &amp;&amp; $rel-&gt;{params}[1] eq $param1))) {</td></tr>
<tr><td class="h">3511</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$found_reverse = 1;</td></tr>
<tr><td class="h">3512</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last;</td></tr>
<tr><td class="h">3513</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3514</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3515</td><td colspan="6"></td></tr><tr><td class="h">3516</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3516">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $found_reverse;</td></tr>
<tr><td class="h">3517</td><td colspan="6"></td></tr><tr><td class="h">3518</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3519</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;required_group&#39;,</td></tr>
<tr><td class="h">3520</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params =&gt; [$param1, $param2],</td></tr>
<tr><td class="h">3521</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logic =&gt; &#39;or&#39;,</td></tr>
<tr><td class="h">3522</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;Must specify either $param1 or $param2&quot;</td></tr>
<tr><td class="h">3523</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3524</td><td colspan="6"></td></tr><tr><td class="h">3525</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: Must specify either $param1 or $param2 (from error message)&quot;);</td></tr>
<tr><td class="h">3526</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3527</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3528</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3529</td><td colspan="6"></td></tr><tr><td class="h">3530</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@relationships;</td></tr>
<tr><td class="h">3531</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3532</td><td colspan="6"></td></tr><tr><td class="h">3533 - 3541</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_conditional_requirements

Detect conditional requirements (IF-THEN logic).

Patterns:
&nbsp;&nbsp;die if $async &amp;&amp; !$callback
&nbsp;&nbsp;croak &quot;X requires Y&quot; if $x &amp;&amp; !$y

=cut</pre></td></tr>
<tr><td class="h">3542</td><td colspan="6"></td></tr><tr><td class="h">3543</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_conditional_requirements {</td></tr>
<tr><td class="h">3544</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3544">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $code, $param_names) = @_;</td></tr>
<tr><td class="h">3545</td><td colspan="6"></td></tr><tr><td class="h">3546</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @relationships;</td></tr>
<tr><td class="h">3547</td><td colspan="6"></td></tr><tr><td class="h">3548</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param1 (@$param_names) {</td></tr>
<tr><td class="h">3549</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param2 (@$param_names) {</td></tr>
<tr><td class="h">3550</td><td><div class="c3">85</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3550">100</a></div></td><td></td><td></td><td><div>73</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $param1 eq $param2;</td></tr>
<tr><td class="h">3551</td><td colspan="6"></td></tr><tr><td class="h">3552</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: die if $x &amp;&amp; !$y&nbsp;&nbsp;(if x then y required)</td></tr>
<tr><td class="h">3553</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3553">50</a></div></td><td></td><td></td><td><div>1375</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)[^;]*if\s+\$$param1\s+&amp;&amp;\s+!\$$param2/) {</td></tr>
<tr><td class="h">3554</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3555</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;conditional_requirement&#39;,</td></tr>
<tr><td class="h">3556</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if =&gt; $param1,</td></tr>
<tr><td class="h">3557</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then_required =&gt; $param2,</td></tr>
<tr><td class="h">3558</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;When $param1 is specified, $param2 is required&quot;</td></tr>
<tr><td class="h">3559</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3560</td><td colspan="6"></td></tr><tr><td class="h">3561</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 requires $param2&quot;);</td></tr>
<tr><td class="h">3562</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3563</td><td colspan="6"></td></tr><tr><td class="h">3564</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: die if $x &amp;&amp; !defined($y)</td></tr>
<tr><td class="h">3565</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3565">50</a></div></td><td></td><td></td><td><div>2053</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)[^;]*if\s+\$$param1\s+&amp;&amp;\s+!defined\s*\(\s*\$$param2\s*\)/) {</td></tr>
<tr><td class="h">3566</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3567</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;conditional_requirement&#39;,</td></tr>
<tr><td class="h">3568</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if =&gt; $param1,</td></tr>
<tr><td class="h">3569</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then_required =&gt; $param2,</td></tr>
<tr><td class="h">3570</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;When $param1 is specified, $param2 is required&quot;</td></tr>
<tr><td class="h">3571</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3572</td><td colspan="6"></td></tr><tr><td class="h">3573</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 requires $param2 (defined check)&quot;);</td></tr>
<tr><td class="h">3574</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3575</td><td colspan="6"></td></tr><tr><td class="h">3576</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: Error message &quot;X requires Y&quot;</td></tr>
<tr><td class="h">3577</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3577">50</a></div></td><td></td><td></td><td><div>3371</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)\s+[&#39;&quot;]\w*$param1[^&#39;&quot;]*requires[^&#39;&quot;]*$param2/i) {</td></tr>
<tr><td class="h">3578</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3579</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;conditional_requirement&#39;,</td></tr>
<tr><td class="h">3580</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if =&gt; $param1,</td></tr>
<tr><td class="h">3581</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then_required =&gt; $param2,</td></tr>
<tr><td class="h">3582</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;When $param1 is specified, $param2 is required&quot;</td></tr>
<tr><td class="h">3583</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3584</td><td colspan="6"></td></tr><tr><td class="h">3585</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 requires $param2 (from error message)&quot;);</td></tr>
<tr><td class="h">3586</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3587</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3588</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3589</td><td colspan="6"></td></tr><tr><td class="h">3590</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@relationships;</td></tr>
<tr><td class="h">3591</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3592</td><td colspan="6"></td></tr><tr><td class="h">3593 - 3600</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_dependencies

Detect simple parameter dependencies (X requires Y to exist).

Patterns:
&nbsp;&nbsp;die &#39;Port requires host&#39; if $port &amp;&amp; !$host

=cut</pre></td></tr>
<tr><td class="h">3601</td><td colspan="6"></td></tr><tr><td class="h">3602</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_dependencies {</td></tr>
<tr><td class="h">3603</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3603">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $code, $param_names) = @_;</td></tr>
<tr><td class="h">3604</td><td colspan="6"></td></tr><tr><td class="h">3605</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @relationships;</td></tr>
<tr><td class="h">3606</td><td colspan="6"></td></tr><tr><td class="h">3607</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param1 (@$param_names) {</td></tr>
<tr><td class="h">3608</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param2 (@$param_names) {</td></tr>
<tr><td class="h">3609</td><td><div class="c3">85</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3609">100</a></div></td><td></td><td></td><td><div>64</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $param1 eq $param2;</td></tr>
<tr><td class="h">3610</td><td colspan="6"></td></tr><tr><td class="h">3611</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: Error message mentions &quot;X requires Y&quot; AND code checks $x &amp;&amp; !$y</td></tr>
<tr><td class="h">3612</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Split into two checks to be more flexible</td></tr>
<tr><td class="h">3613</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3613">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3613">33</a></div></td><td></td><td><div>3214</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (($code =~ /(?:die|croak|confess)\s+[&#39;&quot;]\w*$param1[^&#39;&quot;]*requires[^&#39;&quot;]*$param2/i) &amp;&amp;</td></tr>
<tr><td class="h">3614</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($code =~ /if\s+\$param1\s+&amp;&amp;\s+!\$param2/)) {</td></tr>
<tr><td class="h">3615</td><td colspan="6"></td></tr><tr><td class="h">3616</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3617</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;dependency&#39;,</td></tr>
<tr><td class="h">3618</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;param =&gt; $param1,</td></tr>
<tr><td class="h">3619</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requires =&gt; $param2,</td></tr>
<tr><td class="h">3620</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;$param1 requires $param2 to be specified&quot;</td></tr>
<tr><td class="h">3621</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3622</td><td colspan="6"></td></tr><tr><td class="h">3623</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 depends on $param2&quot;);</td></tr>
<tr><td class="h">3624</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3625</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3626</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3627</td><td colspan="6"></td></tr><tr><td class="h">3628</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@relationships;</td></tr>
<tr><td class="h">3629</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3630</td><td colspan="6"></td></tr><tr><td class="h">3631 - 3639</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_value_constraints

Detect value-based constraints between parameters.

Patterns:
&nbsp;&nbsp;die if $ssl &amp;&amp; $port != 443
&nbsp;&nbsp;croak &quot;Invalid combination&quot; if $mode eq &#39;secure&#39; &amp;&amp; !$key

=cut</pre></td></tr>
<tr><td class="h">3640</td><td colspan="6"></td></tr><tr><td class="h">3641</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_value_constraints {</td></tr>
<tr><td class="h">3642</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3642">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $code, $param_names) = @_;</td></tr>
<tr><td class="h">3643</td><td colspan="6"></td></tr><tr><td class="h">3644</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @relationships;</td></tr>
<tr><td class="h">3645</td><td colspan="6"></td></tr><tr><td class="h">3646</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param1 (@$param_names) {</td></tr>
<tr><td class="h">3647</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param2 (@$param_names) {</td></tr>
<tr><td class="h">3648</td><td><div class="c3">85</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3648">100</a></div></td><td></td><td></td><td><div>71</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $param1 eq $param2;</td></tr>
<tr><td class="h">3649</td><td colspan="6"></td></tr><tr><td class="h">3650</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: die if $x &amp;&amp; $y != value</td></tr>
<tr><td class="h">3651</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3651">50</a></div></td><td></td><td></td><td><div>1908</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)[^;]*if\s+\$$param1\s+&amp;&amp;\s+\$$param2\s*!=\s*(\d+)/) {</td></tr>
<tr><td class="h">3652</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $value = $1;</td></tr>
<tr><td class="h">3653</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3654</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;value_constraint&#39;,</td></tr>
<tr><td class="h">3655</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if =&gt; $param1,</td></tr>
<tr><td class="h">3656</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then =&gt; $param2,</td></tr>
<tr><td class="h">3657</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator =&gt; &#39;==&#39;,</td></tr>
<tr><td class="h">3658</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value =&gt; $value,</td></tr>
<tr><td class="h">3659</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;When $param1 is specified, $param2 must equal $value&quot;</td></tr>
<tr><td class="h">3660</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3661</td><td colspan="6"></td></tr><tr><td class="h">3662</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 requires $param2 == $value&quot;);</td></tr>
<tr><td class="h">3663</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3664</td><td colspan="6"></td></tr><tr><td class="h">3665</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: die if $x &amp;&amp; $y &lt; value</td></tr>
<tr><td class="h">3666</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3666">50</a></div></td><td></td><td></td><td><div>1866</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)[^;]*if\s+\$$param1\s+&amp;&amp;\s+\$$param2\s*&lt;\s*(\d+)/) {</td></tr>
<tr><td class="h">3667</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $value = $1;</td></tr>
<tr><td class="h">3668</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3669</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;value_constraint&#39;,</td></tr>
<tr><td class="h">3670</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if =&gt; $param1,</td></tr>
<tr><td class="h">3671</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then =&gt; $param2,</td></tr>
<tr><td class="h">3672</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator =&gt; &#39;&gt;=&#39;,</td></tr>
<tr><td class="h">3673</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value =&gt; $value,</td></tr>
<tr><td class="h">3674</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;When $param1 is specified, $param2 must be &gt;= $value&quot;</td></tr>
<tr><td class="h">3675</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3676</td><td colspan="6"></td></tr><tr><td class="h">3677</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1 requires $param2 &gt;= $value&quot;);</td></tr>
<tr><td class="h">3678</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3679</td><td colspan="6"></td></tr><tr><td class="h">3680</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: die if $x eq &#39;value&#39; &amp;&amp; !$y</td></tr>
<tr><td class="h">3681</td><td><div class="c3">68</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3681">50</a></div></td><td></td><td></td><td><div>2434</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($code =~ /(?:die|croak|confess)[^;]*if\s+\$$param1\s+eq\s+[&#39;&quot;]([^&#39;&quot;]+)[&#39;&quot;]\s+&amp;&amp;\s+!\$$param2/) {</td></tr>
<tr><td class="h">3682</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $value = $1;</td></tr>
<tr><td class="h">3683</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @relationships, {</td></tr>
<tr><td class="h">3684</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;value_conditional&#39;,</td></tr>
<tr><td class="h">3685</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if =&gt; $param1,</td></tr>
<tr><td class="h">3686</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equals =&gt; $value,</td></tr>
<tr><td class="h">3687</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then_required =&gt; $param2,</td></tr>
<tr><td class="h">3688</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&gt; &quot;When $param1 equals &#39;$value&#39;, $param2 is required&quot;</td></tr>
<tr><td class="h">3689</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3690</td><td colspan="6"></td></tr><tr><td class="h">3691</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;RELATIONSHIP: $param1=&#39;$value&#39; requires $param2&quot;);</td></tr>
<tr><td class="h">3692</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3693</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3694</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3695</td><td colspan="6"></td></tr><tr><td class="h">3696</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \@relationships;</td></tr>
<tr><td class="h">3697</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3698</td><td colspan="6"></td></tr><tr><td class="h">3699 - 3703</td><td colspan="5"></td><td class="s"><pre>=head2 _write_schema

Write a schema to a YAML file.

=cut</pre></td></tr>
<tr><td class="h">3704</td><td colspan="6"></td></tr><tr><td class="h">3705</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _write_schema {</td></tr>
<tr><td class="h">3706</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3706">4</a></div></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method_name, $schema) = @_;</td></tr>
<tr><td class="h">3707</td><td colspan="6"></td></tr><tr><td class="h">3708</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3708">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die if(!defined($self-&gt;{&#39;output_dir&#39;}));</td></tr>
<tr><td class="h">3709</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3709">50</a></div></td><td></td><td></td><td><div>43</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make_path($self-&gt;{output_dir}) unless -d $self-&gt;{output_dir};</td></tr>
<tr><td class="h">3710</td><td colspan="6"></td></tr><tr><td class="h">3711</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $filename = &quot;$self-&gt;{output_dir}/${method_name}.yaml&quot;;</td></tr>
<tr><td class="h">3712</td><td colspan="6"></td></tr><tr><td class="h">3713</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract package name for module field</td></tr>
<tr><td class="h">3714</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $package_name = &#39;&#39;;</td></tr>
<tr><td class="h">3715</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3715">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($self-&gt;{_document}) {</td></tr>
<tr><td class="h">3716</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $package_stmt = $self-&gt;{_document}-&gt;find_first(&#39;PPI::Statement::Package&#39;);</td></tr>
<tr><td class="h">3717</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3717">50</a></div></td><td></td><td></td><td><div>390</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$package_name = $package_stmt ? $package_stmt-&gt;namespace : &#39;&#39;;</td></tr>
<tr><td class="h">3718</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3719</td><td colspan="6"></td></tr><tr><td class="h">3720</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Clean up schema for output - use the format expected by test generator</td></tr>
<tr><td class="h">3721</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>71</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $output = {</td></tr>
<tr><td class="h">3722</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function =&gt; $method_name,</td></tr>
<tr><td class="h">3723</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module =&gt; $package_name,</td></tr>
<tr><td class="h">3724</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;config =&gt; {</td></tr>
<tr><td class="h">3725</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_nuls =&gt; 0,</td></tr>
<tr><td class="h">3726</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_undef =&gt; 0,</td></tr>
<tr><td class="h">3727</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_empty =&gt; 1,</td></tr>
<tr><td class="h">3728</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_non_ascii =&gt; 0</td></tr>
<tr><td class="h">3729</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3730</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">3731</td><td colspan="6"></td></tr><tr><td class="h">3732</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Process input parameters with advanced type handling</td></tr>
<tr><td class="h">3733</td><td><div class="c3">4</div><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3733">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3733">50</a></div></td><td></td><td><div>9</div><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($schema-&gt;{&#39;input&#39;} &amp;&amp; (scalar(keys %{$schema-&gt;{&#39;input&#39;}}))) {</td></tr>
<tr><td class="h">3734</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{&#39;input&#39;} = {};</td></tr>
<tr><td class="h">3735</td><td colspan="6"></td></tr><tr><td class="h">3736</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param_name (keys %{$schema-&gt;{&#39;input&#39;}}) {</td></tr>
<tr><td class="h">3737</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $param = $schema-&gt;{&#39;input&#39;}{$param_name};</td></tr>
<tr><td class="h">3738</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $cleaned_param = $self-&gt;_serialize_parameter_for_yaml($param);</td></tr>
<tr><td class="h">3739</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{&#39;input&#39;}{$param_name} = $cleaned_param;</td></tr>
<tr><td class="h">3740</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3741</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3742</td><td colspan="6"></td></tr><tr><td class="h">3743</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Process output</td></tr>
<tr><td class="h">3744</td><td><div class="c3">4</div><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3744">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3744">50</a></div></td><td></td><td><div>7</div><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($schema-&gt;{&#39;output&#39;} &amp;&amp; (scalar(keys %{$schema-&gt;{&#39;output&#39;}}))) {</td></tr>
<tr><td class="h">3745</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{&#39;output&#39;} = $schema-&gt;{&#39;output&#39;};</td></tr>
<tr><td class="h">3746</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3747</td><td colspan="6"></td></tr><tr><td class="h">3748</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3748">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3748">67</a></div></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($schema-&gt;{&#39;output&#39;}{&#39;type&#39;} &amp;&amp; ($schema-&gt;{&#39;output&#39;}{&#39;type&#39;} eq &#39;scalar&#39;)) {</td></tr>
<tr><td class="h">3749</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$schema-&gt;{&#39;output&#39;}{&#39;type&#39;} = &#39;string&#39;;</td></tr>
<tr><td class="h">3750</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3751</td><td colspan="6"></td></tr><tr><td class="h">3752</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add &#39;new&#39; field if object instantiation is needed</td></tr>
<tr><td class="h">3753</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3753">100</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{new}) {</td></tr>
<tr><td class="h">3754</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3754">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{new} = $schema-&gt;{new} eq $package_name ? undef : $schema-&gt;{&#39;new&#39;};</td></tr>
<tr><td class="h">3755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3756</td><td colspan="6"></td></tr><tr><td class="h">3757</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add relationships if detected</td></tr>
<tr><td class="h">3758</td><td><div class="c3">4</div><div class="c0">0</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3758">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3758">33</a></div></td><td></td><td><div>5</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{relationships} &amp;&amp; @{$schema-&gt;{relationships}}) {</td></tr>
<tr><td class="h">3759</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$output-&gt;{relationships} = $schema-&gt;{relationships};</td></tr>
<tr><td class="h">3760</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3761</td><td colspan="6"></td></tr><tr><td class="h">3762</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open my $fh, &#39;&gt;&#39;, $filename;</td></tr>
<tr><td class="h">3763</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>1468</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $fh YAML::XS::Dump($output);</td></tr>
<tr><td class="h">3764</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $fh $self-&gt;_generate_schema_comments($schema, $method_name);</td></tr>
<tr><td class="h">3765</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close $fh;</td></tr>
<tr><td class="h">3766</td><td colspan="6"></td></tr><tr><td class="h">3767</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $rel_info = $schema-&gt;{relationships} ?</td></tr>
<tr><td class="h">3768</td><td><div class="c3">4</div><div class="c0">0</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3768">50</a></div></td><td></td><td></td><td><div>556</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39; [&#39; . scalar(@{$schema-&gt;{relationships}}) . &#39; relationships]&#39; : &#39;&#39;;</td></tr>
<tr><td class="h">3769</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;Wrote: $filename (input confidence: $schema-&gt;{_confidence}{input}-&gt;{level})&quot; .</td></tr>
<tr><td class="h">3770</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3770">100</a></div></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($schema-&gt;{new} ? &quot; [requires: $schema-&gt;{new}]&quot; : &#39;&#39;) . $rel_info);</td></tr>
<tr><td class="h">3771</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3772</td><td colspan="6"></td></tr><tr><td class="h">3773 - 3777</td><td colspan="5"></td><td class="s"><pre>=head2 _serialize_parameter_for_yaml

Convert parameter hash to YAML-serializable format with proper type handling.

=cut</pre></td></tr>
<tr><td class="h">3778</td><td colspan="6"></td></tr><tr><td class="h">3779</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _serialize_parameter_for_yaml {</td></tr>
<tr><td class="h">3780</td><td><div class="c3">17</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3780">17</a></div></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $param) = @_;</td></tr>
<tr><td class="h">3781</td><td colspan="6"></td></tr><tr><td class="h">3782</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %cleaned;</td></tr>
<tr><td class="h">3783</td><td colspan="6"></td></tr><tr><td class="h">3784</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Copy basic fields that App::Test::Generator expects</td></tr>
<tr><td class="h">3785</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $field (qw(type position optional min max matches default)) {</td></tr>
<tr><td class="h">3786</td><td><div class="c3">119</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3786">100</a></div></td><td></td><td></td><td><div>109</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{$field} = $param-&gt;{$field} if defined $param-&gt;{$field};</td></tr>
<tr><td class="h">3787</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3788</td><td colspan="6"></td></tr><tr><td class="h">3789</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle advanced type mappings</td></tr>
<tr><td class="h">3790</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $semantic = $param-&gt;{semantic};</td></tr>
<tr><td class="h">3791</td><td colspan="6"></td></tr><tr><td class="h">3792</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3792">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($semantic) {</td></tr>
<tr><td class="h">3793</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3793">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($semantic eq &#39;datetime_object&#39;) {</td></tr>
<tr><td class="h">3794</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# DateTime objects: test generator needs to know how to create them</td></tr>
<tr><td class="h">3795</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">3796</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3796">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{isa} = $param-&gt;{isa} || &#39;DateTime&#39;;</td></tr>
<tr><td class="h">3797</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;Requires DateTime object&#39;;</td></tr>
<tr><td class="h">3798</td><td colspan="6"></td></tr><tr><td class="h">3799</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;timepiece_object&#39;) {</td></tr>
<tr><td class="h">3800</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">3801</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3801">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{isa} = $param-&gt;{isa} || &#39;Time::Piece&#39;;</td></tr>
<tr><td class="h">3802</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;Requires Time::Piece object&#39;;</td></tr>
<tr><td class="h">3803</td><td colspan="6"></td></tr><tr><td class="h">3804</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;date_string&#39;) {</td></tr>
<tr><td class="h">3805</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Date strings: provide regex pattern</td></tr>
<tr><td class="h">3806</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">3807</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3807">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{matches} ||= &#39;/^\d{4}-\d{2}-\d{2}$/&#39;;</td></tr>
<tr><td class="h">3808</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_example} = &#39;2024-12-12&#39;;</td></tr>
<tr><td class="h">3809</td><td colspan="6"></td></tr><tr><td class="h">3810</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;iso8601_string&#39;) {</td></tr>
<tr><td class="h">3811</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">3812</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3812">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{matches} ||= &#39;/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z?$/&#39;;</td></tr>
<tr><td class="h">3813</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_example} = &#39;2024-12-12T10:30:00Z&#39;;</td></tr>
<tr><td class="h">3814</td><td colspan="6"></td></tr><tr><td class="h">3815</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;unix_timestamp&#39;) {</td></tr>
<tr><td class="h">3816</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;integer&#39;;</td></tr>
<tr><td class="h">3817</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3817">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{min} ||= 0;</td></tr>
<tr><td class="h">3818</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3818">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{max} ||= 2147483647;&nbsp;&nbsp;&nbsp;# 32-bit max</td></tr>
<tr><td class="h">3819</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;UNIX timestamp&#39;;</td></tr>
<tr><td class="h">3820</td><td colspan="6"></td></tr><tr><td class="h">3821</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;datetime_parseable&#39;) {</td></tr>
<tr><td class="h">3822</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">3823</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;Must be parseable as datetime&#39;;</td></tr>
<tr><td class="h">3824</td><td colspan="6"></td></tr><tr><td class="h">3825</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;filehandle&#39;) {</td></tr>
<tr><td class="h">3826</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# File handles: special handling needed</td></tr>
<tr><td class="h">3827</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;object&#39;;</td></tr>
<tr><td class="h">3828</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3828">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{isa} = $param-&gt;{isa} || &#39;IO::Handle&#39;;</td></tr>
<tr><td class="h">3829</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;File handle - may need mock in tests&#39;;</td></tr>
<tr><td class="h">3830</td><td colspan="6"></td></tr><tr><td class="h">3831</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;filepath&#39;) {</td></tr>
<tr><td class="h">3832</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# File paths: string with path pattern</td></tr>
<tr><td class="h">3833</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">3834</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3834">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{matches} ||= &#39;/^[\\w\\/.\\-_]+$/&#39;;</td></tr>
<tr><td class="h">3835</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;File path&#39;;</td></tr>
<tr><td class="h">3836</td><td colspan="6"></td></tr><tr><td class="h">3837</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;callback&#39;) {</td></tr>
<tr><td class="h">3838</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Coderefs: mark as special type</td></tr>
<tr><td class="h">3839</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;coderef&#39;;</td></tr>
<tr><td class="h">3840</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;CODE reference - provide sub { } in tests&#39;;</td></tr>
<tr><td class="h">3841</td><td colspan="6"></td></tr><tr><td class="h">3842</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($semantic eq &#39;enum&#39;) {</td></tr>
<tr><td class="h">3843</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Enum: keep as string but add valid values</td></tr>
<tr><td class="h">3844</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{type} = &#39;string&#39;;</td></tr>
<tr><td class="h">3845</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3845">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3845">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($param-&gt;{enum} &amp;&amp; ref($param-&gt;{enum}) eq &#39;ARRAY&#39;) {</td></tr>
<tr><td class="h">3846</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{enum} = $param-&gt;{enum};</td></tr>
<tr><td class="h">3847</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_note} = &#39;Must be one of: &#39; . join(&#39;, &#39;, @{$param-&gt;{enum}});</td></tr>
<tr><td class="h">3848</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3849</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3850</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3851</td><td colspan="6"></td></tr><tr><td class="h">3852</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle enum even if not marked with semantic</td></tr>
<tr><td class="h">3853</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3853">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3853">33</a></div></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($param-&gt;{enum} &amp;&amp; ref($param-&gt;{enum}) eq &#39;ARRAY&#39;) {</td></tr>
<tr><td class="h">3854</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{enum} = $param-&gt;{enum};</td></tr>
<tr><td class="h">3855</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3856</td><td colspan="6"></td></tr><tr><td class="h">3857</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle object class</td></tr>
<tr><td class="h">3858</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3858">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3858">33</a></div></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($param-&gt;{isa} &amp;&amp; !$cleaned{isa}) {</td></tr>
<tr><td class="h">3859</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{isa} = $param-&gt;{isa};</td></tr>
<tr><td class="h">3860</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3861</td><td colspan="6"></td></tr><tr><td class="h">3862</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add format hints where available</td></tr>
<tr><td class="h">3863</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3863">50</a></div></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($param-&gt;{format}) {</td></tr>
<tr><td class="h">3864</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleaned{_format} = $param-&gt;{format};</td></tr>
<tr><td class="h">3865</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3866</td><td colspan="6"></td></tr><tr><td class="h">3867</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove internal fields</td></tr>
<tr><td class="h">3868</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete $cleaned{_source};</td></tr>
<tr><td class="h">3869</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete $cleaned{semantic};</td></tr>
<tr><td class="h">3870</td><td colspan="6"></td></tr><tr><td class="h">3871</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%cleaned;</td></tr>
<tr><td class="h">3872</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3873</td><td colspan="6"></td></tr><tr><td class="h">3874 - 3878</td><td colspan="5"></td><td class="s"><pre>=head2 _generate_schema_comments

Generate helpful comments at the end of the YAML file.

=cut</pre></td></tr>
<tr><td class="h">3879</td><td colspan="6"></td></tr><tr><td class="h">3880</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _generate_schema_comments {</td></tr>
<tr><td class="h">3881</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3881">4</a></div></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $schema, $method_name) = @_;</td></tr>
<tr><td class="h">3882</td><td colspan="6"></td></tr><tr><td class="h">3883</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @comments;</td></tr>
<tr><td class="h">3884</td><td colspan="6"></td></tr><tr><td class="h">3885</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;&#39;;</td></tr>
<tr><td class="h">3886</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;# Generated by &quot; . ref($self);</td></tr>
<tr><td class="h">3887</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;# Run: fuzz-harness-generator -r $self-&gt;{output_dir}/${method_name}.yaml&quot;;</td></tr>
<tr><td class="h">3888</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;#&#39;;</td></tr>
<tr><td class="h">3889</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;# Input confidence: $schema-&gt;{_confidence}{input}-&gt;{level}&quot;;</td></tr>
<tr><td class="h">3890</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;# Output confidence: $schema-&gt;{_confidence}{output}-&gt;{level}&quot;;</td></tr>
<tr><td class="h">3891</td><td colspan="6"></td></tr><tr><td class="h">3892</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add notes about parameters</td></tr>
<tr><td class="h">3893</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3893">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{input}) {</td></tr>
<tr><td class="h">3894</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @param_notes;</td></tr>
<tr><td class="h">3895</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param_name (sort keys %{$schema-&gt;{input}}) {</td></tr>
<tr><td class="h">3896</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $schema-&gt;{input}{$param_name};</td></tr>
<tr><td class="h">3897</td><td colspan="6"></td></tr><tr><td class="h">3898</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3898">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{semantic}) {</td></tr>
<tr><td class="h">3899</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_notes, &quot;$param_name: $p-&gt;{semantic}&quot;;</td></tr>
<tr><td class="h">3900</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3901</td><td colspan="6"></td></tr><tr><td class="h">3902</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3902">50</a></div></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{enum}) {</td></tr>
<tr><td class="h">3903</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_notes, &quot;$param_name: enum with &quot; . scalar(@{$p-&gt;{enum}}) . &quot; values&quot;;</td></tr>
<tr><td class="h">3904</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3905</td><td colspan="6"></td></tr><tr><td class="h">3906</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3906">50</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{isa}) {</td></tr>
<tr><td class="h">3907</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @param_notes, &quot;$param_name: requires $p-&gt;{isa} object&quot;;</td></tr>
<tr><td class="h">3908</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3909</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3910</td><td colspan="6"></td></tr><tr><td class="h">3911</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3911">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@param_notes) {</td></tr>
<tr><td class="h">3912</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;#&#39;;</td></tr>
<tr><td class="h">3913</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;# Parameter types detected:&#39;;</td></tr>
<tr><td class="h">3914</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $note (@param_notes) {</td></tr>
<tr><td class="h">3915</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;#&nbsp;&nbsp;&nbsp;- $note&quot;;</td></tr>
<tr><td class="h">3916</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3917</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3918</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3919</td><td colspan="6"></td></tr><tr><td class="h">3920</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add relationship notes</td></tr>
<tr><td class="h">3921</td><td><div class="c3">4</div><div class="c0">0</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3921">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3921">33</a></div></td><td></td><td><div>8</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{relationships} &amp;&amp; @{$schema-&gt;{relationships}}) {</td></tr>
<tr><td class="h">3922</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, (</td></tr>
<tr><td class="h">3923</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;#&#39;,</td></tr>
<tr><td class="h">3924</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;# Parameter relationships detected:&#39;</td></tr>
<tr><td class="h">3925</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">3926</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $rel (@{$schema-&gt;{relationships}}) {</td></tr>
<tr><td class="h">3927</td><td><div class="c0">0</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3927">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $desc = $rel-&gt;{description} || _format_relationship($rel);</td></tr>
<tr><td class="h">3928</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;#&nbsp;&nbsp;&nbsp;- $desc&quot;;</td></tr>
<tr><td class="h">3929</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3930</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3931</td><td colspan="6"></td></tr><tr><td class="h">3932</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add general notes</td></tr>
<tr><td class="h">3933</td><td><div class="c3">4</div><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3933">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3933">50</a></div></td><td></td><td><div>8</div><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{_notes} &amp;&amp; scalar(@{$schema-&gt;{_notes}})) {</td></tr>
<tr><td class="h">3934</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;#&#39;;</td></tr>
<tr><td class="h">3935</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;# Notes:&#39;;</td></tr>
<tr><td class="h">3936</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $note (@{$schema-&gt;{_notes}}) {</td></tr>
<tr><td class="h">3937</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;#&nbsp;&nbsp;&nbsp;- $note&quot;;</td></tr>
<tr><td class="h">3938</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3939</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3940</td><td colspan="6"></td></tr><tr><td class="h">3941</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3941">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($schema-&gt;{_analysis}) {</td></tr>
<tr><td class="h">3942</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, (</td></tr>
<tr><td class="h">3943</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;#&#39;,</td></tr>
<tr><td class="h">3944</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;# Analysis:&#39;,</td></tr>
<tr><td class="h">3945</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;# TODO:&#39;,</td></tr>
<tr><td class="h">3946</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">3947</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# confidence_factors:</td></tr>
<tr><td class="h">3948</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;input:</td></tr>
<tr><td class="h">3949</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;- No parameters found</td></tr>
<tr><td class="h">3950</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;output:</td></tr>
<tr><td class="h">3951</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;- &#39;Return type defined: object (+30)&#39;</td></tr>
<tr><td class="h">3952</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;- &#39;Total output confidence score: 30&#39;</td></tr>
<tr><td class="h">3953</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;- &#39;Medium confidence: return type defined&#39;</td></tr>
<tr><td class="h">3954</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;input_confidence: none</td></tr>
<tr><td class="h">3955</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;output_confidence: medium</td></tr>
<tr><td class="h">3956</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;overall_confidence: none</td></tr>
<tr><td class="h">3957</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3958</td><td colspan="6"></td></tr><tr><td class="h">3959</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add warnings for complex types</td></tr>
<tr><td class="h">3960</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @warnings;</td></tr>
<tr><td class="h">3961</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3961">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($schema-&gt;{input}) {</td></tr>
<tr><td class="h">3962</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param_name (keys %{$schema-&gt;{input}}) {</td></tr>
<tr><td class="h">3963</td><td><div class="c3">17</div></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $p = $schema-&gt;{input}{$param_name};</td></tr>
<tr><td class="h">3964</td><td colspan="6"></td></tr><tr><td class="h">3965</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3965">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3965">33</a></div></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{type} &amp;&amp; $p-&gt;{type} eq &#39;coderef&#39;) {</td></tr>
<tr><td class="h">3966</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @warnings, &quot;Parameter &#39;$param_name&#39; is a coderef - you&#39;ll need to provide a sub {} in tests&quot;;</td></tr>
<tr><td class="h">3967</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3968</td><td colspan="6"></td></tr><tr><td class="h">3969</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3969">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3969">33</a></div></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{semantic} &amp;&amp; $p-&gt;{semantic} eq &#39;filehandle&#39;) {</td></tr>
<tr><td class="h">3970</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @warnings, &quot;Parameter &#39;$param_name&#39; is a filehandle - consider using IO::String or mock&quot;;</td></tr>
<tr><td class="h">3971</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3972</td><td colspan="6"></td></tr><tr><td class="h">3973</td><td><div class="c3">17</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3973">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L3973">33</a></div></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($p-&gt;{isa} &amp;&amp; $p-&gt;{isa} =~ /DateTime/) {</td></tr>
<tr><td class="h">3974</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @warnings, &quot;Parameter &#39;$param_name&#39; requires DateTime - ensure DateTime is loaded&quot;;</td></tr>
<tr><td class="h">3975</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3976</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3977</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3978</td><td colspan="6"></td></tr><tr><td class="h">3979</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3979">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@warnings) {</td></tr>
<tr><td class="h">3980</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;#&#39;;</td></tr>
<tr><td class="h">3981</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;# WARNINGS - Manual test setup may be required:&#39;;</td></tr>
<tr><td class="h">3982</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $warning (@warnings) {</td></tr>
<tr><td class="h">3983</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &quot;#&nbsp;&nbsp;&nbsp;! $warning&quot;;</td></tr>
<tr><td class="h">3984</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3985</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">3986</td><td colspan="6"></td></tr><tr><td class="h">3987</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @comments, &#39;&#39;;</td></tr>
<tr><td class="h">3988</td><td colspan="6"></td></tr><tr><td class="h">3989</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return join(&quot;\n&quot;, @comments);</td></tr>
<tr><td class="h">3990</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">3991</td><td colspan="6"></td></tr><tr><td class="h">3992</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _format_relationship {</td></tr>
<tr><td class="h">3993</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L3993">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $rel = $_[0];</td></tr>
<tr><td class="h">3994</td><td colspan="6"></td></tr><tr><td class="h">3995</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3995">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3995">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3995">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3995">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3995">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L3995">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($rel-&gt;{type} eq &#39;mutually_exclusive&#39;) {</td></tr>
<tr><td class="h">3996</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &#39;Mutually exclusive: &#39; . join(&#39;, &#39;, @{$rel-&gt;{params}});</td></tr>
<tr><td class="h">3997</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;required_group&#39;) {</td></tr>
<tr><td class="h">3998</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;Required group (OR): &quot; . join(&#39;, &#39;, @{$rel-&gt;{params}});</td></tr>
<tr><td class="h">3999</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;conditional_requirement&#39;) {</td></tr>
<tr><td class="h">4000</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;If $rel-&gt;{if} then $rel-&gt;{then_required} required&quot;;</td></tr>
<tr><td class="h">4001</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;dependency&#39;) {</td></tr>
<tr><td class="h">4002</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;$rel-&gt;{param} depends on $rel-&gt;{requires}&quot;;</td></tr>
<tr><td class="h">4003</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;value_constraint&#39;) {</td></tr>
<tr><td class="h">4004</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;If $rel-&gt;{if} then $rel-&gt;{then} $rel-&gt;{operator} $rel-&gt;{value}&quot;;</td></tr>
<tr><td class="h">4005</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($rel-&gt;{type} eq &#39;value_conditional&#39;) {</td></tr>
<tr><td class="h">4006</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;If $rel-&gt;{if}=&#39;$rel-&gt;{equals}&#39; then $rel-&gt;{then_required} required&quot;;</td></tr>
<tr><td class="h">4007</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4008</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &#39;Unknown relationship&#39;;</td></tr>
<tr><td class="h">4009</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4010</td><td colspan="6"></td></tr><tr><td class="h">4011 - 4025</td><td colspan="5"></td><td class="s"><pre>=head2 _needs_object_instantiation

Enhanced object detection that:
- Detects factory methods that return instances
- Recognizes singleton patterns
- Identifies when constructor needs specific parameters
- Handles inheritance (when parent class new() is needed)
- Detects both instance methods and class methods that require objects

Returns:
- undef if no object needed
- package name if object instantiation is needed
- hashref with constructor details if specific parameters are needed

=cut</pre></td></tr>
<tr><td class="h">4026</td><td colspan="6"></td></tr><tr><td class="h">4027</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _needs_object_instantiation {</td></tr>
<tr><td class="h">4028</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4028">4</a></div></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method_name, $method_body, $method_info) = @_;</td></tr>
<tr><td class="h">4029</td><td colspan="6"></td></tr><tr><td class="h">4030</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Allow method_info to be optional for backward compatibility</td></tr>
<tr><td class="h">4031</td><td><div class="c3">4</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4031">50</a></div></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method_info ||= {};</td></tr>
<tr><td class="h">4032</td><td colspan="6"></td></tr><tr><td class="h">4033</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $doc = $self-&gt;{_document};</td></tr>
<tr><td class="h">4034</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4034">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $doc;</td></tr>
<tr><td class="h">4035</td><td colspan="6"></td></tr><tr><td class="h">4036</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get the current package name</td></tr>
<tr><td class="h">4037</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $package_stmt = $doc-&gt;find_first(&#39;PPI::Statement::Package&#39;);</td></tr>
<tr><td class="h">4038</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4038">50</a></div></td><td></td><td></td><td><div>372</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $current_package = $package_stmt ? $package_stmt-&gt;namespace : &#39;UNKNOWN&#39;;</td></tr>
<tr><td class="h">4039</td><td colspan="6"></td></tr><tr><td class="h">4040</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip constructors and destructors</td></tr>
<tr><td class="h">4041</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4041">50</a></div></td><td></td><td></td><td><div>60</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef if $method_name eq &#39;new&#39;;</td></tr>
<tr><td class="h">4042</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4042">50</a></div></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef if $method_name =~ /^(create|build|construct|init|DESTROY)$/i;</td></tr>
<tr><td class="h">4043</td><td colspan="6"></td></tr><tr><td class="h">4044</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Initialize result structure</td></tr>
<tr><td class="h">4045</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $result = {</td></tr>
<tr><td class="h">4046</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package =&gt; $current_package,</td></tr>
<tr><td class="h">4047</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needs_object =&gt; 0,</td></tr>
<tr><td class="h">4048</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type =&gt; &#39;unknown&#39;,</td></tr>
<tr><td class="h">4049</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details =&gt; {},</td></tr>
<tr><td class="h">4050</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor_params =&gt; undef,</td></tr>
<tr><td class="h">4051</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">4052</td><td colspan="6"></td></tr><tr><td class="h">4053</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 1. Check for factory methods that return instances</td></tr>
<tr><td class="h">4054</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $is_factory = $self-&gt;_detect_factory_method($method_name, $method_body, $current_package, $method_info);</td></tr>
<tr><td class="h">4055</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4055">100</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($is_factory) {</td></tr>
<tr><td class="h">4056</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{needs_object} = 0; # Factory methods CREATE objects, don&#39;t need them</td></tr>
<tr><td class="h">4057</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{type} = &#39;factory&#39;;</td></tr>
<tr><td class="h">4058</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{details} = $is_factory;</td></tr>
<tr><td class="h">4059</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4059">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OBJECT: Detected factory method &#39;$method_name&#39; returns $is_factory-&gt;{returns_class} objects&quot;) if $is_factory-&gt;{returns_class};</td></tr>
<tr><td class="h">4060</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;&nbsp;&nbsp;&nbsp;# Factory methods don&#39;t need pre-existing objects</td></tr>
<tr><td class="h">4061</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4062</td><td colspan="6"></td></tr><tr><td class="h">4063</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 2. Check for singleton patterns</td></tr>
<tr><td class="h">4064</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $is_singleton = $self-&gt;_detect_singleton_pattern($method_name, $method_body);</td></tr>
<tr><td class="h">4065</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4065">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($is_singleton) {</td></tr>
<tr><td class="h">4066</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{needs_object} = 0; # Singleton methods return the singleton instance</td></tr>
<tr><td class="h">4067</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{type} = &#39;singleton_accessor&#39;;</td></tr>
<tr><td class="h">4068</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{details} = $is_singleton;</td></tr>
<tr><td class="h">4069</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OBJECT: Detected singleton accessor &#39;$method_name&#39;&quot;);</td></tr>
<tr><td class="h">4070</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Singleton accessors typically don&#39;t need object creation in tests</td></tr>
<tr><td class="h">4071</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# as they&#39;re called on the class, not instance</td></tr>
<tr><td class="h">4072</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4073</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4074</td><td colspan="6"></td></tr><tr><td class="h">4075</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 3. Check if this is an instance method that needs an object</td></tr>
<tr><td class="h">4076</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $is_instance_method = $self-&gt;_detect_instance_method($method_name, $method_body);</td></tr>
<tr><td class="h">4077</td><td><div class="c3">3</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4077">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4077">0</a></div></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($is_instance_method &amp;&amp; ($is_instance_method-&gt;{explicit_self} ||</td></tr>
<tr><td class="h">4078</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$is_instance_method-&gt;{shift_self} ||</td></tr>
<tr><td class="h">4079</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$is_instance_method-&gt;{accesses_object_data})) {</td></tr>
<tr><td class="h">4080</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{needs_object} = 1;</td></tr>
<tr><td class="h">4081</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{type} = &#39;instance_method&#39;;</td></tr>
<tr><td class="h">4082</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{details} = $is_instance_method;</td></tr>
<tr><td class="h">4083</td><td colspan="6"></td></tr><tr><td class="h">4084</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 4. Check for inheritance - if parent class constructor should be used</td></tr>
<tr><td class="h">4085</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $inheritance_info = $self-&gt;_check_inheritance_for_constructor($current_package, $method_body);</td></tr>
<tr><td class="h">4086</td><td><div class="c3">3</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4086">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4086">33</a></div></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($inheritance_info &amp;&amp; $inheritance_info-&gt;{use_parent_constructor}) {</td></tr>
<tr><td class="h">4087</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{package} = $inheritance_info-&gt;{parent_class};</td></tr>
<tr><td class="h">4088</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{details}{inheritance} = $inheritance_info;</td></tr>
<tr><td class="h">4089</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OBJECT: Method &#39;$method_name&#39; uses parent class constructor: $inheritance_info-&gt;{parent_class}&quot;);</td></tr>
<tr><td class="h">4090</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4091</td><td colspan="6"></td></tr><tr><td class="h">4092</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 5. Check if constructor needs specific parameters</td></tr>
<tr><td class="h">4093</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $constructor_needs = $self-&gt;_detect_constructor_requirements($current_package, $result-&gt;{package});</td></tr>
<tr><td class="h">4094</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4094">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($constructor_needs) {</td></tr>
<tr><td class="h">4095</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{constructor_params} = $constructor_needs;</td></tr>
<tr><td class="h">4096</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{details}{constructor_requirements} = $constructor_needs;</td></tr>
<tr><td class="h">4097</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OBJECT: Constructor for $result-&gt;{package} requires parameters&quot;);</td></tr>
<tr><td class="h">4098</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4099</td><td colspan="6"></td></tr><tr><td class="h">4100</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Return the package name (or parent package) that needs instantiation</td></tr>
<tr><td class="h">4101</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4101">50</a></div></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $result-&gt;{package} if $result-&gt;{needs_object};</td></tr>
<tr><td class="h">4102</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4103</td><td colspan="6"></td></tr><tr><td class="h">4104</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 6. Check for class methods that might need objects from other classes</td></tr>
<tr><td class="h">4105</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $needs_other_object = $self-&gt;_detect_external_object_dependency($method_body);</td></tr>
<tr><td class="h">4106</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4106">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($needs_other_object) {</td></tr>
<tr><td class="h">4107</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{needs_object} = 1;</td></tr>
<tr><td class="h">4108</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{type} = &#39;external_dependency&#39;;</td></tr>
<tr><td class="h">4109</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4109">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{package} = $needs_other_object-&gt;{package} if $needs_other_object-&gt;{package};</td></tr>
<tr><td class="h">4110</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result-&gt;{details} = $needs_other_object;</td></tr>
<tr><td class="h">4111</td><td colspan="6"></td></tr><tr><td class="h">4112</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_log(&quot;&nbsp;&nbsp;OBJECT: Method &#39;$method_name&#39; depends on external object: $needs_other_object-&gt;{package}&quot;);</td></tr>
<tr><td class="h">4113</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4113">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $result-&gt;{package} if $result-&gt;{package};</td></tr>
<tr><td class="h">4114</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4115</td><td colspan="6"></td></tr><tr><td class="h">4116</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4117</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4118</td><td colspan="6"></td></tr><tr><td class="h">4119 - 4129</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_factory_method

Detect factory methods that create and return instances.

Patterns:
- Returns blessed references
- Returns objects created with -&gt;new()
- Method names like create_*, make_*, build_*
- Returns $self-&gt;new(...) or Class-&gt;new(...)

=cut</pre></td></tr>
<tr><td class="h">4130</td><td colspan="6"></td></tr><tr><td class="h">4131</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_factory_method {</td></tr>
<tr><td class="h">4132</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4132">4</a></div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method_name, $method_body, $current_package, $method_info) = @_;</td></tr>
<tr><td class="h">4133</td><td colspan="6"></td></tr><tr><td class="h">4134</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %factory_info;</td></tr>
<tr><td class="h">4135</td><td colspan="6"></td></tr><tr><td class="h">4136</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check method name patterns</td></tr>
<tr><td class="h">4137</td><td><div class="c3">4</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4137">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_name =~ /^(create_|make_|build_|get_)/i) {</td></tr>
<tr><td class="h">4138</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{name_pattern} = 1;</td></tr>
<tr><td class="h">4139</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4140</td><td colspan="6"></td></tr><tr><td class="h">4141</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for object creation patterns in the method body</td></tr>
<tr><td class="h">4142</td><td><div class="c3">4</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4142">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body) {</td></tr>
<tr><td class="h">4143</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: Returns a blessed reference</td></tr>
<tr><td class="h">4144</td><td><div class="c3">4</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4144">100</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4144">67</a></div></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /return\s+bless\s*\{[^}]*\},\s*[&#39;&quot;]?(\w+(?:::\w+)*|\$\w+)[&#39;&quot;]?/s ||</td></tr>
<tr><td class="h">4145</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method_body =~ /bless\s*\{[^}]*\},\s*[&#39;&quot;]?(\w+(?:::\w+)*|\$\w+)[&#39;&quot;]?.*return/s) {</td></tr>
<tr><td class="h">4146</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $class_name = $1;</td></tr>
<tr><td class="h">4147</td><td colspan="6"></td></tr><tr><td class="h">4148</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle variable class names</td></tr>
<tr><td class="h">4149</td><td><div class="c3">1</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4149">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4149">50</a></div></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($class_name =~ /^\$(class|self|package)$/) {</td></tr>
<tr><td class="h">4150</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_class} = $current_package;</td></tr>
<tr><td class="h">4151</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($class_name =~ /^\$/) {</td></tr>
<tr><td class="h">4152</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_class} = &#39;VARIABLE&#39;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Unknown variable</td></tr>
<tr><td class="h">4153</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">4154</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_class} = $class_name;</td></tr>
<tr><td class="h">4155</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4156</td><td colspan="6"></td></tr><tr><td class="h">4157</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_blessed} = 1;</td></tr>
<tr><td class="h">4158</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{confidence} = &#39;high&#39;;</td></tr>
<tr><td class="h">4159</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%factory_info;</td></tr>
<tr><td class="h">4160</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4161</td><td colspan="6"></td></tr><tr><td class="h">4162</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: Returns -&gt;new() call on class or $self</td></tr>
<tr><td class="h">4163</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4163">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4163">33</a></div></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /return\s+([\$\w:]+)-&gt;new\(/s ||</td></tr>
<tr><td class="h">4164</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method_body =~ /([\$\w:]+)-&gt;new\(.*return/s) {</td></tr>
<tr><td class="h">4165</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $target = $1;</td></tr>
<tr><td class="h">4166</td><td colspan="6"></td></tr><tr><td class="h">4167</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Determine what class is being instantiated</td></tr>
<tr><td class="h">4168</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4168">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4168">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4168">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($target eq &#39;$self&#39; || $target eq &#39;shift&#39; || $target =~ /^\$/) {</td></tr>
<tr><td class="h">4169</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_class} = $current_package;</td></tr>
<tr><td class="h">4170</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{self_new} = 1;</td></tr>
<tr><td class="h">4171</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($target =~ /::/) {</td></tr>
<tr><td class="h">4172</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_class} = $target;</td></tr>
<tr><td class="h">4173</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{external_class} = 1;</td></tr>
<tr><td class="h">4174</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">4175</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_class} = $target;</td></tr>
<tr><td class="h">4176</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4177</td><td colspan="6"></td></tr><tr><td class="h">4178</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_new} = 1;</td></tr>
<tr><td class="h">4179</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{confidence} = &#39;medium&#39;;</td></tr>
<tr><td class="h">4180</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%factory_info;</td></tr>
<tr><td class="h">4181</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4182</td><td colspan="6"></td></tr><tr><td class="h">4183</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: Returns an object from another factory method</td></tr>
<tr><td class="h">4184</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4184">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4184">33</a></div></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /return\s+([\$\w:]+)-&gt;(create_|make_|build_|get_)/i ||</td></tr>
<tr><td class="h">4185</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method_body =~ /([\$\w:]+)-&gt;(create_|make_|build_|get_).*return/si) {</td></tr>
<tr><td class="h">4186</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{returns_factory_result} = 1;</td></tr>
<tr><td class="h">4187</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{confidence} = &#39;low&#39;;</td></tr>
<tr><td class="h">4188</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%factory_info;</td></tr>
<tr><td class="h">4189</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4190</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4191</td><td colspan="6"></td></tr><tr><td class="h">4192</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for return type hints in POD if available</td></tr>
<tr><td class="h">4193</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4193">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4193">25</a></div></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_info &amp;&amp; ref($method_info) eq &#39;HASH&#39; &amp;&amp; $method_info-&gt;{pod}) {</td></tr>
<tr><td class="h">4194</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $pod = $method_info-&gt;{pod};</td></tr>
<tr><td class="h">4195</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4195">50</a></div></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($pod =~ /returns?\s+(?:an?\s+)?(object|instance|new\s+\w+)/i) {</td></tr>
<tr><td class="h">4196</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{pod_hint} = 1;</td></tr>
<tr><td class="h">4197</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$factory_info{confidence} = &#39;low&#39;;</td></tr>
<tr><td class="h">4198</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%factory_info;</td></tr>
<tr><td class="h">4199</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4200</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4201</td><td colspan="6"></td></tr><tr><td class="h">4202</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4203</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4204</td><td colspan="6"></td></tr><tr><td class="h">4205 - 4212</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_singleton_pattern

Detect singleton patterns:
- Class methods that return $instance or $_instance
- Static variable holding instance
- Method names like instance(), get_instance()

=cut</pre></td></tr>
<tr><td class="h">4213</td><td colspan="6"></td></tr><tr><td class="h">4214</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_singleton_pattern {</td></tr>
<tr><td class="h">4215</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4215">3</a></div></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method_name, $method_body) = @_;</td></tr>
<tr><td class="h">4216</td><td colspan="6"></td></tr><tr><td class="h">4217</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check method name patterns</td></tr>
<tr><td class="h">4218</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4218">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $method_name =~ /^(instance|get_instance|singleton|shared_instance)$/i;</td></tr>
<tr><td class="h">4219</td><td colspan="6"></td></tr><tr><td class="h">4220</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %singleton_info = (</td></tr>
<tr><td class="h">4221</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name_pattern =&gt; 1,</td></tr>
<tr><td class="h">4222</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">4223</td><td colspan="6"></td></tr><tr><td class="h">4224</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for singleton patterns in code</td></tr>
<tr><td class="h">4225</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4225">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body) {</td></tr>
<tr><td class="h">4226</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: Static/state variable holding instance</td></tr>
<tr><td class="h">4227</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4227">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4227">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /(?:my\s+)?(?:our\s+)?\$(?:instance|_instance|singleton)\b/s ||</td></tr>
<tr><td class="h">4228</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method_body =~ /state\s+\$(?:instance|_instance|singleton)\b/s) {</td></tr>
<tr><td class="h">4229</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{static_variable} = 1;</td></tr>
<tr><td class="h">4230</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{confidence} = &#39;high&#39;;</td></tr>
<tr><td class="h">4231</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4232</td><td colspan="6"></td></tr><tr><td class="h">4233</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: Returns $instance if defined (with better regex)</td></tr>
<tr><td class="h">4234</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4234">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4234">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /return\s+\$instance\s+if\s+(?:defined\s+)?\$instance/ ||</td></tr>
<tr><td class="h">4235</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method_body =~ /unless\s+\$instance.*?=\s*.*?new/) {</td></tr>
<tr><td class="h">4236</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{returns_instance} = 1;</td></tr>
<tr><td class="h">4237</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{confidence} = &#39;high&#39;;</td></tr>
<tr><td class="h">4238</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4239</td><td colspan="6"></td></tr><tr><td class="h">4240</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: ||= new() pattern (with better regex)</td></tr>
<tr><td class="h">4241</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4241">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4241">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /\$instance\s*\|\|=\s*.*?new/ ||</td></tr>
<tr><td class="h">4242</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$method_body =~ /\$instance\s*=\s*.*?new\s+unless\s+(?:defined\s+)?\$instance/) {</td></tr>
<tr><td class="h">4243</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{lazy_initialization} = 1;</td></tr>
<tr><td class="h">4244</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{confidence} = &#39;medium&#39;;</td></tr>
<tr><td class="h">4245</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4246</td><td colspan="6"></td></tr><tr><td class="h">4247</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 4: Direct return of $instance variable</td></tr>
<tr><td class="h">4248</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4248">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /return\s+\$instance;/) {</td></tr>
<tr><td class="h">4249</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{returns_instance} = 1;</td></tr>
<tr><td class="h">4250</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4250">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$singleton_info{confidence} = &#39;high&#39; unless $singleton_info{confidence};</td></tr>
<tr><td class="h">4251</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4252</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4253</td><td colspan="6"></td></tr><tr><td class="h">4254</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4254">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%singleton_info if keys %singleton_info &gt; 0; # Need at least name pattern</td></tr>
<tr><td class="h">4255</td><td colspan="6"></td></tr><tr><td class="h">4256</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4257</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4258</td><td colspan="6"></td></tr><tr><td class="h">4259 - 4265</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_instance_method

Detect if a method is an instance method that needs an object.

Enhanced detection with multiple patterns.

=cut</pre></td></tr>
<tr><td class="h">4266</td><td colspan="6"></td></tr><tr><td class="h">4267</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_instance_method {</td></tr>
<tr><td class="h">4268</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4268">3</a></div></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method_name, $method_body) = @_;</td></tr>
<tr><td class="h">4269</td><td colspan="6"></td></tr><tr><td class="h">4270</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %instance_info;</td></tr>
<tr><td class="h">4271</td><td colspan="6"></td></tr><tr><td class="h">4272</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: my ($self, ...) = @_;</td></tr>
<tr><td class="h">4273</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4273">50</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4273">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4273">0</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /my\s*\(\s*\$self\s*[,)]/) {</td></tr>
<tr><td class="h">4274</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{explicit_self} = 1;</td></tr>
<tr><td class="h">4275</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{confidence} = &#39;high&#39;;</td></tr>
<tr><td class="h">4276</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4277</td><td colspan="6"></td></tr><tr><td class="h">4278</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: my $self = shift;</td></tr>
<tr><td class="h">4279</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($method_body =~ /my\s+\$self\s*=\s*shift/) {</td></tr>
<tr><td class="h">4280</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{shift_self} = 1;</td></tr>
<tr><td class="h">4281</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{confidence} = &#39;high&#39;;</td></tr>
<tr><td class="h">4282</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4283</td><td colspan="6"></td></tr><tr><td class="h">4284</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: Uses $self-&gt;something (including hash/array access)</td></tr>
<tr><td class="h">4285</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This now catches $self-&gt;{value} and $self-&gt;[0] as well as $self-&gt;method()</td></tr>
<tr><td class="h">4286</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ($method_body =~ /\$self\s*-&gt;\s*(\w+|[\{\[])/) {</td></tr>
<tr><td class="h">4287</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{uses_self} = 1;</td></tr>
<tr><td class="h">4288</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{confidence} = &#39;medium&#39;;</td></tr>
<tr><td class="h">4289</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4290</td><td colspan="6"></td></tr><tr><td class="h">4291</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 4: Accesses object data: $self-&gt;{...}, $self-&gt;[...]</td></tr>
<tr><td class="h">4292</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4292">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /\$self\s*-&gt;\s*[\{\[]/) {</td></tr>
<tr><td class="h">4293</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{accesses_object_data} = 1;</td></tr>
<tr><td class="h">4294</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4294">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{confidence} = &#39;high&#39; unless $instance_info{confidence} eq &#39;high&#39;;</td></tr>
<tr><td class="h">4295</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4296</td><td colspan="6"></td></tr><tr><td class="h">4297</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 5: Calls other instance methods on $self</td></tr>
<tr><td class="h">4298</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4298">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /\$self\s*-&gt;\s*(\w+)\s*\(/s) {</td></tr>
<tr><td class="h">4299</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{calls_instance_methods} = [];</td></tr>
<tr><td class="h">4300</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($method_body =~ /\$self\s*-&gt;\s*(\w+)\s*\(/g) {</td></tr>
<tr><td class="h">4301</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @{$instance_info{calls_instance_methods}}, $1;</td></tr>
<tr><td class="h">4302</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4303</td><td><div class="c0">0</div><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4303">0</a></div></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{confidence} = &#39;high&#39; if @{$instance_info{calls_instance_methods}};</td></tr>
<tr><td class="h">4304</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4305</td><td colspan="6"></td></tr><tr><td class="h">4306</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 6: Method name suggests instance method (not perfect but helpful)</td></tr>
<tr><td class="h">4307</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4307">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4307">33</a></div></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_name =~ /^_/ &amp;&amp; $method_name !~ /^_new/) {</td></tr>
<tr><td class="h">4308</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Private methods are usually instance methods</td></tr>
<tr><td class="h">4309</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{private_method} = 1;</td></tr>
<tr><td class="h">4310</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4310">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instance_info{confidence} = &#39;low&#39; unless exists $instance_info{confidence};</td></tr>
<tr><td class="h">4311</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4312</td><td colspan="6"></td></tr><tr><td class="h">4313</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4313">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%instance_info if keys %instance_info;</td></tr>
<tr><td class="h">4314</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4315</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4316</td><td colspan="6"></td></tr><tr><td class="h">4317 - 4327</td><td colspan="5"></td><td class="s"><pre>=head2 _check_inheritance_for_constructor

Check if inheritance affects which constructor should be used.

Patterns:
- use parent/base statements
- @ISA array
- SUPER::new calls
- parent class methods

=cut</pre></td></tr>
<tr><td class="h">4328</td><td colspan="6"></td></tr><tr><td class="h">4329</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _check_inheritance_for_constructor {</td></tr>
<tr><td class="h">4330</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4330">3</a></div></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $current_package, $method_body) = @_;</td></tr>
<tr><td class="h">4331</td><td colspan="6"></td></tr><tr><td class="h">4332</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $doc = $self-&gt;{_document};</td></tr>
<tr><td class="h">4333</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4333">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $doc;</td></tr>
<tr><td class="h">4334</td><td colspan="6"></td></tr><tr><td class="h">4335</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %inheritance_info;</td></tr>
<tr><td class="h">4336</td><td colspan="6"></td></tr><tr><td class="h">4337</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 1. Look for parent/base statements</td></tr>
<tr><td class="h">4338</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @parent_classes;</td></tr>
<tr><td class="h">4339</td><td colspan="6"></td></tr><tr><td class="h">4340</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Find all &#39;use parent&#39; or &#39;use base&#39; statements</td></tr>
<tr><td class="h">4341</td><td><div class="c3">3</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4341">50</a></div></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $includes = $doc-&gt;find(&#39;PPI::Statement::Include&#39;) || [];</td></tr>
<tr><td class="h">4342</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>7129</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $inc (@$includes) {</td></tr>
<tr><td class="h">4343</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $content = $inc-&gt;content;</td></tr>
<tr><td class="h">4344</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4344">50</a></div></td><td></td><td></td><td><div>66</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($content =~ /use\s+(parent|base)\s+[&#39;&quot;]?([\w:]+)[&#39;&quot;]?/) {</td></tr>
<tr><td class="h">4345</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @parent_classes, $2;</td></tr>
<tr><td class="h">4346</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{parent_statements} = \@parent_classes;</td></tr>
<tr><td class="h">4347</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4348</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Also check for multiple parents: use parent qw(Class1 Class2)</td></tr>
<tr><td class="h">4349</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4349">50</a></div></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($content =~ /use\s+(parent|base)\s+qw?[\(\[]?(.+?)[\)\]]?;/) {</td></tr>
<tr><td class="h">4350</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $parents = $2;</td></tr>
<tr><td class="h">4351</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @multi_parents = split /\s+/, $parents;</td></tr>
<tr><td class="h">4352</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @parent_classes, @multi_parents;</td></tr>
<tr><td class="h">4353</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{parent_statements} = \@parent_classes;</td></tr>
<tr><td class="h">4354</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4355</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4356</td><td colspan="6"></td></tr><tr><td class="h">4357</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 2. Look for @ISA assignments (with or without &#39;our&#39;)</td></tr>
<tr><td class="h">4358</td><td><div class="c3">3</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4358">50</a></div></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $isas = $doc-&gt;find(&#39;PPI::Statement::Variable&#39;) || [];</td></tr>
<tr><td class="h">4359</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>7037</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $isa (@$isas) {</td></tr>
<tr><td class="h">4360</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $content = $isa-&gt;content();</td></tr>
<tr><td class="h">4361</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Match both &quot;our @ISA = qw(...)&quot; and &quot;@ISA = qw(...)&quot;</td></tr>
<tr><td class="h">4362</td><td><div class="c3">6</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4362">50</a></div></td><td></td><td></td><td><div>245</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($content =~ /(?:our\s+)?\@ISA\s*=\s*qw?[\(\[]?(.+?)[\)\]]?/) {</td></tr>
<tr><td class="h">4363</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $parents = $1;</td></tr>
<tr><td class="h">4364</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @isa_parents = split(/\s+/, $parents);</td></tr>
<tr><td class="h">4365</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @parent_classes, @isa_parents;</td></tr>
<tr><td class="h">4366</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{isa_array} = \@isa_parents;</td></tr>
<tr><td class="h">4367</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4368</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4369</td><td colspan="6"></td></tr><tr><td class="h">4370</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Also look for @ISA in regular statements</td></tr>
<tr><td class="h">4371</td><td><div class="c3">3</div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4371">50</a></div></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $statements = $doc-&gt;find(&#39;PPI::Statement&#39;) || [];</td></tr>
<tr><td class="h">4372</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>7015</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $stmt (@$statements) {</td></tr>
<tr><td class="h">4373</td><td><div class="c3">58</div></td><td></td><td></td><td></td><td><div>49</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $content = $stmt-&gt;content;</td></tr>
<tr><td class="h">4374</td><td><div class="c3">58</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4374">50</a></div></td><td></td><td></td><td><div>1717</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($content =~ /\@ISA\s*=\s*qw?[\(\[]?(.+?)[\)\]]?/) {</td></tr>
<tr><td class="h">4375</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $parents = $1;</td></tr>
<tr><td class="h">4376</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @isa_parents = split(/\s+/, $parents);</td></tr>
<tr><td class="h">4377</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @parent_classes, @isa_parents;</td></tr>
<tr><td class="h">4378</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{isa_array} = \@isa_parents;</td></tr>
<tr><td class="h">4379</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4380</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4381</td><td colspan="6"></td></tr><tr><td class="h">4382</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 3. Check if method uses SUPER:: calls</td></tr>
<tr><td class="h">4383</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4383">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4383">33</a></div></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body &amp;&amp; $method_body =~ /SUPER::/) {</td></tr>
<tr><td class="h">4384</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{uses_super} = 1;</td></tr>
<tr><td class="h">4385</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4385">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /SUPER::new/) {</td></tr>
<tr><td class="h">4386</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{calls_super_new} = 1;</td></tr>
<tr><td class="h">4387</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4388</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4389</td><td colspan="6"></td></tr><tr><td class="h">4390</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# 4. Check if current package has its own new method</td></tr>
<tr><td class="h">4391</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $has_own_new = $doc-&gt;find(sub {</td></tr>
<tr><td class="h">4392</td><td><div class="c3">699</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4392">100</a></div></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4392">699</a></div></td><td><div>2963</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;isa(&#39;PPI::Statement::Sub&#39;) &amp;&amp;</td></tr>
<tr><td class="h">4393</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;name eq &#39;new&#39;</td></tr>
<tr><td class="h">4394</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</td></tr>
<tr><td class="h">4395</td><td colspan="6"></td></tr><tr><td class="h">4396</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4396">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4396">50</a></div></td><td></td><td></td><td><div>22</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($has_own_new) {</td></tr>
<tr><td class="h">4397</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{has_own_constructor} = 1;</td></tr>
<tr><td class="h">4398</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif (@parent_classes) {</td></tr>
<tr><td class="h">4399</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# No own constructor, but has parents - might need parent constructor</td></tr>
<tr><td class="h">4400</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{use_parent_constructor} = 1;</td></tr>
<tr><td class="h">4401</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$inheritance_info{parent_class} = $parent_classes[0];&nbsp;&nbsp;&nbsp;# Use first parent</td></tr>
<tr><td class="h">4402</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4403</td><td colspan="6"></td></tr><tr><td class="h">4404</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4404">50</a></div></td><td></td><td></td><td><div>28</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%inheritance_info if keys %inheritance_info;</td></tr>
<tr><td class="h">4405</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4406</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4407</td><td colspan="6"></td></tr><tr><td class="h">4408 - 4414</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_constructor_requirements

Detect if constructor (new method) needs specific parameters.

Analyzes the new method to determine required parameters.

=cut</pre></td></tr>
<tr><td class="h">4415</td><td colspan="6"></td></tr><tr><td class="h">4416</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_constructor_requirements {</td></tr>
<tr><td class="h">4417</td><td><div class="c3">3</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4417">3</a></div></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $current_package, $target_package) = @_;</td></tr>
<tr><td class="h">4418</td><td colspan="6"></td></tr><tr><td class="h">4419</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $doc = $self-&gt;{_document};</td></tr>
<tr><td class="h">4420</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4420">50</a></div></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $doc;</td></tr>
<tr><td class="h">4421</td><td colspan="6"></td></tr><tr><td class="h">4422</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If target is different from current, we can&#39;t analyze it</td></tr>
<tr><td class="h">4423</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# (external class, parent class in different file)</td></tr>
<tr><td class="h">4424</td><td><div class="c3">3</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4424">50</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($target_package ne $current_package) {</td></tr>
<tr><td class="h">4425</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return {</td></tr>
<tr><td class="h">4426</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;external_class =&gt; 1,</td></tr>
<tr><td class="h">4427</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package =&gt; $target_package,</td></tr>
<tr><td class="h">4428</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;note =&gt; &quot;Constructor for external class $target_package - parameters unknown&quot;</td></tr>
<tr><td class="h">4429</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</td></tr>
<tr><td class="h">4430</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4431</td><td colspan="6"></td></tr><tr><td class="h">4432</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Find the new method in current package</td></tr>
<tr><td class="h">4433</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $new_method = $doc-&gt;find_first(sub {</td></tr>
<tr><td class="h">4434</td><td><div class="c3">699</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4434">100</a></div></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4434">699</a></div></td><td><div>2916</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;isa(&#39;PPI::Statement::Sub&#39;) &amp;&amp;</td></tr>
<tr><td class="h">4435</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;name eq &#39;new&#39;</td></tr>
<tr><td class="h">4436</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</td></tr>
<tr><td class="h">4437</td><td colspan="6"></td></tr><tr><td class="h">4438</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4438">50</a></div></td><td></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $new_method;</td></tr>
<tr><td class="h">4439</td><td colspan="6"></td></tr><tr><td class="h">4440</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %requirements;</td></tr>
<tr><td class="h">4441</td><td colspan="6"></td></tr><tr><td class="h">4442</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get method body</td></tr>
<tr><td class="h">4443</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $body = $new_method-&gt;content;</td></tr>
<tr><td class="h">4444</td><td colspan="6"></td></tr><tr><td class="h">4445</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for parameter extraction patterns - handle both $self and $class</td></tr>
<tr><td class="h">4446</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4446">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($body =~ /my\s*\(\s*\$(self|class)\s*,\s*(.+?)\)\s*=\s*\@_/s) {</td></tr>
<tr><td class="h">4447</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $params = $2;</td></tr>
<tr><td class="h">4448</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @param_names = $params =~ /\$(\w+)/g;</td></tr>
<tr><td class="h">4449</td><td colspan="6"></td></tr><tr><td class="h">4450</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4450">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@param_names) {</td></tr>
<tr><td class="h">4451</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{parameters} = \@param_names;</td></tr>
<tr><td class="h">4452</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{parameter_count} = scalar @param_names;</td></tr>
<tr><td class="h">4453</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4454</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4455</td><td colspan="6"></td></tr><tr><td class="h">4456</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for shift patterns</td></tr>
<tr><td class="h">4457</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @shift_params;</td></tr>
<tr><td class="h">4458</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($body =~ /my\s+\$(\w+)\s*=\s*shift/g) {</td></tr>
<tr><td class="h">4459</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @shift_params, $1;</td></tr>
<tr><td class="h">4460</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4461</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove $self or $class if present</td></tr>
<tr><td class="h">4462</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@shift_params = grep { $_ !~ /^(self|class)$/i } @shift_params;</td></tr>
<tr><td class="h">4463</td><td colspan="6"></td></tr><tr><td class="h">4464</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4464">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@shift_params) {</td></tr>
<tr><td class="h">4465</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{parameters} = \@shift_params;</td></tr>
<tr><td class="h">4466</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{parameter_count} = scalar @shift_params;</td></tr>
<tr><td class="h">4467</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{shift_pattern} = 1;</td></tr>
<tr><td class="h">4468</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4469</td><td colspan="6"></td></tr><tr><td class="h">4470</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for validation of parameters (more flexible pattern)</td></tr>
<tr><td class="h">4471</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @required_params;</td></tr>
<tr><td class="h">4472</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4472">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($body =~ /croak.*unless.*(?:defined\s+)?\$(\w+)/g) {</td></tr>
<tr><td class="h">4473</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @required_params, $1;</td></tr>
<tr><td class="h">4474</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4475</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4475">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($body =~ /die.*unless.*(?:defined\s+)?\$(\w+)/g) {</td></tr>
<tr><td class="h">4476</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @required_params, $1;</td></tr>
<tr><td class="h">4477</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4478</td><td colspan="6"></td></tr><tr><td class="h">4479</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4479">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@required_params) {</td></tr>
<tr><td class="h">4480</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{required_parameters} = \@required_params;</td></tr>
<tr><td class="h">4481</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4482</td><td colspan="6"></td></tr><tr><td class="h">4483</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for default values (optional parameters)</td></tr>
<tr><td class="h">4484</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @optional_params;</td></tr>
<tr><td class="h">4485</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %default_values;</td></tr>
<tr><td class="h">4486</td><td colspan="6"></td></tr><tr><td class="h">4487</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Use the new _extract_default_value method</td></tr>
<tr><td class="h">4488</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for each parameter in the constructor body</td></tr>
<tr><td class="h">4489</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4489">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($requirements{parameters}) {</td></tr>
<tr><td class="h">4490</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $param (@{$requirements{parameters}}) {</td></tr>
<tr><td class="h">4491</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $self-&gt;_extract_default_value($param, $body);</td></tr>
<tr><td class="h">4492</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4492">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (defined $default) {</td></tr>
<tr><td class="h">4493</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @optional_params, $param;</td></tr>
<tr><td class="h">4494</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default_values{$param} = $default;</td></tr>
<tr><td class="h">4495</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4496</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4497</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4498</td><td colspan="6"></td></tr><tr><td class="h">4499</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4499">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@optional_params) {</td></tr>
<tr><td class="h">4500</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{optional_parameters} = \@optional_params;</td></tr>
<tr><td class="h">4501</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$requirements{default_values} = \%default_values;</td></tr>
<tr><td class="h">4502</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4503</td><td colspan="6"></td></tr><tr><td class="h">4504</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4504">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%requirements if keys %requirements;</td></tr>
<tr><td class="h">4505</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4506</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4507</td><td colspan="6"></td></tr><tr><td class="h">4508</td><td colspan="6"></td></tr><tr><td class="h">4509 - 4518</td><td colspan="5"></td><td class="s"><pre>=head2 _detect_external_object_dependency

Detect if method depends on objects from other classes.

Patterns:
- Creates objects of other classes
- Calls methods on objects from other classes
- Receives objects as parameters

=cut</pre></td></tr>
<tr><td class="h">4519</td><td colspan="6"></td></tr><tr><td class="h">4520</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _detect_external_object_dependency {</td></tr>
<tr><td class="h">4521</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4521">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $method_body) = @_;</td></tr>
<tr><td class="h">4522</td><td colspan="6"></td></tr><tr><td class="h">4523</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4523">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $method_body;</td></tr>
<tr><td class="h">4524</td><td colspan="6"></td></tr><tr><td class="h">4525</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %dependency_info;</td></tr>
<tr><td class="h">4526</td><td colspan="6"></td></tr><tr><td class="h">4527</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: Creates objects of other classes with -&gt;new() or -&gt;create()</td></tr>
<tr><td class="h">4528</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Reset pos for global match</td></tr>
<tr><td class="h">4529</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos($method_body) = 0;</td></tr>
<tr><td class="h">4530</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($method_body =~ /(\w+(?:::\w+)*)-&gt;(?:new|create)\(/g) {</td></tr>
<tr><td class="h">4531</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $class = $1;</td></tr>
<tr><td class="h">4532</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4532">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4532">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next if $class eq &#39;main&#39; || $class eq &#39;__PACKAGE__&#39; || $class =~ /^\$/;</td></tr>
<tr><td class="h">4533</td><td><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @{$dependency_info{creates_objects}}, $class;</td></tr>
<tr><td class="h">4534</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4535</td><td colspan="6"></td></tr><tr><td class="h">4536</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4536">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($dependency_info{creates_objects}) {</td></tr>
<tr><td class="h">4537</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove duplicates</td></tr>
<tr><td class="h">4538</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %seen;</td></tr>
<tr><td class="h">4539</td><td><div class="c0">0</div><div class="c0">0</div><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dependency_info{creates_objects} = [grep { !$seen{$_}++ } @{$dependency_info{creates_objects}}];</td></tr>
<tr><td class="h">4540</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dependency_info{package} = $dependency_info{creates_objects}[0];</td></tr>
<tr><td class="h">4541</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4542</td><td colspan="6"></td></tr><tr><td class="h">4543</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: Calls methods on objects from other classes</td></tr>
<tr><td class="h">4544</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4544">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /\$(\w+)-&gt;\w+\(/g) {</td></tr>
<tr><td class="h">4545</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %object_vars;</td></tr>
<tr><td class="h">4546</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while ($method_body =~ /\$(\w+)-&gt;\w+\(/g) {</td></tr>
<tr><td class="h">4547</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$object_vars{$1}++;</td></tr>
<tr><td class="h">4548</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4549</td><td colspan="6"></td></tr><tr><td class="h">4550</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Try to determine type of object variables</td></tr>
<tr><td class="h">4551</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @object_classes;</td></tr>
<tr><td class="h">4552</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $var (keys %object_vars) {</td></tr>
<tr><td class="h">4553</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for type declarations or assignments</td></tr>
<tr><td class="h">4554</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4554">0</a></div><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4554">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($method_body =~ /my\s+\$$var\s*=\s*(\w+(?:::\w+)+)-&gt;(?:new|create)/) {</td></tr>
<tr><td class="h">4555</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @object_classes, $1;</td></tr>
<tr><td class="h">4556</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($method_body =~ /my\s+\$$var\s*=\s*(\w+(?:::\w+)+)-&gt;/) {</td></tr>
<tr><td class="h">4557</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @object_classes, $1;</td></tr>
<tr><td class="h">4558</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4559</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4560</td><td colspan="6"></td></tr><tr><td class="h">4561</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4561">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (@object_classes) {</td></tr>
<tr><td class="h">4562</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dependency_info{uses_objects} = \@object_classes;</td></tr>
<tr><td class="h">4563</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4563">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dependency_info{package} = $object_classes[0] unless $dependency_info{package};</td></tr>
<tr><td class="h">4564</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4565</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4566</td><td colspan="6"></td></tr><tr><td class="h">4567</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: Receives objects as parameters (type hints in comments/POD)</td></tr>
<tr><td class="h">4568</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# This would need integration with parameter analysis</td></tr>
<tr><td class="h">4569</td><td colspan="6"></td></tr><tr><td class="h">4570</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4570">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return \%dependency_info if keys %dependency_info;</td></tr>
<tr><td class="h">4571</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4572</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4573</td><td colspan="6"></td></tr><tr><td class="h">4574</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _get_parent_class {</td></tr>
<tr><td class="h">4575</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4575">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = $_[0];</td></tr>
<tr><td class="h">4576</td><td colspan="6"></td></tr><tr><td class="h">4577</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $doc = $self-&gt;{_document};</td></tr>
<tr><td class="h">4578</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4578">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return unless $doc;</td></tr>
<tr><td class="h">4579</td><td colspan="6"></td></tr><tr><td class="h">4580</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for use parent statements</td></tr>
<tr><td class="h">4581</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $parent_stmt = $doc-&gt;find_first(sub {</td></tr>
<tr><td class="h">4582</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4582">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4582">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4582">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;isa(&#39;PPI::Statement::Include&#39;) &amp;&amp;</td></tr>
<tr><td class="h">4583</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;type eq &#39;use&#39; &amp;&amp;</td></tr>
<tr><td class="h">4584</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;module =~ /^(parent|base)$/ &amp;&amp;</td></tr>
<tr><td class="h">4585</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;arguments =~ /[&#39;&quot;](\w+(?:::\w+)*)[&#39;&quot;]/</td></tr>
<tr><td class="h">4586</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</td></tr>
<tr><td class="h">4587</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4587">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($parent_stmt) {</td></tr>
<tr><td class="h">4588</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $parent = $1;</td></tr>
<tr><td class="h">4589</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $parent;</td></tr>
<tr><td class="h">4590</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4591</td><td colspan="6"></td></tr><tr><td class="h">4592</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Look for @ISA assignment</td></tr>
<tr><td class="h">4593</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $isa_stmt = $doc-&gt;find_first(sub {</td></tr>
<tr><td class="h">4594</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4594">0</a></div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4594">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;isa(&#39;PPI::Statement&#39;) &amp;&amp;</td></tr>
<tr><td class="h">4595</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;content =~ /our\s+\@ISA\s*=\s*\(\s*[&#39;&quot;](\w+(?:::\w+)*)[&#39;&quot;]\s*\)/</td></tr>
<tr><td class="h">4596</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</td></tr>
<tr><td class="h">4597</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4597">0</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4597">0</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($isa_stmt &amp;&amp; $isa_stmt-&gt;content =~ /[&#39;&quot;](\w+(?:::\w+)*)[&#39;&quot;]/) {</td></tr>
<tr><td class="h">4598</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $1;</td></tr>
<tr><td class="h">4599</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4600</td><td colspan="6"></td></tr><tr><td class="h">4601</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</td></tr>
<tr><td class="h">4602</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4603</td><td colspan="6"></td></tr><tr><td class="h">4604</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _get_class_for_instance_method {</td></tr>
<tr><td class="h">4605</td><td><div class="c0">0</div></td><td></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4605">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = $_[0];</td></tr>
<tr><td class="h">4606</td><td colspan="6"></td></tr><tr><td class="h">4607</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get the current package</td></tr>
<tr><td class="h">4608</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $doc = $self-&gt;{_document};</td></tr>
<tr><td class="h">4609</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $package_stmt = $doc-&gt;find_first(&#39;PPI::Statement::Package&#39;);</td></tr>
<tr><td class="h">4610</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4610">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &#39;UNKNOWN_PACKAGE&#39; unless $package_stmt;</td></tr>
<tr><td class="h">4611</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $package_name = $package_stmt-&gt;namespace;</td></tr>
<tr><td class="h">4612</td><td colspan="6"></td></tr><tr><td class="h">4613</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check if the current package has a &#39;new&#39; method</td></tr>
<tr><td class="h">4614</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $has_new = $doc-&gt;find(sub {</td></tr>
<tr><td class="h">4615</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4615">0</a></div></td><td></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4615">0</a></div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_[1]-&gt;isa(&#39;PPI::Statement::Sub&#39;) &amp;&amp; $_[1]-&gt;name eq &#39;new&#39;</td></tr>
<tr><td class="h">4616</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</td></tr>
<tr><td class="h">4617</td><td colspan="6"></td></tr><tr><td class="h">4618</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4618">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($has_new) {</td></tr>
<tr><td class="h">4619</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $package_name;</td></tr>
<tr><td class="h">4620</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4621</td><td colspan="6"></td></tr><tr><td class="h">4622</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Otherwise, try to get the parent class</td></tr>
<tr><td class="h">4623</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $parent = $self-&gt;_get_parent_class();</td></tr>
<tr><td class="h">4624</td><td><div class="c0">0</div></td><td><div class="c0" title="-/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4624">0</a></div></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $parent if $parent;</td></tr>
<tr><td class="h">4625</td><td colspan="6"></td></tr><tr><td class="h">4626</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Fallback to current package</td></tr>
<tr><td class="h">4627</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $package_name;</td></tr>
<tr><td class="h">4628</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4629</td><td colspan="6"></td></tr><tr><td class="h">4630 - 4644</td><td colspan="5"></td><td class="s"><pre>=head2 _extract_default_value

Extract default values from common Perl patterns:

Patterns:
&nbsp;&nbsp;- $param = $param || &#39;default_value&#39;
&nbsp;&nbsp;- $param //= &#39;default_value&#39;
&nbsp;&nbsp;- $param = defined $param ? $param : &#39;default&#39;
&nbsp;&nbsp;- $param = &#39;default&#39; unless defined $param;
&nbsp;&nbsp;- $param = $arg // &#39;default&#39;
&nbsp;&nbsp;- $param ||= &#39;default&#39;

Returns the default value as a string if found, undef otherwise.

=cut</pre></td></tr>
<tr><td class="h">4645</td><td colspan="6"></td></tr><tr><td class="h">4646</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _extract_default_value {</td></tr>
<tr><td class="h">4647</td><td><div class="c3">34</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4647">34</a></div></td><td><div>12290</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $param, $code) = @_;</td></tr>
<tr><td class="h">4648</td><td colspan="6"></td></tr><tr><td class="h">4649</td><td><div class="c3">34</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4649">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4649">33</a></div></td><td></td><td><div>61</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless $param &amp;&amp; $code;</td></tr>
<tr><td class="h">4650</td><td colspan="6"></td></tr><tr><td class="h">4651</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Clean up the code for easier pattern matching</td></tr>
<tr><td class="h">4652</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove comments to avoid false positives</td></tr>
<tr><td class="h">4653</td><td><div class="c3">34</div></td><td></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $clean_code = $code;</td></tr>
<tr><td class="h">4654</td><td><div class="c3">34</div></td><td></td><td></td><td></td><td><div>99</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$clean_code =~ s/#.*$//gm;</td></tr>
<tr><td class="h">4655</td><td><div class="c3">34</div></td><td></td><td></td><td></td><td><div>643</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$clean_code =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">4656</td><td colspan="6"></td></tr><tr><td class="h">4657</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 1: $param = $param || &#39;default_value&#39;</td></tr>
<tr><td class="h">4658</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Also handles: $param = $arg || &#39;default&#39;</td></tr>
<tr><td class="h">4659</td><td><div class="c3">34</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4659">100</a></div></td><td></td><td></td><td><div>1386</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /\$$param\s*=\s*(?:\$$param|\$[a-zA-Z_]\w*)\s*\|\|\s*([^;]+)/) {</td></tr>
<tr><td class="h">4660</td><td><div class="c3">10</div></td><td></td><td></td><td></td><td><div>20</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4661</td><td><div class="c3">10</div></td><td></td><td></td><td></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">4662</td><td><div class="c3">10</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4663</td><td><div class="c3">10</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4663">50</a></div></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4664</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4665</td><td colspan="6"></td></tr><tr><td class="h">4666</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 2: $param //= &#39;default_value&#39;</td></tr>
<tr><td class="h">4667</td><td><div class="c3">24</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4667">100</a></div></td><td></td><td></td><td><div>330</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /\$$param\s*\/\/=\s*([^;]+)/) {</td></tr>
<tr><td class="h">4668</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4669</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">4670</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4671</td><td><div class="c3">6</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4671">100</a></div></td><td></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4672</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4673</td><td colspan="6"></td></tr><tr><td class="h">4674</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 3: $param = defined $param ? $param : &#39;default&#39;</td></tr>
<tr><td class="h">4675</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Also handles: $param = defined $arg ? $arg : &#39;default&#39;</td></tr>
<tr><td class="h">4676</td><td><div class="c3">19</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4676">100</a></div></td><td></td><td></td><td><div>1023</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /\$$param\s*=\s*defined\s+(?:\$$param|\$[a-zA-Z_]\w*)\s*\?\s*(?:\$$param|\$[a-zA-Z_]\w*)\s*:\s*([^;]+)/) {</td></tr>
<tr><td class="h">4677</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4678</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">4679</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4680</td><td><div class="c3">6</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4680">50</a></div></td><td></td><td></td><td><div>16</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4681</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4682</td><td colspan="6"></td></tr><tr><td class="h">4683</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 4: $param = &#39;default&#39; unless defined $param;</td></tr>
<tr><td class="h">4684</td><td><div class="c3">13</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4684">100</a></div></td><td></td><td></td><td><div>456</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /\$$param\s*=\s*([^;]+?)\s+unless\s+defined\s+(?:\$$param|\$[a-zA-Z_]\w*)/) {</td></tr>
<tr><td class="h">4685</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4686</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td><div>526</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4687</td><td><div class="c3">3</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4687">50</a></div></td><td></td><td></td><td><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4688</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4689</td><td colspan="6"></td></tr><tr><td class="h">4690</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 5: $param ||= &#39;default&#39;</td></tr>
<tr><td class="h">4691</td><td><div class="c3">10</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4691">100</a></div></td><td></td><td></td><td><div>125</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /\$$param\s*\|\|=\s*([^;]+)/) {</td></tr>
<tr><td class="h">4692</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4693</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">4694</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4695</td><td><div class="c3">2</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4695">50</a></div></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4696</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4697</td><td colspan="6"></td></tr><tr><td class="h">4698</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 6: $param = $arg // &#39;default&#39;</td></tr>
<tr><td class="h">4699</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4699">100</a></div></td><td></td><td></td><td><div>248</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /\$$param\s*=\s*(?:\$$param|\$[a-zA-Z_]\w*)\s*\/\/\s*([^;]+)/) {</td></tr>
<tr><td class="h">4700</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>3</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4701</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">4702</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4703</td><td><div class="c3">2</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4703">100</a></div></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4704</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4705</td><td colspan="6"></td></tr><tr><td class="h">4706</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 7: Multi-line: if (!defined $param) { $param = &#39;default&#39;; }</td></tr>
<tr><td class="h">4707</td><td><div class="c3">7</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4707">100</a></div></td><td></td><td></td><td><div>210</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /if\s*\(\s*!defined\s+\$$param\s*\)\s*\{[^}]*\$$param\s*=\s*([^;]+)/s) {</td></tr>
<tr><td class="h">4708</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4709</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">4710</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4711</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4711">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4712</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4713</td><td colspan="6"></td></tr><tr><td class="h">4714</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Pattern 8: unless (defined $param) { $param = &#39;default&#39;; }</td></tr>
<tr><td class="h">4715</td><td><div class="c3">6</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4715">100</a></div></td><td></td><td></td><td><div>184</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($clean_code =~ /unless\s*\(\s*defined\s+\$$param\s*\)\s*\{[^}]*\$$param\s*=\s*([^;]+)/s) {</td></tr>
<tr><td class="h">4716</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $default = $1;</td></tr>
<tr><td class="h">4717</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>1</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default =~ s/\s*;\s*$//;</td></tr>
<tr><td class="h">4718</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default = $self-&gt;_clean_default_value($default);</td></tr>
<tr><td class="h">4719</td><td><div class="c3">1</div></td><td><div class="c0" title="T/-"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4719">50</a></div></td><td></td><td></td><td><div>5</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $default if defined $default;</td></tr>
<tr><td class="h">4720</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4721</td><td colspan="6"></td></tr><tr><td class="h">4722</td><td><div class="c3">5</div></td><td></td><td></td><td></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4723</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4724</td><td colspan="6"></td></tr><tr><td class="h">4725 - 4735</td><td colspan="5"></td><td class="s"><pre>=head2 _clean_default_value

Clean and normalize extracted default values.

Handles:
&nbsp;&nbsp;- Removing quotes from strings
&nbsp;&nbsp;- Converting numeric strings to actual numbers
&nbsp;&nbsp;- Handling boolean values
&nbsp;&nbsp;- Removing parentheses

=cut</pre></td></tr>
<tr><td class="h">4736</td><td colspan="6"></td></tr><tr><td class="h">4737</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _clean_default_value</td></tr>
<tr><td class="h">4738</td><td></td><td></td><td></td><td></td><td></td><td class="s">{</td></tr>
<tr><td class="h">4739</td><td><div class="c3">91</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4739">91</a></div></td><td><div>94</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $value, $from_code) = @_;</td></tr>
<tr><td class="h">4740</td><td colspan="6"></td></tr><tr><td class="h">4741</td><td><div class="c3">91</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4741">50</a></div></td><td></td><td></td><td><div>89</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef unless defined $value;</td></tr>
<tr><td class="h">4742</td><td colspan="6"></td></tr><tr><td class="h">4743</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove leading/trailing whitespace</td></tr>
<tr><td class="h">4744</td><td><div class="c3">91</div></td><td></td><td></td><td></td><td><div>155</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">4745</td><td colspan="6"></td></tr><tr><td class="h">4746</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove parenthetical notes like &quot;(no password)&quot; only if there&#39;s content before them</td></tr>
<tr><td class="h">4747</td><td><div class="c3">91</div></td><td></td><td></td><td></td><td><div>72</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/(\S+)\s*\([^)]+\)\s*$/$1/;</td></tr>
<tr><td class="h">4748</td><td><div class="c3">91</div></td><td></td><td></td><td></td><td><div>114</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">4749</td><td colspan="6"></td></tr><tr><td class="h">4750</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle chained || or // operators - extract the rightmost value</td></tr>
<tr><td class="h">4751</td><td><div class="c3">91</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4751">100</a></div></td><td></td><td></td><td><div>162</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /\|\||\/{2}/) {</td></tr>
<tr><td class="h">4752</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @parts = split(/\s*(?:\|\||\/{2})\s*/, $value);</td></tr>
<tr><td class="h">4753</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>4</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $parts[-1];</td></tr>
<tr><td class="h">4754</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/^\s+|\s+$//g;</td></tr>
<tr><td class="h">4755</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4756</td><td colspan="6"></td></tr><tr><td class="h">4757</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove trailing semicolon if present</td></tr>
<tr><td class="h">4758</td><td><div class="c3">91</div></td><td></td><td></td><td></td><td><div>61</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/;\s*$//;</td></tr>
<tr><td class="h">4759</td><td colspan="6"></td></tr><tr><td class="h">4760</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle q{}, qq{}, qw{} quotes</td></tr>
<tr><td class="h">4761</td><td><div class="c3">91</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4761">100</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4761">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4761">50</a></div></td><td></td><td></td><td><div>124</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /^qq?\{(.*?)\}$/s) {</td></tr>
<tr><td class="h">4762</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $1;</td></tr>
<tr><td class="h">4763</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($value =~ /^qw\{(.*?)\}$/s) {</td></tr>
<tr><td class="h">4764</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $1;</td></tr>
<tr><td class="h">4765</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($value =~ /^q[qwx]?\s*([^a-zA-Z0-9\{\[])(.*?)\1$/s) {</td></tr>
<tr><td class="h">4766</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $2;</td></tr>
<tr><td class="h">4767</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4768</td><td colspan="6"></td></tr><tr><td class="h">4769</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle quoted strings</td></tr>
<tr><td class="h">4770</td><td><div class="c3">91</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4770">100</a></div></td><td></td><td></td><td><div>114</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /^([&#39;&quot;])(.*)\1$/s) {</td></tr>
<tr><td class="h">4771</td><td><div class="c3">34</div></td><td></td><td></td><td></td><td><div>32</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value = $2;</td></tr>
<tr><td class="h">4772</td><td colspan="6"></td></tr><tr><td class="h">4773</td><td><div class="c3">34</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4773">100</a></div></td><td></td><td></td><td><div>39</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($from_code) {</td></tr>
<tr><td class="h">4774</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# In regex captures from source code, escape sequences are doubled</td></tr>
<tr><td class="h">4775</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# \\n in capture needs to become \n for the test</td></tr>
<tr><td class="h">4776</td><td><div class="c3">9</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\\\\/\\/g;</td></tr>
<tr><td class="h">4777</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4778</td><td colspan="6"></td></tr><tr><td class="h">4779</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Only unescape the quote characters themselves</td></tr>
<tr><td class="h">4780</td><td><div class="c3">34</div></td><td></td><td></td><td></td><td><div>31</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\\&quot;/&quot;/g;</td></tr>
<tr><td class="h">4781</td><td><div class="c3">34</div></td><td></td><td></td><td></td><td><div>23</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\\&#39;/&#39;/g;</td></tr>
<tr><td class="h">4782</td><td colspan="6"></td></tr><tr><td class="h">4783</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If NOT from code (i.e., from POD), interpret escape sequences</td></tr>
<tr><td class="h">4784</td><td><div class="c3">34</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4784">100</a></div></td><td></td><td></td><td><div>28</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ($from_code) {</td></tr>
<tr><td class="h">4785</td><td><div class="c3">25</div></td><td></td><td></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\\n/\n/g;</td></tr>
<tr><td class="h">4786</td><td><div class="c3">25</div></td><td></td><td></td><td></td><td><div>18</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\\r/\r/g;</td></tr>
<tr><td class="h">4787</td><td><div class="c3">25</div></td><td></td><td></td><td></td><td><div>17</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\\t/\t/g;</td></tr>
<tr><td class="h">4788</td><td><div class="c3">25</div></td><td></td><td></td><td></td><td><div>21</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/\\\\/\\/g;</td></tr>
<tr><td class="h">4789</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4790</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4791</td><td colspan="6"></td></tr><tr><td class="h">4792</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle Perl empty hash (must be before numeric/boolean checks)</td></tr>
<tr><td class="h">4793</td><td><div class="c3">91</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4793">100</a></div></td><td></td><td></td><td><div>76</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /^\{\s*\}$/) {</td></tr>
<tr><td class="h">4794</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return {};</td></tr>
<tr><td class="h">4795</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4796</td><td colspan="6"></td></tr><tr><td class="h">4797</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle Perl empty list/array</td></tr>
<tr><td class="h">4798</td><td><div class="c3">87</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4798">100</a></div></td><td></td><td></td><td><div>84</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /^\[\s*\]$/) {</td></tr>
<tr><td class="h">4799</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return [];</td></tr>
<tr><td class="h">4800</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4801</td><td colspan="6"></td></tr><tr><td class="h">4802</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle numeric values</td></tr>
<tr><td class="h">4803</td><td><div class="c3">83</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4803">100</a></div></td><td></td><td></td><td><div>104</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /^-?\d+(?:\.\d+)?$/) {</td></tr>
<tr><td class="h">4804</td><td><div class="c3">30</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4804">100</a></div></td><td></td><td></td><td><div>30</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /\./) {</td></tr>
<tr><td class="h">4805</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td><div>25</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $value + 0;</td></tr>
<tr><td class="h">4806</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {</td></tr>
<tr><td class="h">4807</td><td><div class="c3">22</div></td><td></td><td></td><td></td><td><div>37</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return int($value);</td></tr>
<tr><td class="h">4808</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4809</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4810</td><td colspan="6"></td></tr><tr><td class="h">4811</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle boolean keywords</td></tr>
<tr><td class="h">4812</td><td><div class="c3">53</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4812">100</a></div></td><td></td><td></td><td><div>68</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /^(true|false)$/i) {</td></tr>
<tr><td class="h">4813</td><td><div class="c3">5</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4813">100</a></div></td><td></td><td></td><td><div>19</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return lc($1) eq &#39;true&#39; ? 1 : 0;</td></tr>
<tr><td class="h">4814</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4815</td><td colspan="6"></td></tr><tr><td class="h">4816</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle Perl boolean constants</td></tr>
<tr><td class="h">4817</td><td><div class="c3">48</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4817">50</a></div><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4817">50</a></div></td><td></td><td></td><td><div>51</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value eq &#39;1&#39;) {</td></tr>
<tr><td class="h">4818</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 1;</td></tr>
<tr><td class="h">4819</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elsif ($value eq &#39;0&#39;) {</td></tr>
<tr><td class="h">4820</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</td></tr>
<tr><td class="h">4821</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4822</td><td colspan="6"></td></tr><tr><td class="h">4823</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle undef</td></tr>
<tr><td class="h">4824</td><td><div class="c3">48</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4824">100</a></div></td><td></td><td></td><td><div>40</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value eq &#39;undef&#39;) {</td></tr>
<tr><td class="h">4825</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return undef;</td></tr>
<tr><td class="h">4826</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4827</td><td colspan="6"></td></tr><tr><td class="h">4828</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle __PACKAGE__ and similar constants</td></tr>
<tr><td class="h">4829</td><td><div class="c3">42</div></td><td><div class="c3" title="T/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4829">100</a></div></td><td></td><td></td><td><div>35</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value eq &#39;__PACKAGE__&#39;) {</td></tr>
<tr><td class="h">4830</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td><div>2</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &#39;__PACKAGE__&#39;;</td></tr>
<tr><td class="h">4831</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4832</td><td colspan="6"></td></tr><tr><td class="h">4833</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove surrounding parentheses</td></tr>
<tr><td class="h">4834</td><td><div class="c3">41</div></td><td></td><td></td><td></td><td><div>33</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value =~ s/^\((.+)\)$/$1/;</td></tr>
<tr><td class="h">4835</td><td colspan="6"></td></tr><tr><td class="h">4836</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Handle expressions we can&#39;t evaluate</td></tr>
<tr><td class="h">4837</td><td><div class="c3">41</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4837">50</a></div></td><td><div class="c0"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--condition.html#L4837">33</a></div></td><td></td><td><div>57</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($value =~ /^\$[a-zA-Z_]/ || $value =~ /\(.*\)/) {</td></tr>
<tr><td class="h">4838</td><td><div class="c0">0</div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $value;</td></tr>
<tr><td class="h">4839</td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">4840</td><td colspan="6"></td></tr><tr><td class="h">4841</td><td><div class="c3">41</div></td><td></td><td></td><td></td><td><div>72</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $value;</td></tr>
<tr><td class="h">4842</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4843</td><td colspan="6"></td></tr><tr><td class="h">4844 - 4848</td><td colspan="5"></td><td class="s"><pre>=head2 _log

Log a message if verbose mode is on.

=cut</pre></td></tr>
<tr><td class="h">4849</td><td colspan="6"></td></tr><tr><td class="h">4850</td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _log {</td></tr>
<tr><td class="h">4851</td><td><div class="c3">140</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--subroutine.html#L4851">140</a></div></td><td><div>103</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($self, $msg) = @_;</td></tr>
<tr><td class="h">4852</td><td><div class="c3">140</div></td><td><div class="c0" title="-/F"><a href="blib-lib-App-Test-Generator-SchemaExtractor-pm--branch.html#L4852">50</a></div></td><td></td><td></td><td><div>229</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print &quot;$msg\n&quot; if $self-&gt;{verbose};</td></tr>
<tr><td class="h">4853</td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">4854</td><td colspan="6"></td></tr><tr><td class="h">4855 - 4881</td><td colspan="5"></td><td class="s"><pre>=head1 NOTES

This is pre-pre-alpha proof of concept code.
Nevertheless,
it is useful for creating a template which you can modify to create a working schema to pass into L&lt;App::Test::Generator&gt;.

=head1 SEE ALSO

=over 4

=item * L&lt;App::Test::Generator&gt; - Generate fuzz and corpus-driven test harnesses

Output from this module serves as input to that module.
So with well-documented code, you can automatically create your tests.

=item * L&lt;App::Test::Generator::Template&gt; - Template of the file of tests created by C&lt;App::Test::Generator&gt;

=back

=head1 AUTHOR

Nigel Horne, C&lt;&lt; &lt;njh at nigelhorne.com&gt; &gt;&gt;

Portions of this module&#39;s initial design and documentation were created with the
assistance of AI.

=cut</pre></td></tr>
<tr><td class="h">4882</td><td colspan="6"></td></tr><tr><td class="h">4883</td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
